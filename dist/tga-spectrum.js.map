{"version":3,"file":"tga-spectrum.js","sources":["../node_modules/common-spectrum/src/AnalysesManager.js","../node_modules/ml-array-normed/node_modules/is-any-array/src/index.js","../node_modules/is-any-array/src/index.js","../node_modules/ml-array-max/lib-es6/index.js","../node_modules/ml-array-sum/lib-es6/index.js","../node_modules/ml-array-normed/lib-es6/index.js","../node_modules/ml-array-min/lib-es6/index.js","../node_modules/ml-array-rescale/lib-es6/index.js","../node_modules/ml-array-sequential-fill/lib-es6/index.js","../node_modules/ml-zones/src/normalize.js","../node_modules/ml-zones/src/invert.js","../node_modules/ml-zones/src/zonesWithPoints.js","../node_modules/ml-array-xy-equally-spaced/src/integral.js","../node_modules/ml-array-xy-equally-spaced/src/equallySpacedSmooth.js","../node_modules/ml-array-xy-equally-spaced/src/equallySpacedSlot.js","../node_modules/ml-array-xy-equally-spaced/src/index.js","../node_modules/ml-array-xy-filter-x/src/getZones.js","../node_modules/ml-array-xy-filter-x/src/index.js","../node_modules/ml-matrix/src/util.js","../node_modules/ml-matrix/src/stat.js","../node_modules/ml-matrix/src/inspect.js","../node_modules/ml-matrix/src/mathOperations.js","../node_modules/ml-matrix/src/matrix.js","../node_modules/ml-matrix/src/views/base.js","../node_modules/ml-matrix/src/views/transpose.js","../node_modules/ml-matrix/src/wrap/WrapperMatrix2D.js","../node_modules/ml-matrix/src/dc/lu.js","../node_modules/ml-matrix/src/dc/util.js","../node_modules/ml-matrix/src/dc/qr.js","../node_modules/ml-matrix/src/dc/svd.js","../node_modules/ml-matrix/src/decompositions.js","../node_modules/ml-pad-array/src/index.js","../node_modules/ml-savitzky-golay/src/index.js","../node_modules/median-quickselect/lib/median-quickselect.min.js","../node_modules/ml-array-median/lib-es6/index.js","../node_modules/ml-spectra-processing/src/x/xDivide.js","../node_modules/object-keys/isArguments.js","../node_modules/object-keys/implementation.js","../node_modules/object-keys/index.js","../node_modules/utils-copy-error/lib/copy.js","../node_modules/utils-copy/lib/typedarrays.js","../node_modules/d3-array/build/d3-array.js","../node_modules/ml-spectra-processing/src/x/xSubtract.js","../node_modules/ml-stat/array.js","../node_modules/common-spectrum/src/util/getNormalized.js","../node_modules/common-spectrum/src/Analysis.js","../node_modules/jcampconverter/src/complexChromatogram.js","../node_modules/jcampconverter/src/convertToFloatArray.js","../node_modules/jcampconverter/src/parse/fastParseXYData.js","../node_modules/jcampconverter/src/parse/parsePeakTable.js","../node_modules/jcampconverter/src/parse/parseXYA.js","../node_modules/jcampconverter/src/2d/convertTo3DZ.js","../node_modules/jcampconverter/src/2d/generateContourLines.js","../node_modules/jcampconverter/src/2d/add2D.js","../node_modules/jcampconverter/src/profiling.js","../node_modules/jcampconverter/src/simpleChromatogram.js","../node_modules/jcampconverter/src/postProcessing.js","../node_modules/jcampconverter/src/prepareSpectrum.js","../node_modules/jcampconverter/src/convert.js","../node_modules/common-spectrum/src/from/fromJcamp.js","../node_modules/common-spectrum/src/jsgraph/addStyle.js","../node_modules/common-spectrum/src/jsgraph/colors.js","../node_modules/common-spectrum/src/jsgraph/getJSGraph.js","../node_modules/common-spectrum/src/jsgraph/getNormalizationAnnotations.js","../node_modules/ml-xy-convert/src/from.js","../node_modules/ml-xy-convert/src/to.js","../node_modules/ml-xy-convert/src/index.js","../node_modules/convert-to-jcamp/src/creator.js","../node_modules/convert-to-jcamp/src/index.js","../node_modules/common-spectrum/src/to/toJcamp.js","../node_modules/common-spectrum/src/index.js","../src/from/parsePerkinElmer.js","../src/from/fromPerkinElmer.js","../node_modules/papaparse/papaparse.min.js","../src/from/fromPerkinElmerCSV.js","../src/index.js"],"sourcesContent":["export class AnalysesManager {\n  constructor() {\n    this.analyses = [];\n  }\n\n  addAnalysis(analysis) {\n    let index = this.getAnalysisIndex(analysis.id);\n    if (index === undefined) {\n      this.analyses.push(analysis);\n    } else {\n      this.analyses[index] = analysis;\n    }\n  }\n\n  getAnalyses(options = {}) {\n    const { ids } = options;\n    let analyses = [];\n    for (const analysis of this.analyses) {\n      if (!ids || ids.includes(analysis.id)) {\n        analyses.push(analysis);\n      }\n    }\n    return analyses;\n  }\n\n  /**\n   * Remove the analysis from the AnalysesManager for the specified id\n   * @param {string} id\n   */\n  removeAnalysis(id) {\n    let index = this.getAnalysisIndex(id);\n    if (index === undefined) return undefined;\n    return this.analyses.splice(index, 1);\n  }\n\n  /**\n   * Returns the index of the analysis in the analyses array\n   * @param {string} id\n   * @returns {number}\n   */\n  getAnalysisIndex(id) {\n    if (!id) return undefined;\n    for (let i = 0; i < this.analyses.length; i++) {\n      let analysis = this.analyses[i];\n      if (analysis.id === id) return i;\n    }\n    return undefined;\n  }\n\n  /**\n   * Checks if the ID of an analysis exists in the AnalysesManager\n   * @param {string} id\n   */\n  includes(id) {\n    return !isNaN(this.getAnalysisIndex(id));\n  }\n}\n","const toString = Object.prototype.toString;\n\nexport default function isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n","'use strict';\n\nconst toString = Object.prototype.toString;\n\nfunction isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n\nmodule.exports = isAnyArray;\n","import isArray from 'is-any-array';\n\n/**\n * Computes the maximum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction max(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var maxValue = input[0];\n\n  for (var i = 1; i < input.length; i++) {\n    if (input[i] > maxValue) maxValue = input[i];\n  }\n\n  return maxValue;\n}\n\nexport default max;\n","import isArray from 'is-any-array';\n\n/**\n * Computes the mean of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction sum(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var sumValue = 0;\n\n  for (var i = 0; i < input.length; i++) {\n    sumValue += input[i];\n  }\n\n  return sumValue;\n}\n\nexport default sum;\n","import isArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport sum from 'ml-array-sum';\n\n/**\n * Computes the norm of the given values\n * @param {Array<number>} input\n * @param {object} [options={}]\n * @param {string} [options.algorithm='absolute'] absolute, sum or max\n * @param {number} [options.maxValue=1] new max value for algo max\n * @param {number} [options.sumValue=1] new max value for algo absolute and sum\n * @param {Array} [options.output=[]] specify the output array, can be the input array for in place modification\n * @return {number}\n */\n\nfunction norm(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$algorithm = options.algorithm,\n      algorithm = _options$algorithm === void 0 ? 'absolute' : _options$algorithm,\n      _options$sumValue = options.sumValue,\n      sumValue = _options$sumValue === void 0 ? 1 : _options$sumValue,\n      _options$maxValue = options.maxValue,\n      maxValue = _options$maxValue === void 0 ? 1 : _options$maxValue;\n\n  if (!isArray(input)) {\n    throw new Error('input must be an array');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  if (input.length === 0) {\n    throw new Error('input must not be empty');\n  }\n\n  switch (algorithm.toLowerCase()) {\n    case 'absolute':\n      {\n        var absoluteSumValue = absoluteSum(input) / sumValue;\n        if (absoluteSumValue === 0) return input.slice(0);\n\n        for (var i = 0; i < input.length; i++) {\n          output[i] = input[i] / absoluteSumValue;\n        }\n\n        return output;\n      }\n\n    case 'max':\n      {\n        var currentMaxValue = max(input);\n        if (currentMaxValue === 0) return input.slice(0);\n        var factor = maxValue / currentMaxValue;\n\n        for (var _i = 0; _i < input.length; _i++) {\n          output[_i] = input[_i] * factor;\n        }\n\n        return output;\n      }\n\n    case 'sum':\n      {\n        var sumFactor = sum(input) / sumValue;\n        if (sumFactor === 0) return input.slice(0);\n\n        for (var _i2 = 0; _i2 < input.length; _i2++) {\n          output[_i2] = input[_i2] / sumFactor;\n        }\n\n        return output;\n      }\n\n    default:\n      throw new Error(\"norm: unknown algorithm: \".concat(algorithm));\n  }\n}\n\nfunction absoluteSum(input) {\n  var sumValue = 0;\n\n  for (var i = 0; i < input.length; i++) {\n    sumValue += Math.abs(input[i]);\n  }\n\n  return sumValue;\n}\n\nexport default norm;\n","import isArray from 'is-any-array';\n\n/**\n * Computes the minimum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction min(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var minValue = input[0];\n\n  for (var i = 1; i < input.length; i++) {\n    if (input[i] < minValue) minValue = input[i];\n  }\n\n  return minValue;\n}\n\nexport default min;\n","import isArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport min from 'ml-array-min';\n\n/**\n *\n * @param {Array} input\n * @param {object} [options={}]\n * @param {Array} [options.output=[]] specify the output array, can be the input array for in place modification\n */\n\nfunction rescale(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  } else if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  var currentMin = min(input);\n  var currentMax = max(input);\n\n  if (currentMin === currentMax) {\n    throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n  }\n\n  var _options$min = options.min,\n      minValue = _options$min === void 0 ? options.autoMinMax ? currentMin : 0 : _options$min,\n      _options$max = options.max,\n      maxValue = _options$max === void 0 ? options.autoMinMax ? currentMax : 1 : _options$max;\n\n  if (minValue >= maxValue) {\n    throw new RangeError('min option must be smaller than max option');\n  }\n\n  var factor = (maxValue - minValue) / (currentMax - currentMin);\n\n  for (var i = 0; i < input.length; i++) {\n    output[i] = (input[i] - currentMin) * factor + minValue;\n  }\n\n  return output;\n}\n\nexport default rescale;\n","import isArray from 'is-any-array';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n/**\n * Fill an array with sequential numbers\n * @param {Array<number>} [input] - optional destination array (if not provided a new array will be created)\n * @param {object} [options={}]\n * @param {number} [options.from=0] - first value in the array\n * @param {number} [options.to=10] - last value in the array\n * @param {number} [options.size=input.length] - size of the array (if not provided calculated from step)\n * @param {number} [options.step] - if not provided calculated from size\n * @return {Array<number>}\n */\n\nfunction sequentialFill() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (_typeof(input) === 'object' && !isArray(input)) {\n    options = input;\n    input = [];\n  }\n\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  var _options = options,\n      _options$from = _options.from,\n      from = _options$from === void 0 ? 0 : _options$from,\n      _options$to = _options.to,\n      to = _options$to === void 0 ? 10 : _options$to,\n      _options$size = _options.size,\n      size = _options$size === void 0 ? input.length : _options$size,\n      step = _options.step;\n\n  if (size && step) {\n    throw new Error('step is defined by the array size');\n  }\n\n  if (!size) {\n    if (step) {\n      size = Math.floor((to - from) / step) + 1;\n    } else {\n      size = to - from + 1;\n    }\n  }\n\n  if (!step && size) {\n    step = (to - from) / (size - 1);\n  }\n\n  if (Array.isArray(input)) {\n    input.length = 0; // only works with normal array\n\n    for (var i = 0; i < size; i++) {\n      input.push(from);\n      from += step;\n    }\n  } else {\n    if (input.length !== size) {\n      throw new Error('sequentialFill typed array must have the correct length');\n    }\n\n    for (var _i = 0; _i < size; _i++) {\n      input[_i] = from;\n      from += step;\n    }\n  }\n\n  return input;\n}\n\nexport default sequentialFill;\n","/**\n * Normalize an array of zones:\n * - ensure than from < to\n * - merge overlapping zones\n *\n * The method will always check if from if lower than to and will swap if required.\n * @param {Array} [zones=[]]\n * @param {object} [options={}]\n * @param {number} [options.from=Number.NEGATIVE_INFINITY] Specify min value of a zone\n * @param {number} [options.to=Number.POSITIVE_INFINITY] Specify max value of a zone\n */\n\nexport function normalize(zones = [], options = {}) {\n  if (zones.length === 0) return [];\n  let {\n    from = Number.NEGATIVE_INFINITY,\n    to = Number.POSITIVE_INFINITY,\n  } = options;\n  if (from > to) [from, to] = [to, from];\n\n  zones = JSON.parse(JSON.stringify(zones)).map((zone) =>\n    zone.from > zone.to ? { from: zone.to, to: zone.from } : zone,\n  );\n  zones = zones.sort((a, b) => {\n    if (a.from !== b.from) return a.from - b.from;\n    return a.to - b.to;\n  });\n\n  zones.forEach((zone) => {\n    if (from > zone.from) zone.from = from;\n    if (to < zone.to) zone.to = to;\n  });\n\n  zones = zones.filter((zone) => zone.from <= zone.to);\n  if (zones.length === 0) return [];\n\n  let currentZone = zones[0];\n  let result = [currentZone];\n  for (let i = 1; i < zones.length; i++) {\n    let zone = zones[i];\n    if (zone.from <= currentZone.to) {\n      currentZone.to = zone.to;\n    } else {\n      currentZone = zone;\n      result.push(currentZone);\n    }\n  }\n  return result;\n}\n","import { normalize } from './normalize';\n\n/**\n * Convert an array of exclusions and keep only from / to\n *\n * The method will always check if from if lower than to and will swap if required.\n * @param {Array} [exclusions=[]]\n * @param {object} [options={}]\n * @param {number} [options.from=Number.NEGATIVE_INFINITY] Specify min value of zones (after inversion)\n * @param {number} [options.to=Number.POSITIVE_INFINITY] Specify max value of zones (after inversion)\n */\n\nexport function invert(exclusions = [], options = {}) {\n  let {\n    from = Number.NEGATIVE_INFINITY,\n    to = Number.POSITIVE_INFINITY,\n  } = options;\n  if (from > to) [from, to] = [to, from];\n\n  exclusions = normalize(exclusions, { from, to });\n  if (exclusions.length === 0) return [{ from, to }];\n\n  let zones = [];\n  for (let i = 0; i < exclusions.length; i++) {\n    let exclusion = exclusions[i];\n    let nextExclusion = exclusions[i + 1];\n    if (i === 0) {\n      if (exclusion.from > from) {\n        zones.push({ from, to: exclusion.from });\n      }\n    }\n    if (i === exclusions.length - 1) {\n      if (exclusion.to < to) {\n        zones.push({ from: exclusion.to, to });\n      }\n    } else {\n      zones.push({ from: exclusion.to, to: nextExclusion.from });\n    }\n  }\n\n  return zones;\n}\n","import { normalize } from './normalize';\n\n/**\n * Add the number of points per zone to reach a specified total\n * @param {Array} [zones=[]]\n * @param {number} [numberOfPoints] Total number of points to distribute between zones\n * @param {object} [options={}]\n * @param {number} [options.from=Number.NEGATIVE_INFINITY] Specify min value of a zone\n * @param {number} [options.to=Number.POSITIVE_INFINITY] Specify max value of a zone\n */\n\nexport function zonesWithPoints(zones, numberOfPoints, options = {}) {\n  if (zones.length === 0) return zones;\n  zones = normalize(zones, options);\n\n  const totalSize = zones.reduce((previous, current) => {\n    return previous + (current.to - current.from);\n  }, 0);\n\n  let unitsPerPoint = totalSize / numberOfPoints;\n  let currentTotal = 0;\n  for (let i = 0; i < zones.length - 1; i++) {\n    let zone = zones[i];\n    zone.numberOfPoints = Math.min(\n      Math.round((zone.to - zone.from) / unitsPerPoint),\n      numberOfPoints - currentTotal,\n    );\n    currentTotal += zone.numberOfPoints;\n  }\n\n  zones[zones.length - 1].numberOfPoints = numberOfPoints - currentTotal;\n\n  return zones;\n}\n","/**\n * Function that calculates the integral of the line between two\n * x-coordinates, given the slope and intercept of the line.\n * @param {number} x0\n * @param {number} x1\n * @param {number} slope\n * @param {number} intercept\n * @return {number} integral value.\n */\nexport default function integral(x0, x1, slope, intercept) {\n  return (\n    0.5 * slope * x1 * x1 +\n    intercept * x1 -\n    (0.5 * slope * x0 * x0 + intercept * x0)\n  );\n}\n","import integral from './integral';\n\n/**\n * function that retrieves the getEquallySpacedData with the variant \"smooth\"\n *\n * @param {Array<number>} x\n * @param {Array<number>} y\n * @param {number} from - Initial point\n * @param {number} to - Final point\n * @param {number} numberOfPoints\n * @return {Array} - Array of y's equally spaced with the variant \"smooth\"\n */\nexport default function equallySpacedSmooth(x, y, from, to, numberOfPoints) {\n  let xLength = x.length;\n\n  let step = (to - from) / (numberOfPoints - 1);\n  let halfStep = step / 2;\n\n  let output = new Array(numberOfPoints);\n\n  let initialOriginalStep = x[1] - x[0];\n  let lastOriginalStep = x[xLength - 1] - x[xLength - 2];\n\n  // Init main variables\n  let min = from - halfStep;\n  let max = from + halfStep;\n\n  let previousX = Number.MIN_VALUE;\n  let previousY = 0;\n  let nextX = x[0] - initialOriginalStep;\n  let nextY = 0;\n\n  let currentValue = 0;\n  let slope = 0;\n  let intercept = 0;\n  let sumAtMin = 0;\n  let sumAtMax = 0;\n\n  let i = 0; // index of input\n  let j = 0; // index of output\n\n  function getSlope(x0, y0, x1, y1) {\n    return (y1 - y0) / (x1 - x0);\n  }\n\n  let add = 0;\n  main: while (true) {\n    if (previousX <= min && min <= nextX) {\n      add = integral(0, min - previousX, slope, previousY);\n      sumAtMin = currentValue + add;\n    }\n\n    while (nextX - max >= 0) {\n      // no overlap with original point, just consume current value\n      add = integral(0, max - previousX, slope, previousY);\n      sumAtMax = currentValue + add;\n\n      output[j++] = (sumAtMax - sumAtMin) / step;\n\n      if (j === numberOfPoints) {\n        break main;\n      }\n\n      min = max;\n      max += step;\n      sumAtMin = sumAtMax;\n    }\n\n    currentValue += integral(previousX, nextX, slope, intercept);\n\n    previousX = nextX;\n    previousY = nextY;\n\n    if (i < xLength) {\n      nextX = x[i];\n      nextY = y[i];\n      i++;\n    } else if (i === xLength) {\n      nextX += lastOriginalStep;\n      nextY = 0;\n    }\n\n    slope = getSlope(previousX, previousY, nextX, nextY);\n    intercept = -slope * previousX + previousY;\n  }\n\n  return output;\n}\n","/**\n * function that retrieves the getEquallySpacedData with the variant \"slot\"\n *\n * @param {Array<number>} x\n * @param {Array<number>} y\n * @param {number} from - Initial point\n * @param {number} to - Final point\n * @param {number} numberOfPoints\n * @return {Array} - Array of y's equally spaced with the variant \"slot\"\n */\nexport default function equallySpacedSlot(x, y, from, to, numberOfPoints) {\n  let xLength = x.length;\n\n  let step = (to - from) / (numberOfPoints - 1);\n  let halfStep = step / 2;\n  let lastStep = x[x.length - 1] - x[x.length - 2];\n\n  let start = from - halfStep;\n  let output = new Array(numberOfPoints);\n\n  // Init main variables\n  let min = start;\n  let max = start + step;\n\n  let previousX = -Number.MAX_VALUE;\n  let previousY = 0;\n  let nextX = x[0];\n  let nextY = y[0];\n  let frontOutsideSpectra = 0;\n  let backOutsideSpectra = true;\n\n  let currentValue = 0;\n\n  // for slot algorithm\n  let currentPoints = 0;\n\n  let i = 1; // index of input\n  let j = 0; // index of output\n\n  main: while (true) {\n    if (previousX >= nextX) throw new Error('x must be an increasing serie');\n    while (previousX - max > 0) {\n      // no overlap with original point, just consume current value\n      if (backOutsideSpectra) {\n        currentPoints++;\n        backOutsideSpectra = false;\n      }\n\n      output[j] = currentPoints <= 0 ? 0 : currentValue / currentPoints;\n      j++;\n\n      if (j === numberOfPoints) {\n        break main;\n      }\n\n      min = max;\n      max += step;\n      currentValue = 0;\n      currentPoints = 0;\n    }\n\n    if (previousX > min) {\n      currentValue += previousY;\n      currentPoints++;\n    }\n\n    if (previousX === -Number.MAX_VALUE || frontOutsideSpectra > 1) {\n      currentPoints--;\n    }\n\n    previousX = nextX;\n    previousY = nextY;\n\n    if (i < xLength) {\n      nextX = x[i];\n      nextY = y[i];\n      i++;\n    } else {\n      nextX += lastStep;\n      nextY = 0;\n      frontOutsideSpectra++;\n    }\n  }\n\n  return output;\n}\n","import sequentialFill from 'ml-array-sequential-fill';\nimport { zonesWithPoints, invert } from 'ml-zones';\n\nimport equallySpacedSmooth from './equallySpacedSmooth';\nimport equallySpacedSlot from './equallySpacedSlot';\n\n/**\n * Function that returns a Number array of equally spaced numberOfPoints\n * containing a representation of intensities of the spectra arguments x\n * and y.\n *\n * The options parameter contains an object in the following form:\n * from: starting point\n * to: last point\n * numberOfPoints: number of points between from and to\n * variant: \"slot\" or \"smooth\" - smooth is the default option\n *\n * The slot variant consist that each point in the new array is calculated\n * averaging the existing points between the slot that belongs to the current\n * value. The smooth variant is the same but takes the integral of the range\n * of the slot and divide by the step size between two points in the new array.\n *\n * If exclusions zone are present, zones are ignored !\n * @param {object} [arrayXY={}] - object containing 2 properties x and y (both an array)\n * @param {object} [options={}]\n * @param {number} [options.from=x[0]]\n * @param {number} [options.to=x[x.length-1]]\n * @param {string} [options.variant='smooth']\n * @param {number} [options.numberOfPoints=100]\n * @param {Array} [options.exclusions=[]] array of from / to that should be skipped for the generation of the points\n * @param {Array} [options.zones=[]] array of from / to that should be kept\n * @return {object<x: Array, y:Array>} new object with x / y array with the equally spaced data.\n */\n\nexport default function equallySpaced(arrayXY = {}, options = {}) {\n  let { x, y } = arrayXY;\n  let xLength = x.length;\n  let reverse = false;\n  if (x.length > 1 && x[0] > x[1]) {\n    x = x.slice().reverse();\n    y = y.slice().reverse();\n    reverse = true;\n  }\n\n  let {\n    from = x[0],\n    to = x[xLength - 1],\n    variant = 'smooth',\n    numberOfPoints = 100,\n    exclusions = [],\n    zones = [],\n  } = options;\n\n  if (xLength !== y.length) {\n    throw new RangeError(\"the x and y vector doesn't have the same size.\");\n  }\n\n  if (typeof from !== 'number' || isNaN(from)) {\n    throw new RangeError(\"'from' option must be a number\");\n  }\n\n  if (typeof to !== 'number' || isNaN(to)) {\n    throw new RangeError(\"'to' option must be a number\");\n  }\n\n  if (typeof numberOfPoints !== 'number' || isNaN(numberOfPoints)) {\n    throw new RangeError(\"'numberOfPoints' option must be a number\");\n  }\n\n  if (numberOfPoints < 2) {\n    throw new RangeError(\"'numberOfPoints' option must be greater than 1\");\n  }\n\n  if (zones.length === 0) {\n    zones = invert(exclusions, { from, to });\n  }\n\n  zones = zonesWithPoints(zones, numberOfPoints, { from, to });\n\n  let xResult = [];\n  let yResult = [];\n  for (let zone of zones) {\n    let zoneResult = processZone(\n      x,\n      y,\n      zone.from,\n      zone.to,\n      zone.numberOfPoints,\n      variant,\n      reverse,\n    );\n\n    xResult = xResult.concat(zoneResult.x);\n    yResult = yResult.concat(zoneResult.y);\n  }\n  if (reverse) {\n    if (from < to) {\n      return { x: xResult.reverse(), y: yResult.reverse() };\n    } else {\n      return { x: xResult, y: yResult };\n    }\n  } else {\n    if (from < to) {\n      return { x: xResult, y: yResult };\n    } else {\n      return { x: xResult.reverse(), y: yResult.reverse() };\n    }\n  }\n}\n\nfunction processZone(x, y, from, to, numberOfPoints, variant) {\n  if (numberOfPoints < 1) {\n    throw new RangeError('the number of points must be at least 1');\n  }\n\n  let output =\n    variant === 'slot'\n      ? equallySpacedSlot(x, y, from, to, numberOfPoints)\n      : equallySpacedSmooth(x, y, from, to, numberOfPoints);\n\n  return {\n    x: sequentialFill({\n      from,\n      to,\n      size: numberOfPoints,\n    }),\n    y: output,\n  };\n}\n","export default function getZones(from, to, exclusions = []) {\n  if (from > to) {\n    [from, to] = [to, from];\n  }\n\n  // in exclusions from and to have to be defined\n  exclusions = exclusions.filter(\n    (exclusion) => exclusion.from !== undefined && exclusion.to !== undefined\n  );\n\n  exclusions = JSON.parse(JSON.stringify(exclusions));\n  // we ensure that from before to\n  exclusions.forEach((exclusion) => {\n    if (exclusion.from > exclusion.to) {\n      [exclusion.to, exclusion.from] = [exclusion.from, exclusion.to];\n    }\n  });\n\n  exclusions.sort((a, b) => a.from - b.from);\n\n  // we will rework the exclusions in order to remove overlap and outside range (from / to)\n  exclusions.forEach((exclusion) => {\n    if (exclusion.from < from) exclusion.from = from;\n    if (exclusion.to > to) exclusion.to = to;\n  });\n  for (let i = 0; i < exclusions.length - 1; i++) {\n    if (exclusions[i].to > exclusions[i + 1].from) {\n      exclusions[i].to = exclusions[i + 1].from;\n    }\n  }\n  exclusions = exclusions.filter((exclusion) => exclusion.from < exclusion.to);\n\n  if (!exclusions || exclusions.length === 0) {\n    return [{ from, to }];\n  }\n\n  let zones = [];\n  let currentFrom = from;\n  for (let exclusion of exclusions) {\n    if (currentFrom < exclusion.from) {\n      zones.push({\n        from: currentFrom,\n        to: exclusion.from\n      });\n    }\n\n    currentFrom = exclusion.to;\n  }\n  if (currentFrom < to) {\n    zones.push({\n      from: currentFrom,\n      to: to\n    });\n  }\n\n  return zones;\n}\n","import getZones from './getZones';\n\n/**\n * Filter an array x/y based on various criteria\n * x points are expected to be sorted\n *\n * @param {object} points\n * @param {object} [options={}]\n * @param {array} [options.from]\n * @param {array} [options.to]\n * @param {array} [options.exclusions=[]]\n * @return {{x: Array<number>, y: Array<number>}}\n */\n\nexport default function filterX(points, options = {}) {\n  const { x, y } = points;\n  const { from = x[0], to = x[x.length - 1], exclusions = [] } = options;\n\n  let zones = getZones(from, to, exclusions);\n\n\n  let currentZoneIndex = 0;\n  let newX = [];\n  let newY = [];\n  let position = 0;\n  while (position < x.length) {\n    if (\n      x[position] <= zones[currentZoneIndex].to &&\n      x[position] >= zones[currentZoneIndex].from\n    ) {\n      newX.push(x[position]);\n      newY.push(y[position]);\n    } else {\n      if (x[position] > zones[currentZoneIndex].to) {\n        currentZoneIndex++;\n        if (!zones[currentZoneIndex]) break;\n      }\n    }\n    position++;\n  }\n\n  return {\n    x: newX,\n    y: newY\n  };\n}\n","/**\n * @private\n * Check that a row index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkRowIndex(matrix, index, outer) {\n  let max = outer ? matrix.rows : matrix.rows - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Row index out of range');\n  }\n}\n\n/**\n * @private\n * Check that a column index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkColumnIndex(matrix, index, outer) {\n  let max = outer ? matrix.columns : matrix.columns - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Column index out of range');\n  }\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkRowVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.columns) {\n    throw new RangeError(\n      'vector size must be the same as the number of columns',\n    );\n  }\n  return vector;\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkColumnVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.rows) {\n    throw new RangeError('vector size must be the same as the number of rows');\n  }\n  return vector;\n}\n\nexport function checkIndices(matrix, rowIndices, columnIndices) {\n  return {\n    row: checkRowIndices(matrix, rowIndices),\n    column: checkColumnIndices(matrix, columnIndices),\n  };\n}\n\nexport function checkRowIndices(matrix, rowIndices) {\n  if (typeof rowIndices !== 'object') {\n    throw new TypeError('unexpected type for row indices');\n  }\n\n  let rowOut = rowIndices.some((r) => {\n    return r < 0 || r >= matrix.rows;\n  });\n\n  if (rowOut) {\n    throw new RangeError('row indices are out of range');\n  }\n\n  if (!Array.isArray(rowIndices)) rowIndices = Array.from(rowIndices);\n\n  return rowIndices;\n}\n\nexport function checkColumnIndices(matrix, columnIndices) {\n  if (typeof columnIndices !== 'object') {\n    throw new TypeError('unexpected type for column indices');\n  }\n\n  let columnOut = columnIndices.some((c) => {\n    return c < 0 || c >= matrix.columns;\n  });\n\n  if (columnOut) {\n    throw new RangeError('column indices are out of range');\n  }\n  if (!Array.isArray(columnIndices)) columnIndices = Array.from(columnIndices);\n\n  return columnIndices;\n}\n\nexport function checkRange(matrix, startRow, endRow, startColumn, endColumn) {\n  if (arguments.length !== 5) {\n    throw new RangeError('expected 4 arguments');\n  }\n  checkNumber('startRow', startRow);\n  checkNumber('endRow', endRow);\n  checkNumber('startColumn', startColumn);\n  checkNumber('endColumn', endColumn);\n  if (\n    startRow > endRow ||\n    startColumn > endColumn ||\n    startRow < 0 ||\n    startRow >= matrix.rows ||\n    endRow < 0 ||\n    endRow >= matrix.rows ||\n    startColumn < 0 ||\n    startColumn >= matrix.columns ||\n    endColumn < 0 ||\n    endColumn >= matrix.columns\n  ) {\n    throw new RangeError('Submatrix indices are out of range');\n  }\n}\n\nexport function newArray(length, value = 0) {\n  let array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(value);\n  }\n  return array;\n}\n\nfunction checkNumber(name, value) {\n  if (typeof value !== 'number') {\n    throw new TypeError(`${name} must be a number`);\n  }\n}\n","import { newArray } from './util';\n\nexport function sumByRow(matrix) {\n  let sum = newArray(matrix.rows);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function sumByColumn(matrix) {\n  let sum = newArray(matrix.columns);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function sumAll(matrix) {\n  let v = 0;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v += matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nexport function productByRow(matrix) {\n  let sum = newArray(matrix.rows, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function productByColumn(matrix) {\n  let sum = newArray(matrix.columns, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function productAll(matrix) {\n  let v = 1;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v *= matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nexport function varianceByRow(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let i = 0; i < rows; i++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean[i];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / cols) / (cols - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / cols) / cols);\n    }\n  }\n  return variance;\n}\n\nexport function varianceByColumn(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let j = 0; j < cols; j++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let i = 0; i < rows; i++) {\n      x = matrix.get(i, j) - mean[j];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / rows) / (rows - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / rows) / rows);\n    }\n  }\n  return variance;\n}\n\nexport function varianceAll(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const size = rows * cols;\n\n  let sum1 = 0;\n  let sum2 = 0;\n  let x = 0;\n  for (let i = 0; i < rows; i++) {\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean;\n      sum1 += x;\n      sum2 += x * x;\n    }\n  }\n  if (unbiased) {\n    return (sum2 - (sum1 * sum1) / size) / (size - 1);\n  } else {\n    return (sum2 - (sum1 * sum1) / size) / size;\n  }\n}\n\nexport function centerByRow(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[i]);\n    }\n  }\n}\n\nexport function centerByColumn(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[j]);\n    }\n  }\n}\n\nexport function centerAll(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean);\n    }\n  }\n}\n\nexport function getScaleByRow(matrix) {\n  const scale = [];\n  for (let i = 0; i < matrix.rows; i++) {\n    let sum = 0;\n    for (let j = 0; j < matrix.columns; j++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.columns - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nexport function scaleByRow(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[i]);\n    }\n  }\n}\n\nexport function getScaleByColumn(matrix) {\n  const scale = [];\n  for (let j = 0; j < matrix.columns; j++) {\n    let sum = 0;\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.rows - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nexport function scaleByColumn(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[j]);\n    }\n  }\n}\n\nexport function getScaleAll(matrix) {\n  const divider = matrix.size - 1;\n  let sum = 0;\n  for (let j = 0; j < matrix.columns; j++) {\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / divider;\n    }\n  }\n  return Math.sqrt(sum);\n}\n\nexport function scaleAll(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale);\n    }\n  }\n}\n","export function inspectMatrix() {\n  const indent = ' '.repeat(2);\n  const indentData = ' '.repeat(4);\n  return `${this.constructor.name} {\n${indent}[\n${indentData}${inspectData(this, indentData)}\n${indent}]\n${indent}rows: ${this.rows}\n${indent}columns: ${this.columns}\n}`;\n}\n\nconst maxRows = 15;\nconst maxColumns = 10;\nconst maxNumSize = 8;\n\nfunction inspectData(matrix, indent) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j)));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indent}`);\n}\n\nfunction formatNumber(num) {\n  const numStr = String(num);\n  if (numStr.length <= maxNumSize) {\n    return numStr.padEnd(maxNumSize, ' ');\n  }\n  const precise = num.toPrecision(maxNumSize - 2);\n  if (precise.length <= maxNumSize) {\n    return precise;\n  }\n  const exponential = num.toExponential(maxNumSize - 2);\n  const eIndex = exponential.indexOf('e');\n  const e = exponential.substring(eIndex);\n  return exponential.substring(0, maxNumSize - e.length) + e;\n}\n","export function installMathOperations(AbstractMatrix, Matrix) {\n  AbstractMatrix.prototype.add = function add(value) {\n    if (typeof value === 'number') return this.addS(value);\n    return this.addM(value);\n  };\n\n  AbstractMatrix.prototype.addS = function addS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.addM = function addM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.add = function add(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.add(value);\n  };\n\n  AbstractMatrix.prototype.sub = function sub(value) {\n    if (typeof value === 'number') return this.subS(value);\n    return this.subM(value);\n  };\n\n  AbstractMatrix.prototype.subS = function subS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.subM = function subM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sub = function sub(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sub(value);\n  };\n  AbstractMatrix.prototype.subtract = AbstractMatrix.prototype.sub;\n  AbstractMatrix.prototype.subtractS = AbstractMatrix.prototype.subS;\n  AbstractMatrix.prototype.subtractM = AbstractMatrix.prototype.subM;\n  AbstractMatrix.subtract = AbstractMatrix.sub;\n\n  AbstractMatrix.prototype.mul = function mul(value) {\n    if (typeof value === 'number') return this.mulS(value);\n    return this.mulM(value);\n  };\n\n  AbstractMatrix.prototype.mulS = function mulS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.mulM = function mulM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mul = function mul(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mul(value);\n  };\n  AbstractMatrix.prototype.multiply = AbstractMatrix.prototype.mul;\n  AbstractMatrix.prototype.multiplyS = AbstractMatrix.prototype.mulS;\n  AbstractMatrix.prototype.multiplyM = AbstractMatrix.prototype.mulM;\n  AbstractMatrix.multiply = AbstractMatrix.mul;\n\n  AbstractMatrix.prototype.div = function div(value) {\n    if (typeof value === 'number') return this.divS(value);\n    return this.divM(value);\n  };\n\n  AbstractMatrix.prototype.divS = function divS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.divM = function divM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.div = function div(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.div(value);\n  };\n  AbstractMatrix.prototype.divide = AbstractMatrix.prototype.div;\n  AbstractMatrix.prototype.divideS = AbstractMatrix.prototype.divS;\n  AbstractMatrix.prototype.divideM = AbstractMatrix.prototype.divM;\n  AbstractMatrix.divide = AbstractMatrix.div;\n\n  AbstractMatrix.prototype.mod = function mod(value) {\n    if (typeof value === 'number') return this.modS(value);\n    return this.modM(value);\n  };\n\n  AbstractMatrix.prototype.modS = function modS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.modM = function modM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mod = function mod(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mod(value);\n  };\n  AbstractMatrix.prototype.modulus = AbstractMatrix.prototype.mod;\n  AbstractMatrix.prototype.modulusS = AbstractMatrix.prototype.modS;\n  AbstractMatrix.prototype.modulusM = AbstractMatrix.prototype.modM;\n  AbstractMatrix.modulus = AbstractMatrix.mod;\n\n  AbstractMatrix.prototype.and = function and(value) {\n    if (typeof value === 'number') return this.andS(value);\n    return this.andM(value);\n  };\n\n  AbstractMatrix.prototype.andS = function andS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.andM = function andM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.and = function and(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.and(value);\n  };\n\n  AbstractMatrix.prototype.or = function or(value) {\n    if (typeof value === 'number') return this.orS(value);\n    return this.orM(value);\n  };\n\n  AbstractMatrix.prototype.orS = function orS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.orM = function orM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.or = function or(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.or(value);\n  };\n\n  AbstractMatrix.prototype.xor = function xor(value) {\n    if (typeof value === 'number') return this.xorS(value);\n    return this.xorM(value);\n  };\n\n  AbstractMatrix.prototype.xorS = function xorS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.xorM = function xorM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.xor = function xor(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.xor(value);\n  };\n\n  AbstractMatrix.prototype.leftShift = function leftShift(value) {\n    if (typeof value === 'number') return this.leftShiftS(value);\n    return this.leftShiftM(value);\n  };\n\n  AbstractMatrix.prototype.leftShiftS = function leftShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.leftShiftM = function leftShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.leftShift = function leftShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.leftShift(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShift = function signPropagatingRightShift(value) {\n    if (typeof value === 'number') return this.signPropagatingRightShiftS(value);\n    return this.signPropagatingRightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftS = function signPropagatingRightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftM = function signPropagatingRightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.signPropagatingRightShift = function signPropagatingRightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.signPropagatingRightShift(value);\n  };\n\n  AbstractMatrix.prototype.rightShift = function rightShift(value) {\n    if (typeof value === 'number') return this.rightShiftS(value);\n    return this.rightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.rightShiftS = function rightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.rightShiftM = function rightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.rightShift = function rightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.rightShift(value);\n  };\n  AbstractMatrix.prototype.zeroFillRightShift = AbstractMatrix.prototype.rightShift;\n  AbstractMatrix.prototype.zeroFillRightShiftS = AbstractMatrix.prototype.rightShiftS;\n  AbstractMatrix.prototype.zeroFillRightShiftM = AbstractMatrix.prototype.rightShiftM;\n  AbstractMatrix.zeroFillRightShift = AbstractMatrix.rightShift;\n\n  AbstractMatrix.prototype.not = function not() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, ~(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.not = function not(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.not();\n  };\n\n  AbstractMatrix.prototype.abs = function abs() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.abs(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.abs = function abs(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.abs();\n  };\n\n  AbstractMatrix.prototype.acos = function acos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acos = function acos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acos();\n  };\n\n  AbstractMatrix.prototype.acosh = function acosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acosh = function acosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acosh();\n  };\n\n  AbstractMatrix.prototype.asin = function asin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asin = function asin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asin();\n  };\n\n  AbstractMatrix.prototype.asinh = function asinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asinh = function asinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asinh();\n  };\n\n  AbstractMatrix.prototype.atan = function atan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atan = function atan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atan();\n  };\n\n  AbstractMatrix.prototype.atanh = function atanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atanh = function atanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atanh();\n  };\n\n  AbstractMatrix.prototype.cbrt = function cbrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cbrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cbrt = function cbrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cbrt();\n  };\n\n  AbstractMatrix.prototype.ceil = function ceil() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.ceil(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.ceil = function ceil(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.ceil();\n  };\n\n  AbstractMatrix.prototype.clz32 = function clz32() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.clz32(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.clz32 = function clz32(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.clz32();\n  };\n\n  AbstractMatrix.prototype.cos = function cos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cos = function cos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cos();\n  };\n\n  AbstractMatrix.prototype.cosh = function cosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cosh = function cosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cosh();\n  };\n\n  AbstractMatrix.prototype.exp = function exp() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.exp(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.exp = function exp(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.exp();\n  };\n\n  AbstractMatrix.prototype.expm1 = function expm1() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.expm1(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.expm1 = function expm1(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.expm1();\n  };\n\n  AbstractMatrix.prototype.floor = function floor() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.floor(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.floor = function floor(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.floor();\n  };\n\n  AbstractMatrix.prototype.fround = function fround() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.fround(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.fround = function fround(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.fround();\n  };\n\n  AbstractMatrix.prototype.log = function log() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log = function log(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log();\n  };\n\n  AbstractMatrix.prototype.log1p = function log1p() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log1p(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log1p = function log1p(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log1p();\n  };\n\n  AbstractMatrix.prototype.log10 = function log10() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log10(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log10 = function log10(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log10();\n  };\n\n  AbstractMatrix.prototype.log2 = function log2() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log2(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log2 = function log2(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log2();\n  };\n\n  AbstractMatrix.prototype.round = function round() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.round(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.round = function round(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.round();\n  };\n\n  AbstractMatrix.prototype.sign = function sign() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sign(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sign = function sign(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sign();\n  };\n\n  AbstractMatrix.prototype.sin = function sin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sin = function sin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sin();\n  };\n\n  AbstractMatrix.prototype.sinh = function sinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sinh = function sinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sinh();\n  };\n\n  AbstractMatrix.prototype.sqrt = function sqrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sqrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sqrt = function sqrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sqrt();\n  };\n\n  AbstractMatrix.prototype.tan = function tan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tan = function tan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tan();\n  };\n\n  AbstractMatrix.prototype.tanh = function tanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tanh = function tanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tanh();\n  };\n\n  AbstractMatrix.prototype.trunc = function trunc() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.trunc(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.trunc = function trunc(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.trunc();\n  };\n\n  AbstractMatrix.pow = function pow(matrix, arg0) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.pow(arg0);\n  };\n\n  AbstractMatrix.prototype.pow = function pow(value) {\n    if (typeof value === 'number') return this.powS(value);\n    return this.powM(value);\n  };\n\n  AbstractMatrix.prototype.powS = function powS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), value));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.powM = function powM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), matrix.get(i, j)));\n      }\n    }\n    return this;\n  };\n}\n","import rescale from 'ml-array-rescale';\n\nimport {\n  checkRowVector,\n  checkRowIndex,\n  checkColumnIndex,\n  checkColumnVector,\n  checkRange,\n  checkIndices,\n} from './util';\nimport {\n  sumByRow,\n  sumByColumn,\n  sumAll,\n  productByRow,\n  productByColumn,\n  productAll,\n  varianceByRow,\n  varianceByColumn,\n  varianceAll,\n  centerByRow,\n  centerByColumn,\n  centerAll,\n  scaleByRow,\n  scaleByColumn,\n  scaleAll,\n  getScaleByRow,\n  getScaleByColumn,\n  getScaleAll,\n} from './stat';\nimport { inspectMatrix } from './inspect';\nimport { installMathOperations } from './mathOperations';\n\nexport class AbstractMatrix {\n  static from1DArray(newRows, newColumns, newData) {\n    let length = newRows * newColumns;\n    if (length !== newData.length) {\n      throw new RangeError('data length does not match given dimensions');\n    }\n    let newMatrix = new Matrix(newRows, newColumns);\n    for (let row = 0; row < newRows; row++) {\n      for (let column = 0; column < newColumns; column++) {\n        newMatrix.set(row, column, newData[row * newColumns + column]);\n      }\n    }\n    return newMatrix;\n  }\n\n  static rowVector(newData) {\n    let vector = new Matrix(1, newData.length);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(0, i, newData[i]);\n    }\n    return vector;\n  }\n\n  static columnVector(newData) {\n    let vector = new Matrix(newData.length, 1);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(i, 0, newData[i]);\n    }\n    return vector;\n  }\n\n  static zeros(rows, columns) {\n    return new Matrix(rows, columns);\n  }\n\n  static ones(rows, columns) {\n    return new Matrix(rows, columns).fill(1);\n  }\n\n  static rand(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { random = Math.random } = options;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.set(i, j, random());\n      }\n    }\n    return matrix;\n  }\n\n  static randInt(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1000, random = Math.random } = options;\n    if (!Number.isInteger(min)) throw new TypeError('min must be an integer');\n    if (!Number.isInteger(max)) throw new TypeError('max must be an integer');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let interval = max - min;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        let value = min + Math.round(random() * interval);\n        matrix.set(i, j, value);\n      }\n    }\n    return matrix;\n  }\n\n  static eye(rows, columns, value) {\n    if (columns === undefined) columns = rows;\n    if (value === undefined) value = 1;\n    let min = Math.min(rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, value);\n    }\n    return matrix;\n  }\n\n  static diag(data, rows, columns) {\n    let l = data.length;\n    if (rows === undefined) rows = l;\n    if (columns === undefined) columns = rows;\n    let min = Math.min(l, rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, data[i]);\n    }\n    return matrix;\n  }\n\n  static min(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static max(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new this(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static checkMatrix(value) {\n    return AbstractMatrix.isMatrix(value) ? value : new Matrix(value);\n  }\n\n  static isMatrix(value) {\n    return value != null && value.klass === 'Matrix';\n  }\n\n  get size() {\n    return this.rows * this.columns;\n  }\n\n  apply(callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        callback.call(this, i, j);\n      }\n    }\n    return this;\n  }\n\n  to1DArray() {\n    let array = [];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        array.push(this.get(i, j));\n      }\n    }\n    return array;\n  }\n\n  to2DArray() {\n    let copy = [];\n    for (let i = 0; i < this.rows; i++) {\n      copy.push([]);\n      for (let j = 0; j < this.columns; j++) {\n        copy[i].push(this.get(i, j));\n      }\n    }\n    return copy;\n  }\n\n  toJSON() {\n    return this.to2DArray();\n  }\n\n  isRowVector() {\n    return this.rows === 1;\n  }\n\n  isColumnVector() {\n    return this.columns === 1;\n  }\n\n  isVector() {\n    return this.rows === 1 || this.columns === 1;\n  }\n\n  isSquare() {\n    return this.rows === this.columns;\n  }\n\n  isSymmetric() {\n    if (this.isSquare()) {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j <= i; j++) {\n          if (this.get(i, j) !== this.get(j, i)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  isEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isEchelonForm = false;\n          checked = true;\n        }\n      }\n      i++;\n    }\n    return isEchelonForm;\n  }\n\n  isReducedEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isReducedEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isReducedEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isReducedEchelonForm = false;\n          checked = true;\n        }\n      }\n      for (let k = j + 1; k < this.rows; k++) {\n        if (this.get(i, k) !== 0) {\n          isReducedEchelonForm = false;\n        }\n      }\n      i++;\n    }\n    return isReducedEchelonForm;\n  }\n\n  echelonForm() {\n    let result = this.clone();\n    let h = 0;\n    let k = 0;\n    while (h < result.rows && k < result.columns) {\n      let iMax = h;\n      for (let i = h; i < result.rows; i++) {\n        if (result.get(i, k) > result.get(iMax, k)) {\n          iMax = i;\n        }\n      }\n      if (result.get(iMax, k) === 0) {\n        k++;\n      } else {\n        result.swapRows(h, iMax);\n        let tmp = result.get(h, k);\n        for (let j = k; j < result.columns; j++) {\n          result.set(h, j, result.get(h, j) / tmp);\n        }\n        for (let i = h + 1; i < result.rows; i++) {\n          let factor = result.get(i, k) / result.get(h, k);\n          result.set(i, k, 0);\n          for (let j = k + 1; j < result.columns; j++) {\n            result.set(i, j, result.get(i, j) - result.get(h, j) * factor);\n          }\n        }\n        h++;\n        k++;\n      }\n    }\n    return result;\n  }\n\n  reducedEchelonForm() {\n    let result = this.echelonForm();\n    let m = result.columns;\n    let n = result.rows;\n    let h = n - 1;\n    while (h >= 0) {\n      if (result.maxRow(h) === 0) {\n        h--;\n      } else {\n        let p = 0;\n        let pivot = false;\n        while (p < n && pivot === false) {\n          if (result.get(h, p) === 1) {\n            pivot = true;\n          } else {\n            p++;\n          }\n        }\n        for (let i = 0; i < h; i++) {\n          let factor = result.get(i, p);\n          for (let j = p; j < m; j++) {\n            let tmp = result.get(i, j) - factor * result.get(h, j);\n            result.set(i, j, tmp);\n          }\n        }\n        h--;\n      }\n    }\n    return result;\n  }\n\n  set() {\n    throw new Error('set method is unimplemented');\n  }\n\n  get() {\n    throw new Error('get method is unimplemented');\n  }\n\n  repeat(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { rows = 1, columns = 1 } = options;\n    if (!Number.isInteger(rows) || rows <= 0) {\n      throw new TypeError('rows must be a positive integer');\n    }\n    if (!Number.isInteger(columns) || columns <= 0) {\n      throw new TypeError('columns must be a positive integer');\n    }\n    let matrix = new Matrix(this.rows * rows, this.columns * columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n      }\n    }\n    return matrix;\n  }\n\n  fill(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, value);\n      }\n    }\n    return this;\n  }\n\n  neg() {\n    return this.mulS(-1);\n  }\n\n  getRow(index) {\n    checkRowIndex(this, index);\n    let row = [];\n    for (let i = 0; i < this.columns; i++) {\n      row.push(this.get(index, i));\n    }\n    return row;\n  }\n\n  getRowVector(index) {\n    return Matrix.rowVector(this.getRow(index));\n  }\n\n  setRow(index, array) {\n    checkRowIndex(this, index);\n    array = checkRowVector(this, array);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, array[i]);\n    }\n    return this;\n  }\n\n  swapRows(row1, row2) {\n    checkRowIndex(this, row1);\n    checkRowIndex(this, row2);\n    for (let i = 0; i < this.columns; i++) {\n      let temp = this.get(row1, i);\n      this.set(row1, i, this.get(row2, i));\n      this.set(row2, i, temp);\n    }\n    return this;\n  }\n\n  getColumn(index) {\n    checkColumnIndex(this, index);\n    let column = [];\n    for (let i = 0; i < this.rows; i++) {\n      column.push(this.get(i, index));\n    }\n    return column;\n  }\n\n  getColumnVector(index) {\n    return Matrix.columnVector(this.getColumn(index));\n  }\n\n  setColumn(index, array) {\n    checkColumnIndex(this, index);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, array[i]);\n    }\n    return this;\n  }\n\n  swapColumns(column1, column2) {\n    checkColumnIndex(this, column1);\n    checkColumnIndex(this, column2);\n    for (let i = 0; i < this.rows; i++) {\n      let temp = this.get(i, column1);\n      this.set(i, column1, this.get(i, column2));\n      this.set(i, column2, temp);\n    }\n    return this;\n  }\n\n  addRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[j]);\n      }\n    }\n    return this;\n  }\n\n  subRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[j]);\n      }\n    }\n    return this;\n  }\n\n  mulRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[j]);\n      }\n    }\n    return this;\n  }\n\n  divRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[j]);\n      }\n    }\n    return this;\n  }\n\n  addColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[i]);\n      }\n    }\n    return this;\n  }\n\n  subColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[i]);\n      }\n    }\n    return this;\n  }\n\n  divColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulRow(index, value) {\n    checkRowIndex(this, index);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, this.get(index, i) * value);\n    }\n    return this;\n  }\n\n  mulColumn(index, value) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, this.get(i, index) * value);\n    }\n    return this;\n  }\n\n  max() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  maxIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  min() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  minIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  maxRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  maxRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  minRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  minRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  maxColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  maxColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  minColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  minColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  diag() {\n    let min = Math.min(this.rows, this.columns);\n    let diag = [];\n    for (let i = 0; i < min; i++) {\n      diag.push(this.get(i, i));\n    }\n    return diag;\n  }\n\n  norm(type = 'frobenius') {\n    let result = 0;\n    if (type === 'max') {\n      return this.max();\n    } else if (type === 'frobenius') {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j < this.columns; j++) {\n          result = result + this.get(i, j) * this.get(i, j);\n        }\n      }\n      return Math.sqrt(result);\n    } else {\n      throw new RangeError(`unknown norm type: ${type}`);\n    }\n  }\n\n  cumulativeSum() {\n    let sum = 0;\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        sum += this.get(i, j);\n        this.set(i, j, sum);\n      }\n    }\n    return this;\n  }\n\n  dot(vector2) {\n    if (AbstractMatrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n    let vector1 = this.to1DArray();\n    if (vector1.length !== vector2.length) {\n      throw new RangeError('vectors do not have the same size');\n    }\n    let dot = 0;\n    for (let i = 0; i < vector1.length; i++) {\n      dot += vector1[i] * vector2[i];\n    }\n    return dot;\n  }\n\n  mmul(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.columns;\n\n    let result = new Matrix(m, p);\n\n    let Bcolj = new Float64Array(n);\n    for (let j = 0; j < p; j++) {\n      for (let k = 0; k < n; k++) {\n        Bcolj[k] = other.get(k, j);\n      }\n\n      for (let i = 0; i < m; i++) {\n        let s = 0;\n        for (let k = 0; k < n; k++) {\n          s += this.get(i, k) * Bcolj[k];\n        }\n\n        result.set(i, j, s);\n      }\n    }\n    return result;\n  }\n\n  strassen2x2(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(2, 2);\n    const a11 = this.get(0, 0);\n    const b11 = other.get(0, 0);\n    const a12 = this.get(0, 1);\n    const b12 = other.get(0, 1);\n    const a21 = this.get(1, 0);\n    const b21 = other.get(1, 0);\n    const a22 = this.get(1, 1);\n    const b22 = other.get(1, 1);\n\n    // Compute intermediate values.\n    const m1 = (a11 + a22) * (b11 + b22);\n    const m2 = (a21 + a22) * b11;\n    const m3 = a11 * (b12 - b22);\n    const m4 = a22 * (b21 - b11);\n    const m5 = (a11 + a12) * b22;\n    const m6 = (a21 - a11) * (b11 + b12);\n    const m7 = (a12 - a22) * (b21 + b22);\n\n    // Combine intermediate values into the output.\n    const c00 = m1 + m4 - m5 + m7;\n    const c01 = m3 + m5;\n    const c10 = m2 + m4;\n    const c11 = m1 - m2 + m3 + m6;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    return result;\n  }\n\n  strassen3x3(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(3, 3);\n\n    const a00 = this.get(0, 0);\n    const a01 = this.get(0, 1);\n    const a02 = this.get(0, 2);\n    const a10 = this.get(1, 0);\n    const a11 = this.get(1, 1);\n    const a12 = this.get(1, 2);\n    const a20 = this.get(2, 0);\n    const a21 = this.get(2, 1);\n    const a22 = this.get(2, 2);\n\n    const b00 = other.get(0, 0);\n    const b01 = other.get(0, 1);\n    const b02 = other.get(0, 2);\n    const b10 = other.get(1, 0);\n    const b11 = other.get(1, 1);\n    const b12 = other.get(1, 2);\n    const b20 = other.get(2, 0);\n    const b21 = other.get(2, 1);\n    const b22 = other.get(2, 2);\n\n    const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n    const m2 = (a00 - a10) * (-b01 + b11);\n    const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n    const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n    const m5 = (a10 + a11) * (-b00 + b01);\n    const m6 = a00 * b00;\n    const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n    const m8 = (-a00 + a20) * (b02 - b12);\n    const m9 = (a20 + a21) * (-b00 + b02);\n    const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n    const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n    const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n    const m13 = (a02 - a22) * (b11 - b21);\n    const m14 = a02 * b20;\n    const m15 = (a21 + a22) * (-b20 + b21);\n    const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n    const m17 = (a02 - a12) * (b12 - b22);\n    const m18 = (a11 + a12) * (-b20 + b22);\n    const m19 = a01 * b10;\n    const m20 = a12 * b21;\n    const m21 = a10 * b02;\n    const m22 = a20 * b01;\n    const m23 = a22 * b22;\n\n    const c00 = m6 + m14 + m19;\n    const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n    const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n    const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n    const c11 = m2 + m4 + m5 + m6 + m20;\n    const c12 = m14 + m16 + m17 + m18 + m21;\n    const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n    const c21 = m12 + m13 + m14 + m15 + m22;\n    const c22 = m6 + m7 + m8 + m9 + m23;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(0, 2, c02);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    result.set(1, 2, c12);\n    result.set(2, 0, c20);\n    result.set(2, 1, c21);\n    result.set(2, 2, c22);\n    return result;\n  }\n\n  mmulStrassen(y) {\n    y = Matrix.checkMatrix(y);\n    let x = this.clone();\n    let r1 = x.rows;\n    let c1 = x.columns;\n    let r2 = y.rows;\n    let c2 = y.columns;\n    if (c1 !== r2) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`,\n      );\n    }\n\n    // Put a matrix into the top left of a matrix of zeros.\n    // `rows` and `cols` are the dimensions of the output matrix.\n    function embed(mat, rows, cols) {\n      let r = mat.rows;\n      let c = mat.columns;\n      if (r === rows && c === cols) {\n        return mat;\n      } else {\n        let resultat = AbstractMatrix.zeros(rows, cols);\n        resultat = resultat.setSubMatrix(mat, 0, 0);\n        return resultat;\n      }\n    }\n\n    // Make sure both matrices are the same size.\n    // This is exclusively for simplicity:\n    // this algorithm can be implemented with matrices of different sizes.\n\n    let r = Math.max(r1, r2);\n    let c = Math.max(c1, c2);\n    x = embed(x, r, c);\n    y = embed(y, r, c);\n\n    // Our recursive multiplication function.\n    function blockMult(a, b, rows, cols) {\n      // For small matrices, resort to naive multiplication.\n      if (rows <= 512 || cols <= 512) {\n        return a.mmul(b); // a is equivalent to this\n      }\n\n      // Apply dynamic padding.\n      if (rows % 2 === 1 && cols % 2 === 1) {\n        a = embed(a, rows + 1, cols + 1);\n        b = embed(b, rows + 1, cols + 1);\n      } else if (rows % 2 === 1) {\n        a = embed(a, rows + 1, cols);\n        b = embed(b, rows + 1, cols);\n      } else if (cols % 2 === 1) {\n        a = embed(a, rows, cols + 1);\n        b = embed(b, rows, cols + 1);\n      }\n\n      let halfRows = parseInt(a.rows / 2, 10);\n      let halfCols = parseInt(a.columns / 2, 10);\n      // Subdivide input matrices.\n      let a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n      let a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n      let b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n      let a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n      let b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n      let a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n      let b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n      // Compute intermediate values.\n      let m1 = blockMult(\n        AbstractMatrix.add(a11, a22),\n        AbstractMatrix.add(b11, b22),\n        halfRows,\n        halfCols,\n      );\n      let m2 = blockMult(AbstractMatrix.add(a21, a22), b11, halfRows, halfCols);\n      let m3 = blockMult(a11, AbstractMatrix.sub(b12, b22), halfRows, halfCols);\n      let m4 = blockMult(a22, AbstractMatrix.sub(b21, b11), halfRows, halfCols);\n      let m5 = blockMult(AbstractMatrix.add(a11, a12), b22, halfRows, halfCols);\n      let m6 = blockMult(\n        AbstractMatrix.sub(a21, a11),\n        AbstractMatrix.add(b11, b12),\n        halfRows,\n        halfCols,\n      );\n      let m7 = blockMult(\n        AbstractMatrix.sub(a12, a22),\n        AbstractMatrix.add(b21, b22),\n        halfRows,\n        halfCols,\n      );\n\n      // Combine intermediate values into the output.\n      let c11 = AbstractMatrix.add(m1, m4);\n      c11.sub(m5);\n      c11.add(m7);\n      let c12 = AbstractMatrix.add(m3, m5);\n      let c21 = AbstractMatrix.add(m2, m4);\n      let c22 = AbstractMatrix.sub(m1, m2);\n      c22.add(m3);\n      c22.add(m6);\n\n      // Crop output to the desired size (undo dynamic padding).\n      let resultat = AbstractMatrix.zeros(2 * c11.rows, 2 * c11.columns);\n      resultat = resultat.setSubMatrix(c11, 0, 0);\n      resultat = resultat.setSubMatrix(c12, c11.rows, 0);\n      resultat = resultat.setSubMatrix(c21, 0, c11.columns);\n      resultat = resultat.setSubMatrix(c22, c11.rows, c11.columns);\n      return resultat.subMatrix(0, rows - 1, 0, cols - 1);\n    }\n    return blockMult(x, y, r, c);\n  }\n\n  scaleRows(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.rows; i++) {\n      const row = this.getRow(i);\n      rescale(row, { min, max, output: row });\n      newMatrix.setRow(i, row);\n    }\n    return newMatrix;\n  }\n\n  scaleColumns(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.columns; i++) {\n      const column = this.getColumn(i);\n      rescale(column, {\n        min: min,\n        max: max,\n        output: column,\n      });\n      newMatrix.setColumn(i, column);\n    }\n    return newMatrix;\n  }\n\n  flipRows() {\n    const middle = Math.ceil(this.columns / 2);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < middle; j++) {\n        let first = this.get(i, j);\n        let last = this.get(i, this.columns - 1 - j);\n        this.set(i, j, last);\n        this.set(i, this.columns - 1 - j, first);\n      }\n    }\n    return this;\n  }\n\n  flipColumns() {\n    const middle = Math.ceil(this.rows / 2);\n    for (let j = 0; j < this.columns; j++) {\n      for (let i = 0; i < middle; i++) {\n        let first = this.get(i, j);\n        let last = this.get(this.rows - 1 - i, j);\n        this.set(i, j, last);\n        this.set(this.rows - 1 - i, j, first);\n      }\n    }\n    return this;\n  }\n\n  kroneckerProduct(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.rows;\n    let q = other.columns;\n\n    let result = new Matrix(m * p, n * q);\n    for (let i = 0; i < m; i++) {\n      for (let j = 0; j < n; j++) {\n        for (let k = 0; k < p; k++) {\n          for (let l = 0; l < q; l++) {\n            result.set(p * i + k, q * j + l, this.get(i, j) * other.get(k, l));\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  transpose() {\n    let result = new Matrix(this.columns, this.rows);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        result.set(j, i, this.get(i, j));\n      }\n    }\n    return result;\n  }\n\n  sortRows(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.rows; i++) {\n      this.setRow(i, this.getRow(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  sortColumns(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.columns; i++) {\n      this.setColumn(i, this.getColumn(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  subMatrix(startRow, endRow, startColumn, endColumn) {\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    let newMatrix = new Matrix(\n      endRow - startRow + 1,\n      endColumn - startColumn + 1,\n    );\n    for (let i = startRow; i <= endRow; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        newMatrix.set(i - startRow, j - startColumn, this.get(i, j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixRow(indices, startColumn, endColumn) {\n    if (startColumn === undefined) startColumn = 0;\n    if (endColumn === undefined) endColumn = this.columns - 1;\n    if (\n      startColumn > endColumn ||\n      startColumn < 0 ||\n      startColumn >= this.columns ||\n      endColumn < 0 ||\n      endColumn >= this.columns\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(indices.length, endColumn - startColumn + 1);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        if (indices[i] < 0 || indices[i] >= this.rows) {\n          throw new RangeError(`Row index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixColumn(indices, startRow, endRow) {\n    if (startRow === undefined) startRow = 0;\n    if (endRow === undefined) endRow = this.rows - 1;\n    if (\n      startRow > endRow ||\n      startRow < 0 ||\n      startRow >= this.rows ||\n      endRow < 0 ||\n      endRow >= this.rows\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(endRow - startRow + 1, indices.length);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startRow; j <= endRow; j++) {\n        if (indices[i] < 0 || indices[i] >= this.columns) {\n          throw new RangeError(`Column index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n      }\n    }\n    return newMatrix;\n  }\n\n  setSubMatrix(matrix, startRow, startColumn) {\n    matrix = Matrix.checkMatrix(matrix);\n    let endRow = startRow + matrix.rows - 1;\n    let endColumn = startColumn + matrix.columns - 1;\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    for (let i = 0; i < matrix.rows; i++) {\n      for (let j = 0; j < matrix.columns; j++) {\n        this.set(startRow + i, startColumn + j, matrix.get(i, j));\n      }\n    }\n    return this;\n  }\n\n  selection(rowIndices, columnIndices) {\n    let indices = checkIndices(this, rowIndices, columnIndices);\n    let newMatrix = new Matrix(rowIndices.length, columnIndices.length);\n    for (let i = 0; i < indices.row.length; i++) {\n      let rowIndex = indices.row[i];\n      for (let j = 0; j < indices.column.length; j++) {\n        let columnIndex = indices.column[j];\n        newMatrix.set(i, j, this.get(rowIndex, columnIndex));\n      }\n    }\n    return newMatrix;\n  }\n\n  trace() {\n    let min = Math.min(this.rows, this.columns);\n    let trace = 0;\n    for (let i = 0; i < min; i++) {\n      trace += this.get(i, i);\n    }\n    return trace;\n  }\n\n  clone() {\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let row = 0; row < this.rows; row++) {\n      for (let column = 0; column < this.columns; column++) {\n        newMatrix.set(row, column, this.get(row, column));\n      }\n    }\n    return newMatrix;\n  }\n\n  sum(by) {\n    switch (by) {\n      case 'row':\n        return sumByRow(this);\n      case 'column':\n        return sumByColumn(this);\n      case undefined:\n        return sumAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  product(by) {\n    switch (by) {\n      case 'row':\n        return productByRow(this);\n      case 'column':\n        return productByColumn(this);\n      case undefined:\n        return productAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  mean(by) {\n    const sum = this.sum(by);\n    switch (by) {\n      case 'row': {\n        for (let i = 0; i < this.rows; i++) {\n          sum[i] /= this.columns;\n        }\n        return sum;\n      }\n      case 'column': {\n        for (let i = 0; i < this.columns; i++) {\n          sum[i] /= this.rows;\n        }\n        return sum;\n      }\n      case undefined:\n        return sum / this.size;\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  variance(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { unbiased = true, mean = this.mean(by) } = options;\n    if (typeof unbiased !== 'boolean') {\n      throw new TypeError('unbiased must be a boolean');\n    }\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByRow(this, unbiased, mean);\n      }\n      case 'column': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByColumn(this, unbiased, mean);\n      }\n      case undefined: {\n        if (typeof mean !== 'number') {\n          throw new TypeError('mean must be a number');\n        }\n        return varianceAll(this, unbiased, mean);\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  standardDeviation(by, options) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    const variance = this.variance(by, options);\n    if (by === undefined) {\n      return Math.sqrt(variance);\n    } else {\n      for (let i = 0; i < variance.length; i++) {\n        variance[i] = Math.sqrt(variance[i]);\n      }\n      return variance;\n    }\n  }\n\n  center(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { center = this.mean(by) } = options;\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByRow(this, center);\n        return this;\n      }\n      case 'column': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByColumn(this, center);\n        return this;\n      }\n      case undefined: {\n        if (typeof center !== 'number') {\n          throw new TypeError('center must be a number');\n        }\n        centerAll(this, center);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  scale(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    let scale = options.scale;\n    switch (by) {\n      case 'row': {\n        if (scale === undefined) {\n          scale = getScaleByRow(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByRow(this, scale);\n        return this;\n      }\n      case 'column': {\n        if (scale === undefined) {\n          scale = getScaleByColumn(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByColumn(this, scale);\n        return this;\n      }\n      case undefined: {\n        if (scale === undefined) {\n          scale = getScaleAll(this);\n        } else if (typeof scale !== 'number') {\n          throw new TypeError('scale must be a number');\n        }\n        scaleAll(this, scale);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n}\n\nAbstractMatrix.prototype.klass = 'Matrix';\nif (typeof Symbol !== 'undefined') {\n  AbstractMatrix.prototype[\n    Symbol.for('nodejs.util.inspect.custom')\n  ] = inspectMatrix;\n}\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\n// Synonyms\nAbstractMatrix.random = AbstractMatrix.rand;\nAbstractMatrix.randomInt = AbstractMatrix.randInt;\nAbstractMatrix.diagonal = AbstractMatrix.diag;\nAbstractMatrix.prototype.diagonal = AbstractMatrix.prototype.diag;\nAbstractMatrix.identity = AbstractMatrix.eye;\nAbstractMatrix.prototype.negate = AbstractMatrix.prototype.neg;\nAbstractMatrix.prototype.tensorProduct =\n  AbstractMatrix.prototype.kroneckerProduct;\n\nexport default class Matrix extends AbstractMatrix {\n  constructor(nRows, nColumns) {\n    super();\n    if (Matrix.isMatrix(nRows)) {\n      return nRows.clone();\n    } else if (Number.isInteger(nRows) && nRows > 0) {\n      // Create an empty matrix\n      this.data = [];\n      if (Number.isInteger(nColumns) && nColumns > 0) {\n        for (let i = 0; i < nRows; i++) {\n          this.data.push(new Float64Array(nColumns));\n        }\n      } else {\n        throw new TypeError('nColumns must be a positive integer');\n      }\n    } else if (Array.isArray(nRows)) {\n      // Copy the values from the 2D array\n      const arrayData = nRows;\n      nRows = arrayData.length;\n      nColumns = arrayData[0].length;\n      if (typeof nColumns !== 'number' || nColumns === 0) {\n        throw new TypeError(\n          'Data must be a 2D array with at least one element',\n        );\n      }\n      this.data = [];\n      for (let i = 0; i < nRows; i++) {\n        if (arrayData[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        this.data.push(Float64Array.from(arrayData[i]));\n      }\n    } else {\n      throw new TypeError(\n        'First argument must be a positive number or an array',\n      );\n    }\n    this.rows = nRows;\n    this.columns = nColumns;\n    return this;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n\n  removeRow(index) {\n    checkRowIndex(this, index);\n    if (this.rows === 1) {\n      throw new RangeError('A matrix cannot have less than one row');\n    }\n    this.data.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = Float64Array.from(checkRowVector(this, array, true));\n    this.data.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    if (this.columns === 1) {\n      throw new RangeError('A matrix cannot have less than one column');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns - 1);\n      for (let j = 0; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      for (let j = index + 1; j < this.columns; j++) {\n        newRow[j - 1] = this.data[i][j];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns -= 1;\n    return this;\n  }\n\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns + 1);\n      let j = 0;\n      for (; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      newRow[j++] = array[i];\n      for (; j < this.columns + 1; j++) {\n        newRow[j] = this.data[i][j - 1];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns += 1;\n    return this;\n  }\n}\n\ninstallMathOperations(AbstractMatrix, Matrix);\n","import { AbstractMatrix } from '../matrix';\n\nexport default class BaseView extends AbstractMatrix {\n  constructor(matrix, rows, columns) {\n    super();\n    this.matrix = matrix;\n    this.rows = rows;\n    this.columns = columns;\n  }\n}\n","import BaseView from './base';\r\n\r\nexport default class MatrixTransposeView extends BaseView {\r\n  constructor(matrix) {\r\n    super(matrix, matrix.columns, matrix.rows);\r\n  }\r\n\r\n  set(rowIndex, columnIndex, value) {\r\n    this.matrix.set(columnIndex, rowIndex, value);\r\n    return this;\r\n  }\r\n\r\n  get(rowIndex, columnIndex) {\r\n    return this.matrix.get(columnIndex, rowIndex);\r\n  }\r\n}\r\n","import { AbstractMatrix } from '../matrix';\n\nexport default class WrapperMatrix2D extends AbstractMatrix {\n  constructor(data) {\n    super();\n    this.data = data;\n    this.rows = data.length;\n    this.columns = data[0].length;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nexport default class LuDecomposition {\n  constructor(matrix) {\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n\n    let lu = matrix.clone();\n    let rows = lu.rows;\n    let columns = lu.columns;\n    let pivotVector = new Float64Array(rows);\n    let pivotSign = 1;\n    let i, j, k, p, s, t, v;\n    let LUcolj, kmax;\n\n    for (i = 0; i < rows; i++) {\n      pivotVector[i] = i;\n    }\n\n    LUcolj = new Float64Array(rows);\n\n    for (j = 0; j < columns; j++) {\n      for (i = 0; i < rows; i++) {\n        LUcolj[i] = lu.get(i, j);\n      }\n\n      for (i = 0; i < rows; i++) {\n        kmax = Math.min(i, j);\n        s = 0;\n        for (k = 0; k < kmax; k++) {\n          s += lu.get(i, k) * LUcolj[k];\n        }\n        LUcolj[i] -= s;\n        lu.set(i, j, LUcolj[i]);\n      }\n\n      p = j;\n      for (i = j + 1; i < rows; i++) {\n        if (Math.abs(LUcolj[i]) > Math.abs(LUcolj[p])) {\n          p = i;\n        }\n      }\n\n      if (p !== j) {\n        for (k = 0; k < columns; k++) {\n          t = lu.get(p, k);\n          lu.set(p, k, lu.get(j, k));\n          lu.set(j, k, t);\n        }\n\n        v = pivotVector[p];\n        pivotVector[p] = pivotVector[j];\n        pivotVector[j] = v;\n\n        pivotSign = -pivotSign;\n      }\n\n      if (j < rows && lu.get(j, j) !== 0) {\n        for (i = j + 1; i < rows; i++) {\n          lu.set(i, j, lu.get(i, j) / lu.get(j, j));\n        }\n      }\n    }\n\n    this.LU = lu;\n    this.pivotVector = pivotVector;\n    this.pivotSign = pivotSign;\n  }\n\n  isSingular() {\n    let data = this.LU;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      if (data.get(j, j) === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let lu = this.LU;\n    let rows = lu.rows;\n\n    if (rows !== value.rows) {\n      throw new Error('Invalid matrix dimensions');\n    }\n    if (this.isSingular()) {\n      throw new Error('LU matrix is singular');\n    }\n\n    let count = value.columns;\n    let X = value.subMatrixRow(this.pivotVector, 0, count - 1);\n    let columns = lu.columns;\n    let i, j, k;\n\n    for (k = 0; k < columns; k++) {\n      for (i = k + 1; i < columns; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    for (k = columns - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / lu.get(k, k));\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    return X;\n  }\n\n  get determinant() {\n    let data = this.LU;\n    if (!data.isSquare()) {\n      throw new Error('Matrix must be square');\n    }\n    let determinant = this.pivotSign;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      determinant *= data.get(j, j);\n    }\n    return determinant;\n  }\n\n  get lowerTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i > j) {\n          X.set(i, j, data.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, 1);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get upperTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i <= j) {\n          X.set(i, j, data.get(i, j));\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get pivotPermutationVector() {\n    return Array.from(this.pivotVector);\n  }\n}\n","export function hypotenuse(a, b) {\n  let r = 0;\n  if (Math.abs(a) > Math.abs(b)) {\n    r = b / a;\n    return Math.abs(a) * Math.sqrt(1 + r * r);\n  }\n  if (b !== 0) {\n    r = a / b;\n    return Math.abs(b) * Math.sqrt(1 + r * r);\n  }\n  return 0;\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nimport { hypotenuse } from './util';\n\nexport default class QrDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let qr = value.clone();\n    let m = value.rows;\n    let n = value.columns;\n    let rdiag = new Float64Array(n);\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      let nrm = 0;\n      for (i = k; i < m; i++) {\n        nrm = hypotenuse(nrm, qr.get(i, k));\n      }\n      if (nrm !== 0) {\n        if (qr.get(k, k) < 0) {\n          nrm = -nrm;\n        }\n        for (i = k; i < m; i++) {\n          qr.set(i, k, qr.get(i, k) / nrm);\n        }\n        qr.set(k, k, qr.get(k, k) + 1);\n        for (j = k + 1; j < n; j++) {\n          s = 0;\n          for (i = k; i < m; i++) {\n            s += qr.get(i, k) * qr.get(i, j);\n          }\n          s = -s / qr.get(k, k);\n          for (i = k; i < m; i++) {\n            qr.set(i, j, qr.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n      rdiag[k] = -nrm;\n    }\n\n    this.QR = qr;\n    this.Rdiag = rdiag;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let qr = this.QR;\n    let m = qr.rows;\n\n    if (value.rows !== m) {\n      throw new Error('Matrix row dimensions must agree');\n    }\n    if (!this.isFullRank()) {\n      throw new Error('Matrix is rank deficient');\n    }\n\n    let count = value.columns;\n    let X = value.clone();\n    let n = qr.columns;\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      for (j = 0; j < count; j++) {\n        s = 0;\n        for (i = k; i < m; i++) {\n          s += qr.get(i, k) * X.get(i, j);\n        }\n        s = -s / qr.get(k, k);\n        for (i = k; i < m; i++) {\n          X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n        }\n      }\n    }\n    for (k = n - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / this.Rdiag[k]);\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * qr.get(i, k));\n        }\n      }\n    }\n\n    return X.subMatrix(0, n - 1, 0, count - 1);\n  }\n\n  isFullRank() {\n    let columns = this.QR.columns;\n    for (let i = 0; i < columns; i++) {\n      if (this.Rdiag[i] === 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  get upperTriangularMatrix() {\n    let qr = this.QR;\n    let n = qr.columns;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        if (i < j) {\n          X.set(i, j, qr.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, this.Rdiag[i]);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get orthogonalMatrix() {\n    let qr = this.QR;\n    let rows = qr.rows;\n    let columns = qr.columns;\n    let X = new Matrix(rows, columns);\n    let i, j, k, s;\n\n    for (k = columns - 1; k >= 0; k--) {\n      for (i = 0; i < rows; i++) {\n        X.set(i, k, 0);\n      }\n      X.set(k, k, 1);\n      for (j = k; j < columns; j++) {\n        if (qr.get(k, k) !== 0) {\n          s = 0;\n          for (i = k; i < rows; i++) {\n            s += qr.get(i, k) * X.get(i, j);\n          }\n\n          s = -s / qr.get(k, k);\n\n          for (i = k; i < rows; i++) {\n            X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n    }\n    return X;\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nimport { hypotenuse } from './util';\n\nexport default class SingularValueDecomposition {\n  constructor(value, options = {}) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let m = value.rows;\n    let n = value.columns;\n\n    const {\n      computeLeftSingularVectors = true,\n      computeRightSingularVectors = true,\n      autoTranspose = false,\n    } = options;\n\n    let wantu = Boolean(computeLeftSingularVectors);\n    let wantv = Boolean(computeRightSingularVectors);\n\n    let swapped = false;\n    let a;\n    if (m < n) {\n      if (!autoTranspose) {\n        a = value.clone();\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose',\n        );\n      } else {\n        a = value.transpose();\n        m = a.rows;\n        n = a.columns;\n        swapped = true;\n        let aux = wantu;\n        wantu = wantv;\n        wantv = aux;\n      }\n    } else {\n      a = value.clone();\n    }\n\n    let nu = Math.min(m, n);\n    let ni = Math.min(m + 1, n);\n    let s = new Float64Array(ni);\n    let U = new Matrix(m, nu);\n    let V = new Matrix(n, n);\n\n    let e = new Float64Array(n);\n    let work = new Float64Array(m);\n\n    let si = new Float64Array(ni);\n    for (let i = 0; i < ni; i++) si[i] = i;\n\n    let nct = Math.min(m - 1, n);\n    let nrt = Math.max(0, Math.min(n - 2, m));\n    let mrc = Math.max(nct, nrt);\n\n    for (let k = 0; k < mrc; k++) {\n      if (k < nct) {\n        s[k] = 0;\n        for (let i = k; i < m; i++) {\n          s[k] = hypotenuse(s[k], a.get(i, k));\n        }\n        if (s[k] !== 0) {\n          if (a.get(k, k) < 0) {\n            s[k] = -s[k];\n          }\n          for (let i = k; i < m; i++) {\n            a.set(i, k, a.get(i, k) / s[k]);\n          }\n          a.set(k, k, a.get(k, k) + 1);\n        }\n        s[k] = -s[k];\n      }\n\n      for (let j = k + 1; j < n; j++) {\n        if (k < nct && s[k] !== 0) {\n          let t = 0;\n          for (let i = k; i < m; i++) {\n            t += a.get(i, k) * a.get(i, j);\n          }\n          t = -t / a.get(k, k);\n          for (let i = k; i < m; i++) {\n            a.set(i, j, a.get(i, j) + t * a.get(i, k));\n          }\n        }\n        e[j] = a.get(k, j);\n      }\n\n      if (wantu && k < nct) {\n        for (let i = k; i < m; i++) {\n          U.set(i, k, a.get(i, k));\n        }\n      }\n\n      if (k < nrt) {\n        e[k] = 0;\n        for (let i = k + 1; i < n; i++) {\n          e[k] = hypotenuse(e[k], e[i]);\n        }\n        if (e[k] !== 0) {\n          if (e[k + 1] < 0) {\n            e[k] = 0 - e[k];\n          }\n          for (let i = k + 1; i < n; i++) {\n            e[i] /= e[k];\n          }\n          e[k + 1] += 1;\n        }\n        e[k] = -e[k];\n        if (k + 1 < m && e[k] !== 0) {\n          for (let i = k + 1; i < m; i++) {\n            work[i] = 0;\n          }\n          for (let i = k + 1; i < m; i++) {\n            for (let j = k + 1; j < n; j++) {\n              work[i] += e[j] * a.get(i, j);\n            }\n          }\n          for (let j = k + 1; j < n; j++) {\n            let t = -e[j] / e[k + 1];\n            for (let i = k + 1; i < m; i++) {\n              a.set(i, j, a.get(i, j) + t * work[i]);\n            }\n          }\n        }\n        if (wantv) {\n          for (let i = k + 1; i < n; i++) {\n            V.set(i, k, e[i]);\n          }\n        }\n      }\n    }\n\n    let p = Math.min(n, m + 1);\n    if (nct < n) {\n      s[nct] = a.get(nct, nct);\n    }\n    if (m < p) {\n      s[p - 1] = 0;\n    }\n    if (nrt + 1 < p) {\n      e[nrt] = a.get(nrt, p - 1);\n    }\n    e[p - 1] = 0;\n\n    if (wantu) {\n      for (let j = nct; j < nu; j++) {\n        for (let i = 0; i < m; i++) {\n          U.set(i, j, 0);\n        }\n        U.set(j, j, 1);\n      }\n      for (let k = nct - 1; k >= 0; k--) {\n        if (s[k] !== 0) {\n          for (let j = k + 1; j < nu; j++) {\n            let t = 0;\n            for (let i = k; i < m; i++) {\n              t += U.get(i, k) * U.get(i, j);\n            }\n            t = -t / U.get(k, k);\n            for (let i = k; i < m; i++) {\n              U.set(i, j, U.get(i, j) + t * U.get(i, k));\n            }\n          }\n          for (let i = k; i < m; i++) {\n            U.set(i, k, -U.get(i, k));\n          }\n          U.set(k, k, 1 + U.get(k, k));\n          for (let i = 0; i < k - 1; i++) {\n            U.set(i, k, 0);\n          }\n        } else {\n          for (let i = 0; i < m; i++) {\n            U.set(i, k, 0);\n          }\n          U.set(k, k, 1);\n        }\n      }\n    }\n\n    if (wantv) {\n      for (let k = n - 1; k >= 0; k--) {\n        if (k < nrt && e[k] !== 0) {\n          for (let j = k + 1; j < n; j++) {\n            let t = 0;\n            for (let i = k + 1; i < n; i++) {\n              t += V.get(i, k) * V.get(i, j);\n            }\n            t = -t / V.get(k + 1, k);\n            for (let i = k + 1; i < n; i++) {\n              V.set(i, j, V.get(i, j) + t * V.get(i, k));\n            }\n          }\n        }\n        for (let i = 0; i < n; i++) {\n          V.set(i, k, 0);\n        }\n        V.set(k, k, 1);\n      }\n    }\n\n    let pp = p - 1;\n    let iter = 0;\n    let eps = Number.EPSILON;\n    while (p > 0) {\n      let k, kase;\n      for (k = p - 2; k >= -1; k--) {\n        if (k === -1) {\n          break;\n        }\n        const alpha =\n          Number.MIN_VALUE + eps * Math.abs(s[k] + Math.abs(s[k + 1]));\n        if (Math.abs(e[k]) <= alpha || Number.isNaN(e[k])) {\n          e[k] = 0;\n          break;\n        }\n      }\n      if (k === p - 2) {\n        kase = 4;\n      } else {\n        let ks;\n        for (ks = p - 1; ks >= k; ks--) {\n          if (ks === k) {\n            break;\n          }\n          let t =\n            (ks !== p ? Math.abs(e[ks]) : 0) +\n            (ks !== k + 1 ? Math.abs(e[ks - 1]) : 0);\n          if (Math.abs(s[ks]) <= eps * t) {\n            s[ks] = 0;\n            break;\n          }\n        }\n        if (ks === k) {\n          kase = 3;\n        } else if (ks === p - 1) {\n          kase = 1;\n        } else {\n          kase = 2;\n          k = ks;\n        }\n      }\n\n      k++;\n\n      switch (kase) {\n        case 1: {\n          let f = e[p - 2];\n          e[p - 2] = 0;\n          for (let j = p - 2; j >= k; j--) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            if (j !== k) {\n              f = -sn * e[j - 1];\n              e[j - 1] = cs * e[j - 1];\n            }\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, p - 1);\n                V.set(i, p - 1, -sn * V.get(i, j) + cs * V.get(i, p - 1));\n                V.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 2: {\n          let f = e[k - 1];\n          e[k - 1] = 0;\n          for (let j = k; j < p; j++) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            f = -sn * e[j];\n            e[j] = cs * e[j];\n            if (wantu) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, k - 1);\n                U.set(i, k - 1, -sn * U.get(i, j) + cs * U.get(i, k - 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 3: {\n          const scale = Math.max(\n            Math.abs(s[p - 1]),\n            Math.abs(s[p - 2]),\n            Math.abs(e[p - 2]),\n            Math.abs(s[k]),\n            Math.abs(e[k]),\n          );\n          const sp = s[p - 1] / scale;\n          const spm1 = s[p - 2] / scale;\n          const epm1 = e[p - 2] / scale;\n          const sk = s[k] / scale;\n          const ek = e[k] / scale;\n          const b = ((spm1 + sp) * (spm1 - sp) + epm1 * epm1) / 2;\n          const c = sp * epm1 * (sp * epm1);\n          let shift = 0;\n          if (b !== 0 || c !== 0) {\n            if (b < 0) {\n              shift = 0 - Math.sqrt(b * b + c);\n            } else {\n              shift = Math.sqrt(b * b + c);\n            }\n            shift = c / (b + shift);\n          }\n          let f = (sk + sp) * (sk - sp) + shift;\n          let g = sk * ek;\n          for (let j = k; j < p - 1; j++) {\n            let t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            let cs = f / t;\n            let sn = g / t;\n            if (j !== k) {\n              e[j - 1] = t;\n            }\n            f = cs * s[j] + sn * e[j];\n            e[j] = cs * e[j] - sn * s[j];\n            g = sn * s[j + 1];\n            s[j + 1] = cs * s[j + 1];\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, j + 1);\n                V.set(i, j + 1, -sn * V.get(i, j) + cs * V.get(i, j + 1));\n                V.set(i, j, t);\n              }\n            }\n            t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            cs = f / t;\n            sn = g / t;\n            s[j] = t;\n            f = cs * e[j] + sn * s[j + 1];\n            s[j + 1] = -sn * e[j] + cs * s[j + 1];\n            g = sn * e[j + 1];\n            e[j + 1] = cs * e[j + 1];\n            if (wantu && j < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, j + 1);\n                U.set(i, j + 1, -sn * U.get(i, j) + cs * U.get(i, j + 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          e[p - 2] = f;\n          iter = iter + 1;\n          break;\n        }\n        case 4: {\n          if (s[k] <= 0) {\n            s[k] = s[k] < 0 ? -s[k] : 0;\n            if (wantv) {\n              for (let i = 0; i <= pp; i++) {\n                V.set(i, k, -V.get(i, k));\n              }\n            }\n          }\n          while (k < pp) {\n            if (s[k] >= s[k + 1]) {\n              break;\n            }\n            let t = s[k];\n            s[k] = s[k + 1];\n            s[k + 1] = t;\n            if (wantv && k < n - 1) {\n              for (let i = 0; i < n; i++) {\n                t = V.get(i, k + 1);\n                V.set(i, k + 1, V.get(i, k));\n                V.set(i, k, t);\n              }\n            }\n            if (wantu && k < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = U.get(i, k + 1);\n                U.set(i, k + 1, U.get(i, k));\n                U.set(i, k, t);\n              }\n            }\n            k++;\n          }\n          iter = 0;\n          p--;\n          break;\n        }\n        // no default\n      }\n    }\n\n    if (swapped) {\n      let tmp = V;\n      V = U;\n      U = tmp;\n    }\n\n    this.m = m;\n    this.n = n;\n    this.s = s;\n    this.U = U;\n    this.V = V;\n  }\n\n  solve(value) {\n    let Y = value;\n    let e = this.threshold;\n    let scols = this.s.length;\n    let Ls = Matrix.zeros(scols, scols);\n\n    for (let i = 0; i < scols; i++) {\n      if (Math.abs(this.s[i]) <= e) {\n        Ls.set(i, i, 0);\n      } else {\n        Ls.set(i, i, 1 / this.s[i]);\n      }\n    }\n\n    let U = this.U;\n    let V = this.rightSingularVectors;\n\n    let VL = V.mmul(Ls);\n    let vrows = V.rows;\n    let urows = U.rows;\n    let VLU = Matrix.zeros(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < scols; k++) {\n          sum += VL.get(i, k) * U.get(j, k);\n        }\n        VLU.set(i, j, sum);\n      }\n    }\n\n    return VLU.mmul(Y);\n  }\n\n  solveForDiagonal(value) {\n    return this.solve(Matrix.diag(value));\n  }\n\n  inverse() {\n    let V = this.V;\n    let e = this.threshold;\n    let vrows = V.rows;\n    let vcols = V.columns;\n    let X = new Matrix(vrows, this.s.length);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < vcols; j++) {\n        if (Math.abs(this.s[j]) > e) {\n          X.set(i, j, V.get(i, j) / this.s[j]);\n        }\n      }\n    }\n\n    let U = this.U;\n\n    let urows = U.rows;\n    let ucols = U.columns;\n    let Y = new Matrix(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < ucols; k++) {\n          sum += X.get(i, k) * U.get(j, k);\n        }\n        Y.set(i, j, sum);\n      }\n    }\n\n    return Y;\n  }\n\n  get condition() {\n    return this.s[0] / this.s[Math.min(this.m, this.n) - 1];\n  }\n\n  get norm2() {\n    return this.s[0];\n  }\n\n  get rank() {\n    let tol = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON;\n    let r = 0;\n    let s = this.s;\n    for (let i = 0, ii = s.length; i < ii; i++) {\n      if (s[i] > tol) {\n        r++;\n      }\n    }\n    return r;\n  }\n\n  get diagonal() {\n    return Array.from(this.s);\n  }\n\n  get threshold() {\n    return (Number.EPSILON / 2) * Math.max(this.m, this.n) * this.s[0];\n  }\n\n  get leftSingularVectors() {\n    return this.U;\n  }\n\n  get rightSingularVectors() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    return Matrix.diag(this.s);\n  }\n}\n","import LuDecomposition from './dc/lu';\nimport QrDecomposition from './dc/qr';\nimport SingularValueDecomposition from './dc/svd';\nimport Matrix from './matrix';\nimport WrapperMatrix2D from './wrap/WrapperMatrix2D';\n\nexport function inverse(matrix, useSVD = false) {\n  matrix = WrapperMatrix2D.checkMatrix(matrix);\n  if (useSVD) {\n    return new SingularValueDecomposition(matrix).inverse();\n  } else {\n    return solve(matrix, Matrix.eye(matrix.rows));\n  }\n}\n\nexport function solve(leftHandSide, rightHandSide, useSVD = false) {\n  leftHandSide = WrapperMatrix2D.checkMatrix(leftHandSide);\n  rightHandSide = WrapperMatrix2D.checkMatrix(rightHandSide);\n  if (useSVD) {\n    return new SingularValueDecomposition(leftHandSide).solve(rightHandSide);\n  } else {\n    return leftHandSide.isSquare()\n      ? new LuDecomposition(leftHandSide).solve(rightHandSide)\n      : new QrDecomposition(leftHandSide).solve(rightHandSide);\n  }\n}\n","'use strict';\n\nvar defaultOptions = {\n  size: 1,\n  value: 0\n};\n\n/**\n * Case when the entry is an array\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction arrayCase(data, options) {\n  var len = data.length;\n  if (typeof options.size === 'number') {\n    options.size = [options.size, options.size];\n  }\n\n  var cond = len + options.size[0] + options.size[1];\n\n  var output;\n  if (options.output) {\n    if (options.output.length !== cond) {\n      throw new RangeError('Wrong output size');\n    }\n    output = options.output;\n  } else {\n    output = new Array(cond);\n  }\n\n  var i;\n  if (options.value === 'circular') {\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) {\n        output[i] = data[(len - (options.size[0] % len) + i) % len];\n      } else if (i < options.size[0] + len) {\n        output[i] = data[i - options.size[0]];\n      } else {\n        output[i] = data[(i - options.size[0]) % len];\n      }\n    }\n  } else if (options.value === 'replicate') {\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) output[i] = data[0];\n      else if (i < options.size[0] + len) output[i] = data[i - options.size[0]];\n      else output[i] = data[len - 1];\n    }\n  } else if (options.value === 'symmetric') {\n    if (options.size[0] > len || options.size[1] > len) {\n      throw new RangeError(\n        'expanded value should not be bigger than the data length'\n      );\n    }\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) output[i] = data[options.size[0] - 1 - i];\n      else if (i < options.size[0] + len) output[i] = data[i - options.size[0]];\n      else output[i] = data[2 * len + options.size[0] - i - 1];\n    }\n  } else {\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) output[i] = options.value;\n      else if (i < options.size[0] + len) output[i] = data[i - options.size[0]];\n      else output[i] = options.value;\n    }\n  }\n\n  return output;\n}\n\n/**\n * Case when the entry is a matrix\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction matrixCase(data, options) {\n  // var row = data.length;\n  // var col = data[0].length;\n  if (options.size[0] === undefined) {\n    options.size = [options.size, options.size, options.size, options.size];\n  }\n  throw new Error('matrix not supported yet, sorry');\n}\n\n/**\n * Pads and array\n * @param {Array <number>} data\n * @param {object} options\n */\nfunction padArray(data, options) {\n  options = Object.assign({}, defaultOptions, options);\n  if (Array.isArray(data)) {\n    if (Array.isArray(data[0])) return matrixCase(data, options);\n    else return arrayCase(data, options);\n  } else {\n    throw new TypeError('data should be an array');\n  }\n}\n\nmodule.exports = padArray;\n","import { Matrix, MatrixTransposeView, inverse } from 'ml-matrix';\nimport padArray from 'ml-pad-array';\n\n/**\n * Factorial of a number\n * @ignore\n * @param n\n * @return {number}\n */\nfunction factorial(n) {\n  let r = 1;\n  while (n > 0) r *= n--;\n  return r;\n}\n\nconst defaultOptions = {\n  windowSize: 5,\n  derivative: 1,\n  polynomial: 2,\n  pad: 'none',\n  padValue: 'replicate',\n};\n\n/**\n * Savitzky-Golay filter\n * @param {Array <number>} data\n * @param {number} h\n * @param {Object} options\n * @returns {Array}\n */\nexport default function savitzkyGolay(data, h, options) {\n  options = Object.assign({}, defaultOptions, options);\n  if (\n    options.windowSize % 2 === 0 ||\n    options.windowSize < 5 ||\n    !Number.isInteger(options.windowSize)\n  ) {\n    throw new RangeError(\n      'Invalid window size (should be odd and at least 5 integer number)',\n    );\n  }\n  if (options.derivative < 0 || !Number.isInteger(options.derivative)) {\n    throw new RangeError('Derivative should be a positive integer');\n  }\n  if (options.polynomial < 1 || !Number.isInteger(options.polynomial)) {\n    throw new RangeError('Polynomial should be a positive integer');\n  }\n\n  let C, norm;\n  let step = Math.floor(options.windowSize / 2);\n\n  if (options.pad === 'pre') {\n    data = padArray(data, { size: step, value: options.padValue });\n  }\n\n  let ans = new Array(data.length - 2 * step);\n\n  if (\n    options.windowSize === 5 &&\n    options.polynomial === 2 &&\n    (options.derivative === 1 || options.derivative === 2)\n  ) {\n    if (options.derivative === 1) {\n      C = [-2, -1, 0, 1, 2];\n      norm = 10;\n    } else {\n      C = [2, -1, -2, -1, 2];\n      norm = 7;\n    }\n  } else {\n    let J = Matrix.ones(options.windowSize, options.polynomial + 1);\n    let inic = -(options.windowSize - 1) / 2;\n    for (let i = 0; i < J.rows; i++) {\n      for (let j = 0; j < J.columns; j++) {\n        if (inic + 1 !== 0 || j !== 0) J.set(i, j, Math.pow(inic + i, j));\n      }\n    }\n    let Jtranspose = new MatrixTransposeView(J);\n    let Jinv = inverse(Jtranspose.mmul(J));\n    C = Jinv.mmul(Jtranspose);\n    C = C.getRow(options.derivative);\n    norm = 1 / factorial(options.derivative);\n  }\n  let det = norm * Math.pow(h, options.derivative);\n  for (let k = step; k < data.length - step; k++) {\n    let d = 0;\n    for (let l = 0; l < C.length; l++) d += (C[l] * data[l + k - step]) / det;\n    ans[k - step] = d;\n  }\n\n  if (options.pad === 'post') {\n    ans = padArray(ans, { size: step, value: options.padValue });\n  }\n\n  return ans;\n}\n","(function(){function a(d){for(var e=0,f=d.length-1,g=void 0,h=void 0,i=void 0,j=c(e,f);!0;){if(f<=e)return d[j];if(f==e+1)return d[e]>d[f]&&b(d,e,f),d[j];for(g=c(e,f),d[g]>d[f]&&b(d,g,f),d[e]>d[f]&&b(d,e,f),d[g]>d[e]&&b(d,g,e),b(d,g,e+1),h=e+1,i=f;!0;){do h++;while(d[e]>d[h]);do i--;while(d[i]>d[e]);if(i<h)break;b(d,h,i)}b(d,e,i),i<=j&&(e=h),i>=j&&(f=i-1)}}var b=function b(d,e,f){var _ref;return _ref=[d[f],d[e]],d[e]=_ref[0],d[f]=_ref[1],_ref},c=function c(d,e){return~~((d+e)/2)};'undefined'!=typeof module&&module.exports?module.exports=a:window.median=a})();\n","import isArray from 'is-any-array';\nimport quickSelectMedian from 'median-quickselect';\n\n/**\n * Computes the median of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction median(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  return quickSelectMedian(input.slice());\n}\n\nexport default median;\n","/**\n\n/**\n * This function divide the first array by the second array or a constant value to each element of the first array\n * @param {Array<Number>} array1 - the array that will be rotated\n * @param {Array<Number>|Number} array2\n * @return {Array}\n */\nexport function xDivide(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] / constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] / array2[i];\n    }\n  }\n\n  return array3;\n}\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\n// MODULES //\n\nvar deepCopy = require( 'utils-copy' );\nvar getKeys = require( 'object-keys' ).shim();\n\n\n// COPY ERROR //\n\n/**\n* FUNCTION: copy( error )\n*\tCopies an error.\n*\n* @param {Error|TypeError|SyntaxError|URIError|ReferenceError|RangeError|RangeError|EvalError} error - error to copy\n* @returns {Error|TypeError|SyntaxError|URIError|ReferenceError|RangeError|RangeError|EvalError} error copy\n*/\nfunction copy( error ) {\n\t/* jshint newcap:false */\n\tvar keys;\n\tvar desc;\n\tvar key;\n\tvar err;\n\tvar i;\n\tif ( !( error instanceof Error ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Must provide an error object. Value: `' + error + '`.' );\n\t}\n\t// Create a new error...\n\terr = new error.constructor( error.message );\n\n\t// If a `stack` property is present, copy it over...\n\tif ( error.stack ) {\n\t\terr.stack = error.stack;\n\t}\n\t// Node.js specific (system errors)...\n\tif ( error.code ) {\n\t\terr.code = error.code;\n\t}\n\tif ( error.errno ) {\n\t\terr.errno = error.errno;\n\t}\n\tif ( error.syscall ) {\n\t\terr.syscall = error.syscall;\n\t}\n\t// Any enumerable properties...\n\tkeys = getKeys( error );\n\tfor ( i = 0; i < keys.length; i++ ) {\n\t\tkey = keys[ i ];\n\t\tdesc = Object.getOwnPropertyDescriptor( error, key );\n\t\tif ( desc.hasOwnProperty( 'value' ) ) {\n\t\t\tdesc.value = deepCopy( error[ key ] );\n\t\t}\n\t\tObject.defineProperty( err, key, desc );\n\t}\n\treturn err;\n} // end FUNCTION copy()\n\n\n// EXPORTS //\n\nmodule.exports = copy;\n","'use strict';\n\n// MODULES //\n\nvar objectKeys = require( 'object-keys' );\n\n\n// TYPED ARRAY FUNCTIONS //\n\n/**\n* Create functions for copying typed arrays.\n*/\nvar typedArrays = {\n\t'Int8Array': null,\n\t'Uint8Array': null,\n\t'Uint8ClampedArray': null,\n\t'Int16Array': null,\n\t'Uint16Array': null,\n\t'Int32Array': null,\n\t'Uint32Array': null,\n\t'Float32Array': null,\n\t'Float64Array': null\n};\n\n(function createTypedArrayFcns() {\n\t/* jshint evil:true */\n\tvar keys = objectKeys( typedArrays );\n\tvar len = keys.length;\n\tvar key;\n\tvar i;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tkey = keys[ i ];\n\t\ttypedArrays[ key ] = new Function( 'arr', 'return new '+key+'( arr );' );\n\t}\n})();\n\n\n// EXPORTS //\n\nmodule.exports = typedArrays;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3_array = {})));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function number$1(x) {\n    return x === null ? NaN : +x;\n  }\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (f == null) {\n      while (++i < n) {\n        if (!isNaN(a = number$1(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number$1(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  }\n\n  function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  }\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  }\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function range(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  }\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  }\n\n  function number(x) {\n    return +x;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      // Coerce values to numbers.\n      for (i = 0; i < n; ++i) {\n        values[i] = +value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = +xz[0],\n          x1 = +xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, +tz);\n\n      // Coerce thresholds to numbers, ignoring any outside the domain.\n      var m = tz.length;\n      for (i = 0; i < m; ++i) tz[i] = +tz[i];\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      if (!arguments.length) return threshold;\n      threshold = typeof _ === \"function\" ? _\n          : Array.isArray(_) ? constant(Array.prototype.map.call(_, number))\n          : constant(+_);\n      return histogram;\n    };\n\n    return histogram;\n  }\n\n  function quantile(array, p, f) {\n    if (f == null) f = number$1;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  }\n\n  function freedmanDiaconis(values, min, max) {\n    values.sort(ascending);\n    return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  }\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  }\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return quantile(numbers.sort(ascending), 0.5);\n  }\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  }\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p, p = array[++i]];\n    return pairs;\n  }\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  }\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  }\n\n  function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  }\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  }\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  }\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  }\n\n  var version = \"0.7.1\";\n\n  exports.version = version;\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n\n}));","/**\n * This function xSubtract the first array by the second array or a constant value from each element of the first array\n * @param {Array} array1 - the array that will be rotated\n * @param {Array|Number} array2\n * @return {Array}\n */\nexport function xSubtract(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] - constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] - array2[i];\n    }\n  }\n\n  return array3;\n}\n","'use strict';\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\n/**\n * Computes the sum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.sum = function sum(values) {\n    var sum = 0;\n    for (var i = 0; i < values.length; i++) {\n        sum += values[i];\n    }\n    return sum;\n};\n\n/**\n * Computes the maximum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.max = function max(values) {\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] > max) max = values[i];\n    }\n    return max;\n};\n\n/**\n * Computes the minimum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.min = function min(values) {\n    var min = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n    }\n    return min;\n};\n\n/**\n * Computes the min and max of the given values\n * @param {Array} values\n * @returns {{min: number, max: number}}\n */\nexports.minMax = function minMax(values) {\n    var min = values[0];\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n        if (values[i] > max) max = values[i];\n    }\n    return {\n        min: min,\n        max: max\n    };\n};\n\n/**\n * Computes the arithmetic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.arithmeticMean = function arithmeticMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        sum += values[i];\n    }\n    return sum / l;\n};\n\n/**\n * {@link arithmeticMean}\n */\nexports.mean = exports.arithmeticMean;\n\n/**\n * Computes the geometric mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.geometricMean = function geometricMean(values) {\n    var mul = 1;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        mul *= values[i];\n    }\n    return Math.pow(mul, 1 / l);\n};\n\n/**\n * Computes the mean of the log of the given values\n * If the return value is exponentiated, it gives the same result as the\n * geometric mean.\n * @param {Array} values\n * @returns {number}\n */\nexports.logMean = function logMean(values) {\n    var lnsum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        lnsum += Math.log(values[i]);\n    }\n    return lnsum / l;\n};\n\n/**\n * Computes the weighted grand mean for a list of means and sample sizes\n * @param {Array} means - Mean values for each set of samples\n * @param {Array} samples - Number of original values for each set of samples\n * @returns {number}\n */\nexports.grandMean = function grandMean(means, samples) {\n    var sum = 0;\n    var n = 0;\n    var l = means.length;\n    for (var i = 0; i < l; i++) {\n        sum += samples[i] * means[i];\n        n += samples[i];\n    }\n    return sum / n;\n};\n\n/**\n * Computes the truncated mean of the given values using a given percentage\n * @param {Array} values\n * @param {number} percent - The percentage of values to keep (range: [0,1])\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.truncatedMean = function truncatedMean(values, percent, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var k = Math.floor(l * percent);\n    var sum = 0;\n    for (var i = k; i < (l - k); i++) {\n        sum += values[i];\n    }\n    return sum / (l - 2 * k);\n};\n\n/**\n * Computes the harmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.harmonicMean = function harmonicMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        if (values[i] === 0) {\n            throw new RangeError('value at index ' + i + 'is zero');\n        }\n        sum += 1 / values[i];\n    }\n    return l / sum;\n};\n\n/**\n * Computes the contraharmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.contraHarmonicMean = function contraHarmonicMean(values) {\n    var r1 = 0;\n    var r2 = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        r1 += values[i] * values[i];\n        r2 += values[i];\n    }\n    if (r2 < 0) {\n        throw new RangeError('sum of values is negative');\n    }\n    return r1 / r2;\n};\n\n/**\n * Computes the median of the given values\n * @param {Array} values\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.median = function median(values, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return (values[half - 1] + values[half]) * 0.5;\n    } else {\n        return values[half];\n    }\n};\n\n/**\n * Computes the variance of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.variance = function variance(values, unbiased) {\n    if (unbiased === undefined) unbiased = true;\n    var theMean = exports.mean(values);\n    var theVariance = 0;\n    var l = values.length;\n\n    for (var i = 0; i < l; i++) {\n        var x = values[i] - theMean;\n        theVariance += x * x;\n    }\n\n    if (unbiased) {\n        return theVariance / (l - 1);\n    } else {\n        return theVariance / l;\n    }\n};\n\n/**\n * Computes the standard deviation of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.standardDeviation = function standardDeviation(values, unbiased) {\n    return Math.sqrt(exports.variance(values, unbiased));\n};\n\nexports.standardError = function standardError(values) {\n    return exports.standardDeviation(values) / Math.sqrt(values.length);\n};\n\n/**\n * IEEE Transactions on biomedical engineering, vol. 52, no. 1, january 2005, p. 76-\n * Calculate the standard deviation via the Median of the absolute deviation\n *  The formula for the standard deviation only holds for Gaussian random variables.\n * @returns {{mean: number, stdev: number}}\n */\nexports.robustMeanAndStdev = function robustMeanAndStdev(y) {\n    var mean = 0, stdev = 0;\n    var length = y.length, i = 0;\n    for (i = 0; i < length; i++) {\n        mean += y[i];\n    }\n    mean /= length;\n    var averageDeviations = new Array(length);\n    for (i = 0; i < length; i++)\n        averageDeviations[i] = Math.abs(y[i] - mean);\n    averageDeviations.sort(compareNumbers);\n    if (length % 2 === 1) {\n        stdev = averageDeviations[(length - 1) / 2] / 0.6745;\n    } else {\n        stdev = 0.5 * (averageDeviations[length / 2] + averageDeviations[length / 2 - 1]) / 0.6745;\n    }\n\n    return {\n        mean: mean,\n        stdev: stdev\n    };\n};\n\nexports.quartiles = function quartiles(values, alreadySorted) {\n    if (typeof (alreadySorted) === 'undefined') alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n\n    var quart = values.length / 4;\n    var q1 = values[Math.ceil(quart) - 1];\n    var q2 = exports.median(values, true);\n    var q3 = values[Math.ceil(quart * 3) - 1];\n\n    return {q1: q1, q2: q2, q3: q3};\n};\n\nexports.pooledStandardDeviation = function pooledStandardDeviation(samples, unbiased) {\n    return Math.sqrt(exports.pooledVariance(samples, unbiased));\n};\n\nexports.pooledVariance = function pooledVariance(samples, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var sum = 0;\n    var length = 0, l = samples.length;\n    for (var i = 0; i < l; i++) {\n        var values = samples[i];\n        var vari = exports.variance(values);\n\n        sum += (values.length - 1) * vari;\n\n        if (unbiased)\n            length += values.length - 1;\n        else\n            length += values.length;\n    }\n    return sum / length;\n};\n\nexports.mode = function mode(values) {\n    var l = values.length,\n        itemCount = new Array(l),\n        i;\n    for (i = 0; i < l; i++) {\n        itemCount[i] = 0;\n    }\n    var itemArray = new Array(l);\n    var count = 0;\n\n    for (i = 0; i < l; i++) {\n        var index = itemArray.indexOf(values[i]);\n        if (index >= 0)\n            itemCount[index]++;\n        else {\n            itemArray[count] = values[i];\n            itemCount[count] = 1;\n            count++;\n        }\n    }\n\n    var maxValue = 0, maxIndex = 0;\n    for (i = 0; i < count; i++) {\n        if (itemCount[i] > maxValue) {\n            maxValue = itemCount[i];\n            maxIndex = i;\n        }\n    }\n\n    return itemArray[maxIndex];\n};\n\nexports.covariance = function covariance(vector1, vector2, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var mean1 = exports.mean(vector1);\n    var mean2 = exports.mean(vector2);\n\n    if (vector1.length !== vector2.length)\n        throw 'Vectors do not have the same dimensions';\n\n    var cov = 0, l = vector1.length;\n    for (var i = 0; i < l; i++) {\n        var x = vector1[i] - mean1;\n        var y = vector2[i] - mean2;\n        cov += x * y;\n    }\n\n    if (unbiased)\n        return cov / (l - 1);\n    else\n        return cov / l;\n};\n\nexports.skewness = function skewness(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n\n    var s2 = 0, s3 = 0, l = values.length;\n    for (var i = 0; i < l; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s3 += dev * dev * dev;\n    }\n    var m2 = s2 / l;\n    var m3 = s3 / l;\n\n    var g = m3 / (Math.pow(m2, 3 / 2.0));\n    if (unbiased) {\n        var a = Math.sqrt(l * (l - 1));\n        var b = l - 2;\n        return (a / b) * g;\n    } else {\n        return g;\n    }\n};\n\nexports.kurtosis = function kurtosis(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n    var n = values.length, s2 = 0, s4 = 0;\n\n    for (var i = 0; i < n; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s4 += dev * dev * dev * dev;\n    }\n    var m2 = s2 / n;\n    var m4 = s4 / n;\n\n    if (unbiased) {\n        var v = s2 / (n - 1);\n        var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n        var b = s4 / (v * v);\n        var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n\n        return a * b - 3 * c;\n    } else {\n        return m4 / (m2 * m2) - 3;\n    }\n};\n\nexports.entropy = function entropy(values, eps) {\n    if (typeof (eps) === 'undefined') eps = 0;\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * Math.log(values[i] + eps);\n    return -sum;\n};\n\nexports.weightedMean = function weightedMean(values, weights) {\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * weights[i];\n    return sum;\n};\n\nexports.weightedStandardDeviation = function weightedStandardDeviation(values, weights) {\n    return Math.sqrt(exports.weightedVariance(values, weights));\n};\n\nexports.weightedVariance = function weightedVariance(values, weights) {\n    var theMean = exports.weightedMean(values, weights);\n    var vari = 0, l = values.length;\n    var a = 0, b = 0;\n\n    for (var i = 0; i < l; i++) {\n        var z = values[i] - theMean;\n        var w = weights[i];\n\n        vari += w * (z * z);\n        b += w;\n        a += w * w;\n    }\n\n    return vari * (b / (b * b - a));\n};\n\nexports.center = function center(values, inPlace) {\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n\n    var result = values;\n    if (!inPlace)\n        result = [].concat(values);\n\n    var theMean = exports.mean(result), l = result.length;\n    for (var i = 0; i < l; i++)\n        result[i] -= theMean;\n};\n\nexports.standardize = function standardize(values, standardDev, inPlace) {\n    if (typeof (standardDev) === 'undefined') standardDev = exports.standardDeviation(values);\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n    var l = values.length;\n    var result = inPlace ? values : new Array(l);\n    for (var i = 0; i < l; i++)\n        result[i] = values[i] / standardDev;\n    return result;\n};\n\nexports.cumulativeSum = function cumulativeSum(array) {\n    var l = array.length;\n    var result = new Array(l);\n    result[0] = array[0];\n    for (var i = 1; i < l; i++)\n        result[i] = result[i - 1] + array[i];\n    return result;\n};\n","import normed from 'ml-array-normed';\nimport rescale from 'ml-array-rescale';\nimport equallySpaced from 'ml-array-xy-equally-spaced';\nimport filterX from 'ml-array-xy-filter-x';\nimport savitzkyGolay from 'ml-savitzky-golay';\nimport { xDivide, xSubtract } from 'ml-spectra-processing';\nimport Stat from 'ml-stat/array';\n/**\n *\n * @private\n * @param {object} spectrum\n * @param {object} [options={}]\n * @param {number} [options.from=spectrum.x[0]]\n * @param {number} [options.to=spectrum.x[spectrum.x.length-1]]\n * @param {number} [options.numberOfPoints]\n * @param {Array} [options.filters=[]] Array of object containing 'name' (centerMean, divideSD, normalize, rescale) and 'options'\n * @param {Array} [options.exclusions=[]]\n * @returns {DataXY}\n */\nexport function getNormalized(spectrum, options = {}) {\n  let {\n    from = spectrum.x[0],\n    to = spectrum.x[spectrum.x.length - 1],\n    numberOfPoints,\n    filters = [],\n    exclusions = [],\n    processing = '',\n  } = options;\n\n  let { x, y } = filterX(spectrum, { from, to });\n\n  switch (processing) {\n    case 'firstDerivative':\n      if (options.processing) {\n        y = savitzkyGolay(y, 1, {\n          derivative: 1,\n          polynomial: 2,\n          windowSize: 5,\n        });\n        x = x.slice(2, x.length - 2);\n      }\n      break;\n    case 'secondDerivative':\n      if (options.processing) {\n        y = savitzkyGolay(y, 1, {\n          derivative: 2,\n          polynomial: 2,\n          windowSize: 5,\n        });\n        x = x.slice(2, x.length - 2);\n      }\n      break;\n    default:\n  }\n\n  for (let filter of filters) {\n    let filterOptions = filter.options || {};\n    switch (filter.name.toLowerCase()) {\n      case 'centermean': {\n        let mean = Stat.mean(y);\n        y = xSubtract(y, mean);\n        break;\n      }\n      case 'dividebysd': {\n        let std = Stat.standardDeviation(y);\n        y = xDivide(y, std);\n        break;\n      }\n      case 'normalize': {\n        // should be an integration in fact\n        y = normed(y, {\n          sumValue: filterOptions.value ? Number(filterOptions.value) : 1,\n          algorithm: 'absolute',\n        });\n        break;\n      }\n      case 'rescale': {\n        y = rescale(y, {\n          min: filterOptions.min ? Number(filter.options.min) : 0,\n          max: filterOptions.max ? Number(filter.options.max) : 1,\n        });\n        break;\n      }\n      case '':\n      case undefined:\n        break;\n      default:\n        throw new Error(`Unknown process kind: ${process.kind}`);\n    }\n  }\n\n  if (!numberOfPoints) {\n    return filterX({ x, y }, { from, to, exclusions });\n  }\n\n  return equallySpaced({ x, y }, { from, to, numberOfPoints, exclusions });\n}\n","import { getNormalized } from './util/getNormalized';\n\n/**\n * Class allowing to store and manipulate an analysis.\n * An analysis may contain one or more spectra that are identified\n * by a 'flavor'\n * @class Analysis\n * @param {object} [options={}]\n * @param {string} [options.id=randomString] unique identifier\n * @param {string} [options.label=options.id] human redeable label\n * @param {string} [options.defaultFlavor=''] human redeable label\n */\nexport class Analysis {\n  constructor(options = {}) {\n    this.id = options.id || Math.random().toString(36).substring(2, 10);\n    this.label = options.label || this.id;\n    this.spectra = {};\n    this.defaultFlavor =\n      options.defaultFlavor === undefined ? '' : options.defaultFlavor;\n  }\n\n  /**\n   * Set a spectrum for a specific flavor\n   * @param {DataXY} data\n   * @param {object} [options={}]\n   * @param {string} [options.defaultFlavor=this.defaultFlavor]\n   * @param {string} [options.xLabel='']\n   * @param {string} [options.yLabel='']\n   * @param {string} [options.title='']\n   * @param {object} [options.meta={}]\n   *\n   */\n  set(data, options = {}) {\n    const { flavor = this.defaultFlavor } = options;\n    this.spectra[flavor.toLowerCase()] = standardizeData(data, options);\n  }\n\n  /**\n   * Retrieve a Spectrum based on a flavor\n   * @param {object} [options={}]\n   * @param {string} [options.defaultFlavor=this.defaultFlavor]\n   * @returns {Spectrum}\n   */\n  get(flavor = this.defaultFlavor) {\n    flavor = flavor.toLowerCase();\n\n    if (!this.spectra[flavor]) {\n      return undefined;\n    }\n    return this.spectra[flavor];\n  }\n\n  /**\n   * Return the data object for a specific flavor with possibly some\n   * normalization options\n   * @param {object} [options={}]\n   */\n  getData(options = {}) {\n    const { flavor, normalization } = options;\n    let data = this.get(flavor);\n    if (!data) return undefined;\n    return getNormalized(data, normalization);\n  }\n\n  getXLabel(flavor) {\n    return this.get(flavor).xLabel;\n  }\n\n  getYLabel(flavor) {\n    return this.get(flavor).yLabel;\n  }\n}\n\n/**\n * Internal function that ensure the order of x / y array\n * @param {DataXY} [data]\n * @param {object} [options={}]\n * @return {Spectrum}\n */\nfunction standardizeData(data, options = {}) {\n  const { meta = {}, xLabel = '', yLabel = '', title = '' } = options;\n  let { x, y } = data;\n  if (x && x.length > 1 && x[0] > x[x.length - 1]) {\n    x = x.reverse();\n    y = y.reverse();\n  } else {\n    x = x || [];\n    y = y || [];\n  }\n  data = { x, y };\n\n  return {\n    x: data.x,\n    y: data.y,\n    xLabel,\n    yLabel,\n    title,\n    meta,\n  };\n}\n","const GC_MS_FIELDS = ['TIC', '.RIC', 'SCANNUMBER'];\n\nexport function complexChromatogram(result) {\n  let spectra = result.spectra;\n  let length = spectra.length;\n  let chromatogram = {\n    times: new Array(length),\n    series: {\n      ms: {\n        dimension: 2,\n        data: new Array(length),\n      },\n    },\n  };\n\n  let existingGCMSFields = [];\n  for (let i = 0; i < GC_MS_FIELDS.length; i++) {\n    let label = convertMSFieldToLabel(GC_MS_FIELDS[i]);\n    if (spectra[0][label]) {\n      existingGCMSFields.push(label);\n      chromatogram.series[label] = {\n        dimension: 1,\n        data: new Array(length),\n      };\n    }\n  }\n\n  for (let i = 0; i < length; i++) {\n    let spectrum = spectra[i];\n    chromatogram.times[i] = spectrum.pageValue;\n    for (let j = 0; j < existingGCMSFields.length; j++) {\n      chromatogram.series[existingGCMSFields[j]].data[i] = parseFloat(\n        spectrum[existingGCMSFields[j]],\n      );\n    }\n    if (spectrum.data) {\n      chromatogram.series.ms.data[i] = [spectrum.data.x, spectrum.data.y];\n    }\n  }\n  result.chromatogram = chromatogram;\n}\n\nexport function isMSField(canonicDataLabel) {\n  return GC_MS_FIELDS.indexOf(canonicDataLabel) !== -1;\n}\n\nexport function convertMSFieldToLabel(value) {\n  return value.toLowerCase().replace(/[^a-z0-9]/g, '');\n}\n","export default function convertToFloatArray(stringArray) {\n  let floatArray = [];\n  for (let i = 0; i < stringArray.length; i++) {\n    floatArray.push(parseFloat(stringArray[i]));\n  }\n  return floatArray;\n}\n","export default function fastParseXYData(spectrum, value) {\n  // TODO need to deal with result\n  //  console.log(value);\n  // we check if deltaX is defined otherwise we calculate it\n\n  let yFactor = spectrum.yFactor;\n  let deltaX = spectrum.deltaX;\n\n  spectrum.isXYdata = true;\n  // TODO to be improved using 2 array {x:[], y:[]}\n  let currentData = [];\n  spectrum.data = currentData;\n\n  let currentX = spectrum.firstX;\n  let currentY = spectrum.firstY;\n\n  // we skip the first line\n  //\n  let endLine = false;\n  let ascii;\n  let i = 0;\n  for (; i < value.length; i++) {\n    ascii = value.charCodeAt(i);\n    if (ascii === 13 || ascii === 10) {\n      endLine = true;\n    } else {\n      if (endLine) break;\n    }\n  }\n\n  // we proceed taking the i after the first line\n  let newLine = true;\n  let isDifference = false;\n  let isLastDifference = false;\n  let lastDifference = 0;\n  let isDuplicate = false;\n  let inComment = false;\n  let currentValue = 0; // can be a difference or a duplicate\n  let lastValue = 0; // must be the real last value\n  let isNegative = false;\n  let inValue = false;\n  let skipFirstValue = false;\n  let decimalPosition = 0;\n  for (; i <= value.length; i++) {\n    if (i === value.length) ascii = 13;\n    else ascii = value.charCodeAt(i);\n    if (inComment) {\n      // we should ignore the text if we are after $$\n      if (ascii === 13 || ascii === 10) {\n        newLine = true;\n        inComment = false;\n      }\n    } else {\n      // when is it a new value ?\n      // when it is not a digit, . or comma\n      // it is a number that is either new or we continue\n      if (ascii <= 57 && ascii >= 48) {\n        // a number\n        inValue = true;\n        if (decimalPosition > 0) {\n          currentValue += (ascii - 48) / Math.pow(10, decimalPosition++);\n        } else {\n          currentValue *= 10;\n          currentValue += ascii - 48;\n        }\n      } else if (ascii === 44 || ascii === 46) {\n        // a \",\" or \".\"\n        inValue = true;\n        decimalPosition++;\n      } else {\n        if (inValue) {\n          // need to process the previous value\n          if (newLine) {\n            newLine = false; // we don't check the X value\n            // console.log(\"NEW LINE\",isDifference, lastDifference);\n            // if new line and lastDifference, the first value is just a check !\n            // that we don't check ...\n            if (isLastDifference) skipFirstValue = true;\n          } else {\n            // need to deal with duplicate and differences\n            if (skipFirstValue) {\n              skipFirstValue = false;\n            } else {\n              if (isDifference) {\n                lastDifference = isNegative ? 0 - currentValue : currentValue;\n                isLastDifference = true;\n                isDifference = false;\n              } else if (!isDuplicate) {\n                lastValue = isNegative ? 0 - currentValue : currentValue;\n              }\n              let duplicate = isDuplicate ? currentValue - 1 : 1;\n              for (let j = 0; j < duplicate; j++) {\n                if (isLastDifference) {\n                  currentY += lastDifference;\n                } else {\n                  currentY = lastValue;\n                }\n                currentData.push(currentX);\n                currentData.push(currentY * yFactor);\n                currentX += deltaX;\n              }\n            }\n          }\n          isNegative = false;\n          currentValue = 0;\n          decimalPosition = 0;\n          inValue = false;\n          isDuplicate = false;\n        }\n\n        // positive SQZ digits @ A B C D E F G H I (ascii 64-73)\n        if (ascii < 74 && ascii > 63) {\n          inValue = true;\n          isLastDifference = false;\n          currentValue = ascii - 64;\n        } else if (ascii > 96 && ascii < 106) {\n          // negative SQZ digits a b c d e f g h i (ascii 97-105)\n          inValue = true;\n          isLastDifference = false;\n          currentValue = ascii - 96;\n          isNegative = true;\n        } else if (ascii === 115) {\n          // DUP digits S T U V W X Y Z s (ascii 83-90, 115)\n          inValue = true;\n          isDuplicate = true;\n          currentValue = 9;\n        } else if (ascii > 82 && ascii < 91) {\n          inValue = true;\n          isDuplicate = true;\n          currentValue = ascii - 82;\n        } else if (ascii > 73 && ascii < 83) {\n          // positive DIF digits % J K L M N O P Q R (ascii 37, 74-82)\n          inValue = true;\n          isDifference = true;\n          currentValue = ascii - 73;\n        } else if (ascii > 105 && ascii < 115) {\n          // negative DIF digits j k l m n o p q r (ascii 106-114)\n          inValue = true;\n          isDifference = true;\n          currentValue = ascii - 105;\n          isNegative = true;\n        } else if (ascii === 36 && value.charCodeAt(i + 1) === 36) {\n          // $ sign, we need to check the next one\n          inValue = true;\n          inComment = true;\n        } else if (ascii === 37) {\n          // positive DIF digits % J K L M N O P Q R (ascii 37, 74-82)\n          inValue = true;\n          isDifference = true;\n          currentValue = 0;\n          isNegative = false;\n        } else if (ascii === 45) {\n          // a \"-\"\n          // check if after there is a number, decimal or comma\n          let ascii2 = value.charCodeAt(i + 1);\n          if (\n            (ascii2 >= 48 && ascii2 <= 57) ||\n            ascii2 === 44 ||\n            ascii2 === 46\n          ) {\n            inValue = true;\n            if (!newLine) isLastDifference = false;\n            isNegative = true;\n          }\n        } else if (ascii === 13 || ascii === 10) {\n          newLine = true;\n          inComment = false;\n        }\n        // and now analyse the details ... space or tabulation\n        // if \"+\" we just don't care\n      }\n    }\n  }\n}\n","export default function parsePeakTable(spectrum, value, result) {\n  let removeCommentRegExp = /\\$\\$.*/;\n  let peakTableSplitRegExp = /[,\\t ]+/;\n\n  spectrum.isPeaktable = true;\n  let values;\n  let currentData = [];\n  spectrum.data = currentData;\n\n  // counts for around 20% of the time\n  let lines = value.split(/,? *,?[;\\r\\n]+ */);\n\n  for (let i = 1; i < lines.length; i++) {\n    values = lines[i]\n      .trim()\n      .replace(removeCommentRegExp, '')\n      .split(peakTableSplitRegExp);\n    if (values.length % 2 === 0) {\n      for (let j = 0; j < values.length; j = j + 2) {\n        // takes around 40% of the time to add and parse the 2 values nearly exclusively because of parseFloat\n        currentData.push(parseFloat(values[j]) * spectrum.xFactor);\n        currentData.push(parseFloat(values[j + 1]) * spectrum.yFactor);\n      }\n    } else {\n      result.logs.push(`Format error: ${values}`);\n    }\n  }\n}\n","export default function parseXYA(spectrum, value) {\n  let removeSymbolRegExp = /(\\(+|\\)+|<+|>+|\\s+)/g;\n\n  spectrum.isXYAdata = true;\n  let values;\n  let currentData = [];\n  spectrum.data = currentData;\n\n  let lines = value.split(/,? *,?[;\\r\\n]+ */);\n\n  for (let i = 1; i < lines.length; i++) {\n    values = lines[i].trim().replace(removeSymbolRegExp, '').split(',');\n    currentData.push(parseFloat(values[0]));\n    currentData.push(parseFloat(values[1]));\n  }\n}\n","import getMedian from 'ml-array-median';\n\nexport default function convertTo3DZ(spectra) {\n  let minZ = spectra[0].data[0];\n  let maxZ = minZ;\n  let ySize = spectra.length;\n  let xSize = spectra[0].data.length / 2;\n  let z = new Array(ySize);\n  for (let i = 0; i < ySize; i++) {\n    z[i] = new Array(xSize);\n    let xVector = spectra[i].data;\n    for (let j = 0; j < xSize; j++) {\n      let value = xVector[j * 2 + 1];\n      z[i][j] = value;\n      if (value < minZ) minZ = value;\n      if (value > maxZ) maxZ = value;\n    }\n  }\n\n  const firstX = spectra[0].data[0];\n  const lastX = spectra[0].data[spectra[0].data.length - 2]; // has to be -2 because it is a 1D array [x,y,x,y,...]\n  const firstY = spectra[0].pageValue;\n  const lastY = spectra[ySize - 1].pageValue;\n\n  // Because the min / max value are the only information about the matrix if we invert\n  // min and max we need to invert the array\n  if (firstX > lastX) {\n    for (let spectrum of z) {\n      spectrum.reverse();\n    }\n  }\n  if (firstY > lastY) {\n    z.reverse();\n  }\n\n  return {\n    z: z,\n    minX: Math.min(firstX, lastX),\n    maxX: Math.max(firstX, lastX),\n    minY: Math.min(firstY, lastY),\n    maxY: Math.max(firstY, lastY),\n    minZ: minZ,\n    maxZ: maxZ,\n    noise: getMedian(z[0].map(Math.abs)),\n  };\n}\n","export default function generateContourLines(zData, options) {\n  let noise = zData.noise;\n  let z = zData.z;\n  let povarHeight0, povarHeight1, povarHeight2, povarHeight3;\n  let isOver0, isOver1, isOver2, isOver3;\n  let nbSubSpectra = z.length;\n  let nbPovars = z[0].length;\n  let pAx, pAy, pBx, pBy;\n\n  let x0 = zData.minX;\n  let xN = zData.maxX;\n  let dx = (xN - x0) / (nbPovars - 1);\n  let y0 = zData.minY;\n  let yN = zData.maxY;\n  let dy = (yN - y0) / (nbSubSpectra - 1);\n  let minZ = zData.minZ;\n  let maxZ = zData.maxZ;\n\n  // System.out.prvarln('y0 '+y0+' yN '+yN);\n  // -------------------------\n  // Povars attribution\n  //\n  // 0----1\n  // |  / |\n  // | /  |\n  // 2----3\n  //\n  // ---------------------d------\n\n  let iter = options.nbContourLevels * 2;\n  let contourLevels = new Array(iter);\n  let lineZValue;\n  for (let level = 0; level < iter; level++) {\n    // multiply by 2 for positif and negatif\n    let contourLevel = {};\n    contourLevels[level] = contourLevel;\n    let side = level % 2;\n    let factor =\n      (maxZ - options.noiseMultiplier * noise) *\n      Math.exp((level >> 1) - options.nbContourLevels);\n    if (side === 0) {\n      lineZValue = factor + options.noiseMultiplier * noise;\n    } else {\n      lineZValue = 0 - factor - options.noiseMultiplier * noise;\n    }\n    let lines = [];\n    contourLevel.zValue = lineZValue;\n    contourLevel.lines = lines;\n\n    if (lineZValue <= minZ || lineZValue >= maxZ) continue;\n\n    for (let iSubSpectra = 0; iSubSpectra < nbSubSpectra - 1; iSubSpectra++) {\n      let subSpectra = z[iSubSpectra];\n      let subSpectraAfter = z[iSubSpectra + 1];\n      for (let povar = 0; povar < nbPovars - 1; povar++) {\n        povarHeight0 = subSpectra[povar];\n        povarHeight1 = subSpectra[povar + 1];\n        povarHeight2 = subSpectraAfter[povar];\n        povarHeight3 = subSpectraAfter[povar + 1];\n\n        isOver0 = povarHeight0 > lineZValue;\n        isOver1 = povarHeight1 > lineZValue;\n        isOver2 = povarHeight2 > lineZValue;\n        isOver3 = povarHeight3 > lineZValue;\n\n        // Example povar0 is over the plane and povar1 and\n        // povar2 are below, we find the varersections and add\n        // the segment\n        if (isOver0 !== isOver1 && isOver0 !== isOver2) {\n          pAx =\n            povar + (lineZValue - povarHeight0) / (povarHeight1 - povarHeight0);\n          pAy = iSubSpectra;\n          pBx = povar;\n          pBy =\n            iSubSpectra +\n            (lineZValue - povarHeight0) / (povarHeight2 - povarHeight0);\n          lines.push(pAx * dx + x0);\n          lines.push(pAy * dy + y0);\n          lines.push(pBx * dx + x0);\n          lines.push(pBy * dy + y0);\n        }\n        // remove push does not help !!!!\n        if (isOver3 !== isOver1 && isOver3 !== isOver2) {\n          pAx = povar + 1;\n          pAy =\n            iSubSpectra +\n            1 -\n            (lineZValue - povarHeight3) / (povarHeight1 - povarHeight3);\n          pBx =\n            povar +\n            1 -\n            (lineZValue - povarHeight3) / (povarHeight2 - povarHeight3);\n          pBy = iSubSpectra + 1;\n          lines.push(pAx * dx + x0);\n          lines.push(pAy * dy + y0);\n          lines.push(pBx * dx + x0);\n          lines.push(pBy * dy + y0);\n        }\n        // test around the diagonal\n        if (isOver1 !== isOver2) {\n          pAx =\n            (povar +\n              1 -\n              (lineZValue - povarHeight1) / (povarHeight2 - povarHeight1)) *\n              dx +\n            x0;\n          pAy =\n            (iSubSpectra +\n              (lineZValue - povarHeight1) / (povarHeight2 - povarHeight1)) *\n              dy +\n            y0;\n          if (isOver1 !== isOver0) {\n            pBx =\n              povar +\n              1 -\n              (lineZValue - povarHeight1) / (povarHeight0 - povarHeight1);\n            pBy = iSubSpectra;\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n          if (isOver2 !== isOver0) {\n            pBx = povar;\n            pBy =\n              iSubSpectra +\n              1 -\n              (lineZValue - povarHeight2) / (povarHeight0 - povarHeight2);\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n          if (isOver1 !== isOver3) {\n            pBx = povar + 1;\n            pBy =\n              iSubSpectra +\n              (lineZValue - povarHeight1) / (povarHeight3 - povarHeight1);\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n          if (isOver2 !== isOver3) {\n            pBx =\n              povar +\n              (lineZValue - povarHeight2) / (povarHeight3 - povarHeight2);\n            pBy = iSubSpectra + 1;\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n        }\n      }\n    }\n  }\n\n  return {\n    minX: zData.minX,\n    maxX: zData.maxX,\n    minY: zData.minY,\n    maxY: zData.maxY,\n    segments: contourLevels,\n  };\n}\n","import convertTo3DZ from './convertTo3DZ';\nimport generateContourLines from './generateContourLines';\n\nexport default function add2D(result, options) {\n  let zData = convertTo3DZ(result.spectra);\n  if (!options.noContour) {\n    result.contourLines = generateContourLines(zData, options);\n    delete zData.z;\n  }\n  result.minMax = zData;\n}\n","export default function profiling(result, action, options) {\n  if (result.profiling) {\n    result.profiling.push({\n      action,\n      time: Date.now() - options.start,\n    });\n  }\n}\n","export default function simpleChromatogram(result) {\n  let data = result.spectra[0].data;\n  result.chromatogram = {\n    times: data.x.slice(),\n    series: {\n      intensity: {\n        dimension: 1,\n        data: data.y.slice(),\n      },\n    },\n  };\n}\n","import add2D from './2d/add2D';\nimport { complexChromatogram } from './complexChromatogram';\nimport profiling from './profiling';\nimport simpleChromatogram from './simpleChromatogram';\n\nexport default function postProcessing(entriesFlat, result, options) {\n  for (let entry of entriesFlat) {\n    if (Object.keys(entry.ntuples).length > 0) {\n      let newNtuples = [];\n      let keys = Object.keys(entry.ntuples);\n      for (let i = 0; i < keys.length; i++) {\n        let key = keys[i];\n        let values = entry.ntuples[key];\n        for (let j = 0; j < values.length; j++) {\n          if (!newNtuples[j]) newNtuples[j] = {};\n          newNtuples[j][key] = values[j];\n        }\n      }\n      entry.ntuples = newNtuples;\n    }\n\n    if (entry.twoD && options.wantXY) {\n      add2D(entry, options);\n\n      profiling(result, 'Finished countour plot calculation', options);\n\n      if (!options.keepSpectra) {\n        delete entry.spectra;\n      }\n    }\n\n    if (options.chromatogram) {\n      options.xy = true;\n    }\n\n    if (options.xy && options.wantXY) {\n      // the spectraData should not be a oneD array but an object with x and y\n      if (entry.spectra && entry.spectra.length > 0) {\n        for (let spectrum of entry.spectra) {\n          if (spectrum.data) {\n            let data = spectrum.data;\n            let newData = {\n              x: new Array(data.length / 2),\n              y: new Array(data.length / 2),\n            };\n            for (let k = 0; k < data.length; k = k + 2) {\n              newData.x[k / 2] = data[k];\n              newData.y[k / 2] = data[k + 1];\n            }\n            spectrum.data = newData;\n          }\n        }\n      }\n    }\n\n    // maybe it is a GC (HPLC) / MS. In this case we add a new format\n    if (options.chromatogram) {\n      if (entry.spectra.length > 1) {\n        complexChromatogram(entry);\n      } else {\n        simpleChromatogram(entry);\n      }\n      profiling(result, 'Finished chromatogram calculation', options);\n    }\n  }\n}\n","export default function prepareSpectrum(spectrum) {\n  if (!spectrum.xFactor) spectrum.xFactor = 1;\n  if (!spectrum.yFactor) spectrum.yFactor = 1;\n  if (spectrum.observeFrequency) {\n    if (spectrum.xUnit && spectrum.xUnit.toUpperCase() === 'HZ') {\n      spectrum.xUnit = 'PPM';\n      spectrum.xFactor = spectrum.xFactor / spectrum.observeFrequency;\n      spectrum.firstX = spectrum.firstX / spectrum.observeFrequency;\n      spectrum.lastX = spectrum.lastX / spectrum.observeFrequency;\n      spectrum.deltaX = spectrum.deltaX / spectrum.observeFrequency;\n    }\n  }\n  if (spectrum.shiftOffsetVal) {\n    let shift = spectrum.firstX - spectrum.shiftOffsetVal;\n    spectrum.firstX = spectrum.firstX - shift;\n    spectrum.lastX = spectrum.lastX - shift;\n  }\n}\n","import { isMSField, convertMSFieldToLabel } from './complexChromatogram';\nimport convertToFloatArray from './convertToFloatArray';\nimport fastParseXYData from './parse/fastParseXYData';\nimport parsePeakTable from './parse/parsePeakTable';\nimport parseXYA from './parse/parseXYA';\nimport postProcessing from './postProcessing';\nimport prepareSpectrum from './prepareSpectrum';\nimport profiling from './profiling';\n\n// the following RegExp can only be used for XYdata, some peakTables have values with a \"E-5\" ...\nconst ntuplesSeparator = /[, \\t]+/;\n\nclass Spectrum {}\n\nconst defaultOptions = {\n  keepRecordsRegExp: /^$/,\n  canonicDataLabels: true,\n  dynamicTyping: false,\n  xy: true,\n  withoutXY: false,\n  chromatogram: false,\n  keepSpectra: false,\n  noContour: false,\n  nbContourLevels: 7,\n  noiseMultiplier: 5,\n  profiling: false,\n};\n\nexport default function convert(jcamp, options) {\n  options = Object.assign({}, defaultOptions, options);\n  options.wantXY = !options.withoutXY;\n  options.start = Date.now();\n\n  let entriesFlat = [];\n\n  let result = {\n    profiling: options.profiling ? [] : false,\n    logs: [],\n    entries: [],\n  };\n\n  let tmpResult = { children: [] };\n  let currentEntry = tmpResult;\n  let parentsStack = [];\n\n  let spectrum = new Spectrum();\n\n  if (typeof jcamp !== 'string') {\n    throw new TypeError('the JCAMP should be a string');\n  }\n\n  profiling(result, 'Before split to LDRS', options);\n\n  let ldrs = jcamp.replace(/[\\r\\n]+##/g, '\\n##').split('\\n##');\n\n  profiling(result, 'Split to LDRS', options);\n\n  if (ldrs[0]) ldrs[0] = ldrs[0].replace(/^[\\r\\n ]*##/, '');\n\n  for (let ldr of ldrs) {\n    // This is a new LDR\n    let position = ldr.indexOf('=');\n    let dataLabel = position > 0 ? ldr.substring(0, position) : ldr;\n    let dataValue = position > 0 ? ldr.substring(position + 1).trim() : '';\n\n    let canonicDataLabel = dataLabel.replace(/[_ -]/g, '').toUpperCase();\n\n    if (canonicDataLabel === 'DATATABLE') {\n      let endLine = dataValue.indexOf('\\n');\n      if (endLine === -1) endLine = dataValue.indexOf('\\r');\n      if (endLine > 0) {\n        let xIndex = -1;\n        let yIndex = -1;\n        // ##DATA TABLE= (X++(I..I)), XYDATA\n        // We need to find the variables\n\n        let infos = dataValue.substring(0, endLine).split(/[ ,;\\t]+/);\n        if (infos[0].indexOf('++') > 0) {\n          let firstVariable = infos[0].replace(\n            /.*\\(([a-zA-Z0-9]+)\\+\\+.*/,\n            '$1',\n          );\n          let secondVariable = infos[0].replace(/.*\\.\\.([a-zA-Z0-9]+).*/, '$1');\n          xIndex = currentEntry.ntuples.symbol.indexOf(firstVariable);\n          yIndex = currentEntry.ntuples.symbol.indexOf(secondVariable);\n        }\n\n        if (xIndex === -1) xIndex = 0;\n        if (yIndex === -1) yIndex = 0;\n\n        if (currentEntry.ntuples.first) {\n          if (currentEntry.ntuples.first.length > xIndex) {\n            spectrum.firstX = currentEntry.ntuples.first[xIndex];\n          }\n          if (currentEntry.ntuples.first.length > yIndex) {\n            spectrum.firstY = currentEntry.ntuples.first[yIndex];\n          }\n        }\n        if (currentEntry.ntuples.last) {\n          if (currentEntry.ntuples.last.length > xIndex) {\n            spectrum.lastX = currentEntry.ntuples.last[xIndex];\n          }\n          if (currentEntry.ntuples.last.length > yIndex) {\n            spectrum.lastY = currentEntry.ntuples.last[yIndex];\n          }\n        }\n        if (\n          currentEntry.ntuples.vardim &&\n          currentEntry.ntuples.vardim.length > xIndex\n        ) {\n          spectrum.nbPoints = currentEntry.ntuples.vardim[xIndex];\n        }\n        if (currentEntry.ntuples.factor) {\n          if (currentEntry.ntuples.factor.length > xIndex) {\n            spectrum.xFactor = currentEntry.ntuples.factor[xIndex];\n          }\n          if (currentEntry.ntuples.factor.length > yIndex) {\n            spectrum.yFactor = currentEntry.ntuples.factor[yIndex];\n          }\n        }\n        if (currentEntry.ntuples.units) {\n          if (currentEntry.ntuples.units.length > xIndex) {\n            spectrum.xUnit = currentEntry.ntuples.units[xIndex];\n          }\n          if (currentEntry.ntuples.units.length > yIndex) {\n            spectrum.yUnit = currentEntry.ntuples.units[yIndex];\n          }\n        }\n        spectrum.datatable = infos[0];\n        if (infos[1] && infos[1].indexOf('PEAKS') > -1) {\n          canonicDataLabel = 'PEAKTABLE';\n        } else if (\n          infos[1] &&\n          (infos[1].indexOf('XYDATA') || infos[0].indexOf('++') > 0)\n        ) {\n          canonicDataLabel = 'XYDATA';\n          spectrum.deltaX =\n            (spectrum.lastX - spectrum.firstX) / (spectrum.nbPoints - 1);\n        }\n      }\n    }\n\n    if (canonicDataLabel === 'XYDATA') {\n      if (options.wantXY) {\n        prepareSpectrum(spectrum);\n        // well apparently we should still consider it is a PEAK TABLE if there are no '++' after\n        if (dataValue.match(/.*\\+\\+.*/)) {\n          // ex: (X++(Y..Y))\n          if (!spectrum.deltaX) {\n            spectrum.deltaX =\n              (spectrum.lastX - spectrum.firstX) / (spectrum.nbPoints - 1);\n          }\n          fastParseXYData(spectrum, dataValue, result);\n        } else {\n          parsePeakTable(spectrum, dataValue, result);\n        }\n        currentEntry.spectra.push(spectrum);\n        spectrum = new Spectrum();\n      }\n      continue;\n    } else if (canonicDataLabel === 'PEAKTABLE') {\n      if (options.wantXY) {\n        prepareSpectrum(spectrum);\n        parsePeakTable(spectrum, dataValue, result);\n        currentEntry.spectra.push(spectrum);\n        spectrum = new Spectrum();\n      }\n      continue;\n    }\n    if (canonicDataLabel === 'PEAKASSIGNMENTS') {\n      if (options.wantXY) {\n        if (dataValue.match(/.*(XYA).*/)) {\n          // ex: (XYA)\n          parseXYA(spectrum, dataValue);\n        }\n        currentEntry.spectra.push(spectrum);\n        spectrum = new Spectrum();\n      }\n      continue;\n    }\n\n    if (canonicDataLabel === 'TITLE') {\n      let parentEntry = currentEntry;\n      if (!parentEntry.children) {\n        parentEntry.children = [];\n      }\n      currentEntry = {\n        spectra: [],\n        ntuples: {},\n        info: {},\n      };\n      parentEntry.children.push(currentEntry);\n      parentsStack.push(parentEntry);\n      entriesFlat.push(currentEntry);\n      currentEntry.title = dataValue;\n    } else if (canonicDataLabel === 'DATATYPE') {\n      currentEntry.dataType = dataValue;\n      if (dataValue.indexOf('nD') > -1) {\n        currentEntry.twoD = true;\n      }\n    } else if (canonicDataLabel === 'NTUPLES') {\n      if (dataValue.indexOf('nD') > -1) {\n        currentEntry.twoD = true;\n      }\n    } else if (canonicDataLabel === 'DATACLASS') {\n      currentEntry.dataClass = dataValue;\n    } else if (canonicDataLabel === 'XUNITS') {\n      spectrum.xUnit = dataValue;\n    } else if (canonicDataLabel === 'YUNITS') {\n      spectrum.yUnit = dataValue;\n    } else if (canonicDataLabel === 'FIRSTX') {\n      spectrum.firstX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'LASTX') {\n      spectrum.lastX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'FIRSTY') {\n      spectrum.firstY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'LASTY') {\n      spectrum.lastY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'NPOINTS') {\n      spectrum.nbPoints = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'XFACTOR') {\n      spectrum.xFactor = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'YFACTOR') {\n      spectrum.yFactor = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MAXX') {\n      spectrum.maxX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MINX') {\n      spectrum.minX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MAXY') {\n      spectrum.maxY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MINY') {\n      spectrum.minY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'DELTAX') {\n      spectrum.deltaX = parseFloat(dataValue);\n    } else if (\n      canonicDataLabel === '.OBSERVEFREQUENCY' ||\n      canonicDataLabel === '$SFO1'\n    ) {\n      if (!spectrum.observeFrequency) {\n        spectrum.observeFrequency = parseFloat(dataValue);\n      }\n    } else if (canonicDataLabel === '.OBSERVENUCLEUS') {\n      if (!spectrum.xType) {\n        currentEntry.xType = dataValue.replace(/[^a-zA-Z0-9]/g, '');\n      }\n    } else if (canonicDataLabel === '$SFO2') {\n      if (!currentEntry.indirectFrequency) {\n        currentEntry.indirectFrequency = parseFloat(dataValue);\n      }\n    } else if (canonicDataLabel === '$OFFSET') {\n      // OFFSET for Bruker spectra\n      currentEntry.shiftOffsetNum = 0;\n      if (!spectrum.shiftOffsetVal) {\n        spectrum.shiftOffsetVal = parseFloat(dataValue);\n      }\n    } else if (canonicDataLabel === '$REFERENCEPOINT') {\n      // OFFSET for Varian spectra\n      // if we activate this part it does not work for ACD specmanager\n      //         } else if (canonicDataLabel=='.SHIFTREFERENCE') {   // OFFSET FOR Bruker Spectra\n      //                 var parts = dataValue.split(/ *, */);\n      //                 currentEntry.shiftOffsetNum = parseInt(parts[2].trim());\n      //                 spectrum.shiftOffsetVal = parseFloat(parts[3].trim());\n    } else if (canonicDataLabel === 'VARNAME') {\n      currentEntry.ntuples.varname = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'SYMBOL') {\n      currentEntry.ntuples.symbol = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'VARTYPE') {\n      currentEntry.ntuples.vartype = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'VARFORM') {\n      currentEntry.ntuples.varform = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'VARDIM') {\n      currentEntry.ntuples.vardim = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'UNITS') {\n      currentEntry.ntuples.units = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'FACTOR') {\n      currentEntry.ntuples.factor = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'FIRST') {\n      currentEntry.ntuples.first = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'LAST') {\n      currentEntry.ntuples.last = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'MIN') {\n      currentEntry.ntuples.min = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'MAX') {\n      currentEntry.ntuples.max = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === '.NUCLEUS') {\n      if (currentEntry.twoD) {\n        currentEntry.yType = dataValue.split(ntuplesSeparator)[0];\n      }\n    } else if (canonicDataLabel === 'PAGE') {\n      spectrum.page = dataValue.trim();\n      spectrum.pageValue = parseFloat(dataValue.replace(/^.*=/, ''));\n      spectrum.pageSymbol = spectrum.page.replace(/[=].*/, '');\n      let pageSymbolIndex = currentEntry.ntuples.symbol.indexOf(\n        spectrum.pageSymbol,\n      );\n      let unit = '';\n      if (\n        currentEntry.ntuples.units &&\n        currentEntry.ntuples.units[pageSymbolIndex]\n      ) {\n        unit = currentEntry.ntuples.units[pageSymbolIndex];\n      }\n      if (currentEntry.indirectFrequency && unit !== 'PPM') {\n        spectrum.pageValue /= currentEntry.indirectFrequency;\n      }\n    } else if (canonicDataLabel === 'RETENTIONTIME') {\n      spectrum.pageValue = parseFloat(dataValue);\n    } else if (isMSField(canonicDataLabel)) {\n      spectrum[convertMSFieldToLabel(canonicDataLabel)] = dataValue;\n    } else if (canonicDataLabel === 'SAMPLEDESCRIPTION') {\n      spectrum.sampleDescription = dataValue;\n    } else if (canonicDataLabel === 'END') {\n      currentEntry = parentsStack.pop();\n    }\n\n    if (\n      currentEntry &&\n      currentEntry.info &&\n      canonicDataLabel.match(options.keepRecordsRegExp)\n    ) {\n      let label = options.canonicDataLabels ? canonicDataLabel : dataLabel;\n      let value = dataValue.trim();\n      if (options.dynamicTyping && !isNaN(value)) {\n        value = Number(value);\n      }\n      if (currentEntry.info[label]) {\n        if (!Array.isArray(currentEntry.info[label])) {\n          currentEntry.info[label] = [currentEntry.info[label]];\n        }\n        currentEntry.info[label].push(value);\n      } else {\n        currentEntry.info[label] = value;\n      }\n    }\n  }\n\n  profiling(result, 'Finished parsing', options);\n\n  postProcessing(entriesFlat, result, options);\n\n  profiling(result, 'Total time', options);\n\n  /*\n  if (result.children && result.children.length>0) {\n    result = { ...result, ...result.children[0] };\n  }\n  */\n  result.entries = tmpResult.children;\n  result.flatten = entriesFlat;\n\n  return result;\n}\n","import { convert } from 'jcampconverter';\n\nimport { Analysis } from '../Analysis';\n\n/**\n * Creates a new Analysis from a JCAMP string\n * @param {string} jcamp - String containing the JCAMP data\n * @param {object} [options={}]\n * @param {object} [options.id=Math.random()]\n * @param {object} [options.flavor='']\n * @return {Analysis} - New class element with the given data\n */\nexport function fromJcamp(jcamp, options = {}) {\n  let analysis = new Analysis(options);\n  addJcamp(analysis, jcamp, options);\n  return analysis;\n}\n\nfunction addJcamp(analysis, jcamp, options = {}) {\n  const { defaultFlavor } = options;\n  let converted = convert(jcamp, {\n    keepRecordsRegExp: /.*/,\n    canonicDataLabels: false,\n    dynamicTyping: true,\n  });\n\n  for (let entry of converted.flatten) {\n    let currentSpectrum = entry.spectra[0];\n    let xLabel = currentSpectrum.xUnit;\n    let yLabel = currentSpectrum.yUnit;\n\n    let flavor = entry.info.$cheminfoFlavor || defaultFlavor;\n\n    let meta = {};\n    for (let key in entry.info) {\n      if (key.startsWith('$') && key !== '$cheminfoFlavor') {\n        meta[key.substring(1)] = entry.info[key];\n      }\n    }\n\n    analysis.set(currentSpectrum.data, {\n      flavor,\n      xLabel,\n      yLabel,\n      title: entry.title,\n      meta,\n    });\n  }\n}\n","export function addStyle(serie, spectrum, options = {}) {\n  const { color = 'darkgrey' } = options;\n  serie.style = [\n    {\n      name: 'unselected',\n      style: {\n        line: {\n          color,\n          width: 1,\n          dash: 1,\n        },\n      },\n    },\n    {\n      name: 'selected',\n      style: {\n        line: {\n          color,\n          width: 3,\n          dash: 1,\n        },\n      },\n    },\n  ];\n  serie.name = spectrum.label || spectrum.id;\n}\n","export const COLORS = [\n  '#FFB300',\n  '#803E75',\n  '#FF6800',\n  '#A6BDD7',\n  '#C10020',\n  '#CEA262',\n  '#817066',\n  '#007D34',\n  '#F6768E',\n  '#00538A',\n  '#FF7A5C',\n  '#53377A',\n  '#FF8E00',\n  '#B32851',\n  '#F4C800',\n  '#7F180D',\n  '#93AA00',\n  '#593315',\n  '#F13A13',\n  '#232C16',\n];\n","import { addStyle } from './addStyle';\nimport { COLORS } from './colors';\n/**\n * Generate a jsgraph chart format from an array of Analysis\n * @param {Array<Analysis>} analyses\n * @param {object} [options={}]\n * @param {Array} [options.ids] List of spectra ids, by all\n * @param {Array} [options.colors] List of colors\n * @param {Array} [options.flavor]\n * @param {object} [options.normalization]\n */\nexport function getJSGraph(analyses, options = {}) {\n  const { colors = COLORS, flavor, normalization } = options;\n  let series = [];\n\n  let xLabel = '';\n  let yLabel = '';\n\n  for (let i = 0; i < analyses.length; i++) {\n    const analysis = analyses[i];\n    let serie = {};\n    let currentData = analysis.getData({ flavor, normalization });\n    if (!currentData) continue;\n    if (!xLabel) xLabel = analysis.getXLabel(flavor);\n    if (!yLabel) yLabel = analysis.getYLabel(flavor);\n    addStyle(serie, analysis, { color: colors[i] });\n    serie.data = currentData;\n    series.push(serie);\n  }\n  return {\n    axes: {\n      x: {\n        label: xLabel,\n        unit: '',\n        unitWrapperBefore: '',\n        unitWrapperAfter: '',\n        flipped: false,\n        display: true,\n      },\n      y: {\n        label: yLabel,\n        unit: '',\n        unitWrapperBefore: '',\n        unitWrapperAfter: '',\n        flipped: false,\n        display: true,\n      },\n    },\n    series,\n  };\n}\n","export function getNormalizationAnnotations(filter = {}, boundary) {\n  let { exclusions = [] } = filter;\n  let annotations = [];\n  exclusions = exclusions.filter((exclusion) => !exclusion.ignore);\n  annotations = exclusions.map((exclusion) => {\n    let annotation = {\n      type: 'rect',\n      position: [\n        { x: exclusion.from, y: boundary.y.min },\n        { x: exclusion.to, y: boundary.y.max },\n      ],\n      strokeWidth: 0,\n      fillColor: 'rgba(255,255,224,1)',\n    };\n    return annotation;\n  });\n  if (filter.from !== undefined) {\n    annotations.push({\n      type: 'rect',\n      position: [\n        { x: Number.MIN_SAFE_INTEGER, y: boundary.y.min },\n        { x: filter.from, y: boundary.y.max },\n      ],\n      strokeWidth: 0,\n      fillColor: 'rgba(255,255,224,1)',\n    });\n  }\n  if (filter.to !== undefined) {\n    annotations.push({\n      type: 'rect',\n      position: [\n        { x: filter.to, y: boundary.y.min },\n        { x: Number.MAX_SAFE_INTEGER, y: boundary.y.max },\n      ],\n      strokeWidth: 0,\n      fillColor: 'rgba(255,255,224,1)',\n    });\n  }\n  return annotations;\n}\n","export function fromXxyyArray(data) {\n  return { x: data[0], y: data[1] };\n}\n\nexport function fromXyxyArray(data) {\n  var x = [];\n  var y = [];\n  for (const point of data) {\n    x.push(point[0]);\n    y.push(point[1]);\n  }\n  return { x, y };\n}\n\nexport function fromXyxyObject(data) {\n  var x = [];\n  var y = [];\n  for (const point of data) {\n    x.push(point.x);\n    y.push(point.y);\n  }\n  return { x, y };\n}\n\nexport function fromGeneral(data) {\n  if (Array.isArray(data)) {\n    if (data.length === 0) return { x: [], y: [] };\n    if (Array.isArray(data[0])) {\n      if (data.length === 2) {\n        return fromXxyyArray(data);\n      } else {\n        return fromXyxyArray(data);\n      }\n    } else {\n      return fromXyxyObject(data);\n    }\n  } else {\n    if (Array.isArray(data.x) && Array.isArray(data.x)) {\n      return data;\n    } else {\n      throw new TypeError('unknown data format');\n    }\n  }\n}\n","export function toXxyyArray({ x, y }) {\n  return [x, y];\n}\n\nexport function toXyxyArray({ x, y }) {\n  var ans = [];\n  for (var index = 0; index < x.length; index++) {\n    ans.push([x[index], y[index]]);\n  }\n  return ans;\n}\n\nexport function toXyxyObject({ x, y }) {\n  var ans = [];\n  for (var index = 0; index < x.length; index++) {\n    ans.push({ x: x[index], y: y[index] });\n  }\n  return ans;\n}\n","import { fromGeneral, fromXxyyArray, fromXyxyArray, fromXyxyObject } from './from';\nimport { toXxyyArray, toXyxyArray, toXyxyObject } from './to';\n\n/**\n * Convert between different xy formats\n * @param {*} data - input set of points to parse\n * @param {object} [options] - input and output options\n * @param {string} [options.inputFormat] - input format, if not in list infers the kind\n * @param {string} [options.outputFormat = 'xxyyObject'] - output format\n * @return {*} - output set of points\n */\nexport default function xyConvert(data, options = {}) {\n  const { inputFormat, outputFormat = 'xxyyObject' } = options;\n\n  if (inputFormat === outputFormat) return data;\n\n  let middleData;\n  switch (inputFormat) {\n    case 'xxyyArray':\n      middleData = fromXxyyArray(data);\n      break;\n\n    case 'xyxyArray':\n      middleData = fromXyxyArray(data);\n      break;\n\n    case 'xxyyObject':\n      // this is the base case\n      middleData = data;\n      break;\n\n    case 'xyxyObject':\n      middleData = fromXyxyObject(data);\n      break;\n\n    default:\n      middleData = fromGeneral(data);\n      break;\n  }\n\n  switch (outputFormat) {\n    case 'xxyyArray':\n      return toXxyyArray(middleData);\n\n    case 'xyxyArray':\n      return toXyxyArray(middleData);\n\n    case 'xxyyObject':\n      return middleData;\n\n    case 'xyxyObject':\n      return toXyxyObject(middleData);\n\n    default:\n      throw new TypeError(`unknown output format ${outputFormat}`);\n  }\n}\n","/**\n * Parse from a xyxy data array\n * @param {Array<Array<number>>} data\n * @param {object} [meta] - same metadata object format that the fromText\n * @return {string} JCAMP of the input\n */\nexport default function creator(data, meta = {}) {\n  const {\n    title = '',\n    owner = '',\n    origin = '',\n    type = '',\n    xUnit = '',\n    yUnit = '',\n    info = {},\n  } = meta;\n  let firstX = Number.POSITIVE_INFINITY;\n  let lastX = Number.NEGATIVE_INFINITY;\n  let firstY = Number.POSITIVE_INFINITY;\n  let lastY = Number.NEGATIVE_INFINITY;\n  let points = [];\n\n  for (let i = 0; i < data.x.length; i++) {\n    let x = data.x[i];\n    let y = data.y[i];\n    if (firstX > x) {\n      firstX = x;\n    }\n    if (lastX < x) {\n      lastX = x;\n    }\n    if (firstY > y) {\n      firstY = y;\n    }\n    if (lastY < y) {\n      lastY = y;\n    }\n    points.push(`${x} ${y}`);\n  }\n\n  let header = `##TITLE=${title}\n##JCAMP-DX=4.24\n##DATA TYPE=${type}\n##ORIGIN=${origin}\n##OWNER=${owner}\n##XUNITS=${xUnit}\n##YUNITS=${yUnit}\n##FIRSTX=${firstX}\n##LASTX=${lastX}\n##FIRSTY=${firstY}\n##LASTY=${lastY}\\n`;\n\n  for (const key of Object.keys(info)) {\n    header += `##$${key}=${info[key]}\\n`;\n  }\n\n  // we leave the header and utf8 fonts ${header.replace(/[^\\t\\r\\n\\x20-\\x7F]/g, '')\n\n  return `${header}##NPOINTS=${points.length}\n##PEAK TABLE=(XY..XY)\n${points.join('\\n')}\n##END`;\n}\n","import { parseXY } from 'xy-parser';\nimport xyConvert from 'ml-xy-convert';\n\nimport creator from './creator';\n\n/**\n * Convert strings into JCAMP and add extra information\n * @param {string} data - values to add to the file, usually a csv or tsv values\n * @param {object} [options={}]\n * @param {string} [options.meta] - metadata of the file\n * @param {string} [options.meta.title = ''] - title of the file\n * @param {string} [options.meta.owner = ''] - owner of the file\n * @param {string} [options.meta.origin = ''] - origin of the file\n * @param {string} [options.meta.type = ''] - type of data\n * @param {string} [options.meta.xUnit = ''] - units for the x axis\n * @param {string} [options.meta.yUnit = ''] - units for the y axis\n * @param {object} [options.meta.info = {}] - comments to add to the file\n * @param {object} [options.parser = {}] - 'xy-parser' options. arrayType = 'xyxy' is enforced\n * @return {string} JCAMP of the input\n */\nexport function fromText(data, options = {}) {\n  const { meta = {}, parserOptions = {} } = options;\n\n  parserOptions.keepInfo = true;\n  let parsed = parseXY(data, parserOptions);\n\n  if (!meta.info) meta.info = {};\n  meta.info.header = parsed.info.map((i) => i.value).join('\\n');\n  let jcamp = creator(parsed.data, meta);\n  return jcamp;\n}\n\n/**\n * Parse from any supported format in ml-xy-convert\n * @param {*} data - object or array with a set of points\n * @param {object} [meta] - metadata object\n * @return {string} JCAMP of the input\n */\nexport function fromJSON(data, meta = {}) {\n  const parsed = xyConvert(data, { outputFormat: 'xxyyObject' });\n  return creator(parsed, meta);\n}\n","import { fromJSON } from 'convert-to-jcamp';\n\nexport function toJcamp(analysis, options = {}) {\n  const { dataType = '' } = options;\n  let jcamps = [];\n  for (let flavorName in analysis.spectra) {\n    let data = analysis.get(flavorName);\n    jcamps.push(\n      getJcamp(data, {\n        dataType,\n        flavorName,\n      }),\n    );\n  }\n\n  return jcamps.join('\\n');\n}\n\nfunction getJcamp(flavor, options) {\n  let jcampOptions = {\n    xUnit: flavor.xLabel,\n    yUnit: flavor.yLabel,\n    title: flavor.title,\n    type: options.dataType,\n    info: { ...flavor.meta, cheminfoFlavor: options.flavorName },\n  };\n  return fromJSON({ x: flavor.x, y: flavor.y }, jcampOptions);\n}\n","/**\n * @typedef {Object} DataXY\n * @property {Array<Number>} x Array of x values\n * @property {Array<Number>} y Array of y values\n */\n\n/**\n * @typedef {Object} Spectrum\n * @property {Array<Number>} x Array of x values\n * @property {Array<Number>} y Array of y values\n * @property {string} xLabel\n * @property {string} yLabel\n * @property {string} title\n * @property {object} meta\n */\n\nimport { AnalysesManager } from './AnalysesManager';\nimport { Analysis } from './Analysis';\nimport { fromJcamp } from './from/fromJcamp';\nimport { getJSGraph } from './jsgraph/getJSGraph';\nimport { getNormalizationAnnotations } from './jsgraph/getNormalizationAnnotations';\nimport { toJcamp } from './to/toJcamp';\nimport { getNormalized } from './util/getNormalized';\n\nexport function CommonSpectrum(options = {}) {\n  const { dataType = '', defaultFlavor = '' } = options;\n\n  class CustomAnalysis extends Analysis {\n    constructor(analysisOptions) {\n      super(analysisOptions);\n      this.defaultFlavor = defaultFlavor;\n    }\n  }\n\n  return {\n    Analysis: CustomAnalysis,\n    AnalysesManager,\n\n    getNormalized,\n    fromJcamp: (jcamp, fromOptions) =>\n      fromJcamp(jcamp, { flavor: defaultFlavor, ...fromOptions }),\n    toJcamp: (spectrum) => toJcamp(spectrum, { dataType }),\n    getJSGraph: (analyses, jsGraphOptions) =>\n      getJSGraph(analyses, { flavor: defaultFlavor, ...jsGraphOptions }),\n    getNormalizationAnnotations,\n  };\n}\n","export function parsePerkinElmer(text) {\n  let lines = text.split(/[\\r\\n]+/);\n  let result = { meta: {}, data: { time: [], weight: [], temperature: [] } };\n  let section = '';\n  let inMethodSteps = false;\n  for (let line of lines) {\n    if (inMethodSteps) {\n      if (line.startsWith('1) TGA')) {\n        inMethodSteps = false;\n      } else {\n        if (!result.meta['Method Steps']) result.meta['Method Steps'] = '';\n        result.meta['Method Steps'] += `${line.replace(/\\t/g, '  ')}\\n`;\n      }\n    } else if (line.match(/^[a-zA-Z -]+$/)) {\n      section = trim(line);\n    } else if (line.match(/.*:.*/)) {\n      let position = line.indexOf(':');\n      let description = line.substring(0, position);\n      let value = trim(line.substring(position + 1));\n      result.meta[(section ? `${section}_` : '') + description] = value;\n    } else if (line.match(/^[0-9\\t .]+$/)) {\n      let fields = line.replace(/^\\t/, '').split('\\t');\n      result.data.time.push(Number(fields[0]));\n      result.data.weight.push(Number(fields[1]));\n      result.data.temperature.push(Number(fields[4]));\n    } else {\n      //  console.log('Problem: ', line);\n    }\n    if (line.startsWith('Method Steps:')) {\n      inMethodSteps = true;\n    }\n  }\n  return result;\n}\n\nfunction trim(string) {\n  return string.replace(/^[ \\t]*(.*?)[ \\t]*$/, '$1');\n}\n","import { Analysis } from '..';\n\nimport { parsePerkinElmer } from './parsePerkinElmer';\n\n/**\n * Creates a new Chromatogram element based in a JCAMP string\n * @param {string} text - String containing the JCAMP data\n * @return {Analysis} - New class element with the given data\n */\nexport function fromPerkinElmer(text) {\n  let analysis = new Analysis();\n  let result = parsePerkinElmer(text);\n  analysis.set(\n    { x: result.data.temperature, y: result.data.weight },\n    {\n      xLabel: 'Temperature [°C]',\n      yLabel: 'Weight [mg]',\n      title: result.meta['Sample ID'],\n      meta: result.meta,\n      flavor: 'weightVersusTemperature',\n    },\n  );\n  analysis.set(\n    { x: result.data.time, y: result.data.weight },\n    {\n      xLabel: 'Time [s]',\n      yLabel: 'Weight [mg]',\n      title: result.meta['Sample ID'],\n      meta: result.meta,\n      flavor: 'weightVersusTime',\n    },\n  );\n  return analysis;\n}\n","/* @license\nPapa Parse\nv5.2.0\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&U(e.read)&&U(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",v=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(v=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s)}();var o=new RegExp(q(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||h(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:h(e.data[0])),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function h(e){if(\"object\"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function u(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=y(e[a],a);0<t.length&&(r+=v)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=y(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=v)}}return r}function y(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=e.toString().replace(o,a),r=\"boolean\"==typeof n&&n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(i,b.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1);return r?s+i+s:i}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=w,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else U(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=E(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&U(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(U(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!U(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)(e[-+]?\\d+)?\\s*$/,u=/(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(U(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function v(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),m.skipEmptyLines)for(var e=0;e<c.data.length;e++)v(c.data[e])&&c.data.splice(e--,1);return _()&&function(){if(!c)return;function e(e){U(m.transformHeader)&&(e=m.transformHeader(e)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),m.transform&&(s=m.transform(s,n)),s=y(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function y(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(q(t)+\"([^]*?)\"+q(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,m.delimiter)U(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new w({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&v(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=E(m);return m.preview&&m.header&&s.preview++,a=e,o=new w(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=U(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,U(m.complete)&&m.complete(c),a=\"\"}}function q(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function w(e){var O,D=(e=e||{}).delimiter,I=e.newline,T=e.comments,A=e.step,L=e.preview,F=e.fastMode,z=O=void 0===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(z=e.escapeChar),(\"string\"!=typeof D||-1<b.BAD_DELIMITERS.indexOf(D))&&(D=\",\"),T===D)throw new Error(\"Comment character same as delimiter\");!0===T?T=\"#\":(\"string\"!=typeof T||-1<b.BAD_DELIMITERS.indexOf(T))&&(T=!1),\"\\n\"!==I&&\"\\r\"!==I&&\"\\r\\n\"!==I&&(I=\"\\n\");var M=0,j=!1;this.parse=function(a,t,i){if(\"string\"!=typeof a)throw new Error(\"Input must be a string\");var r=a.length,e=D.length,n=I.length,s=T.length,o=U(A),h=[],u=[],f=[],d=M=0;if(!a)return R();if(F||!1!==F&&-1===a.indexOf(O)){for(var l=a.split(I),c=0;c<l.length;c++){if(f=l[c],M+=f.length,c!==l.length-1)M+=I.length;else if(i)return R();if(!T||f.substring(0,s)!==T){if(o){if(h=[],b(f.split(D)),S(),j)return R()}else b(f.split(D));if(L&&L<=c)return h=h.slice(0,L),R(!0)}}return R()}for(var p=a.indexOf(D,M),g=a.indexOf(I,M),_=new RegExp(q(z)+q(O),\"g\"),m=a.indexOf(O,M);;)if(a[M]!==O)if(T&&0===f.length&&a.substring(M,M+s)===T){if(-1===g)return R();M=g+n,g=a.indexOf(I,M),p=a.indexOf(D,M)}else{if(-1!==p&&(p<g||-1===g)){if(!(p<m)){f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}var v=x(p,m,g);if(v&&void 0!==v.nextDelim){p=v.nextDelim,m=v.quoteSearch,f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}}if(-1===g)break;if(f.push(a.substring(M,g)),C(g+n),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0)}else for(m=M,M++;;){if(-1===(m=a.indexOf(O,m+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:M}),E();if(m===r-1)return E(a.substring(M,m).replace(_,O));if(O!==z||a[m+1]!==z){if(O===z||0===m||a[m-1]!==z){-1!==p&&p<m+1&&(p=a.indexOf(D,m+1)),-1!==g&&g<m+1&&(g=a.indexOf(I,m+1));var y=w(-1===g?p:Math.min(p,g));if(a[m+1+y]===D){f.push(a.substring(M,m).replace(_,O)),a[M=m+1+y+e]!==O&&(m=a.indexOf(O,M)),p=a.indexOf(D,M),g=a.indexOf(I,M);break}var k=w(g);if(a.substring(m+1+k,m+1+k+n)===I){if(f.push(a.substring(M,m).replace(_,O)),C(m+1+k+n),p=a.indexOf(D,M),m=a.indexOf(O,M),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:M}),m++}}else m++}return E();function b(e){h.push(e),d=M}function w(e){var t=0;if(-1!==e){var i=a.substring(m+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=a.substring(M)),f.push(e),M=r,b(f),o&&S()),R()}function C(e){M=e,b(f),f=[],g=a.indexOf(I,M)}function R(e){return{data:h,errors:u,meta:{delimiter:D,linebreak:I,aborted:j,truncated:!!e,cursor:d+(t||0)}}}function S(){A(R()),h=[],u=[]}function x(e,t,i){var r={nextDelim:void 0,quoteSearch:void 0},n=a.indexOf(O,t+1);if(t<e&&e<n&&(n<i||-1===i)){var s=a.indexOf(D,n);if(-1===s)return r;n<s&&(n=a.indexOf(O,n+1)),r=x(s,n,i)}else r={nextDelim:e,quoteSearch:t};return r}},this.abort=function(){j=!0},this.getCharIndex=function(){return M}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function v(){throw new Error(\"Not implemented.\")}function E(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=E(e[i]);return t}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","import Papa from 'papaparse';\n\nimport { Analysis } from '..';\n\n/**\n * Creates a new Chromatogram element based in a JCAMP string\n * @param {string} text - String containing the JCAMP data\n * @return {Analysis} - New class element with the given data\n */\nexport function fromPerkinElmerCSV(text) {\n  let parsed = Papa.parse(text, { header: true, dynamicTyping: true }).data;\n\n  let analysis = new Analysis();\n  analysis.set(\n    {\n      x: parsed.map((d) => d['Sample Temperature']),\n      y: parsed.map((d) => d['Unsubtracted Weight']),\n    },\n    {\n      xLabel: 'Temperature [°C]',\n      yLabel: 'Weight [mg]',\n      flavor: 'weightVersusTemperature',\n    },\n  );\n  analysis.set(\n    {\n      x: parsed.map((d) => d.Time),\n      y: parsed.map((d) => d['Unsubtracted Weight']),\n    },\n    {\n      xLabel: 'Time [s]',\n      yLabel: 'Weight [mg]',\n      flavor: 'weightVersusTime',\n    },\n  );\n  return analysis;\n}\n","import { CommonSpectrum } from 'common-spectrum';\n\nexport const {\n  Analysis,\n  AnalysesManager,\n  fromJcamp,\n  toJcamp,\n  getJSGraph,\n  getNormalizationAnnotations,\n} = new CommonSpectrum({\n  dataType: 'TGA',\n  defaultFlavor: 'weightVersusTemperature',\n});\n\nexport { fromPerkinElmer } from './from/fromPerkinElmer';\nexport { fromPerkinElmerCSV } from './from/fromPerkinElmerCSV';\n"],"names":["AnalysesManager","constructor","analyses","addAnalysis","analysis","index","getAnalysisIndex","id","undefined","push","getAnalyses","options","ids","includes","removeAnalysis","splice","i","length","isNaN","toString","Object","prototype","isAnyArray","object","call","endsWith","max","input","isArray","TypeError","maxValue","sum","sumValue","norm","arguments","_options$algorithm","algorithm","_options$sumValue","_options$maxValue","Error","output","Array","toLowerCase","absoluteSumValue","absoluteSum","slice","currentMaxValue","factor","_i","sumFactor","_i2","concat","Math","abs","min","minValue","rescale","currentMin","currentMax","RangeError","_options$min","autoMinMax","_options$max","_typeof","obj","Symbol","iterator","sequentialFill","_options","_options$from","from","_options$to","to","_options$size","size","step","floor","normalize","zones","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","JSON","parse","stringify","map","zone","sort","a","b","forEach","filter","currentZone","result","invert","exclusions","exclusion","nextExclusion","zonesWithPoints","numberOfPoints","totalSize","reduce","previous","current","unitsPerPoint","currentTotal","round","integral","x0","x1","slope","intercept","equallySpacedSmooth","x","y","xLength","halfStep","initialOriginalStep","lastOriginalStep","previousX","MIN_VALUE","previousY","nextX","nextY","currentValue","sumAtMin","sumAtMax","j","getSlope","y0","y1","add","main","equallySpacedSlot","lastStep","start","MAX_VALUE","frontOutsideSpectra","backOutsideSpectra","currentPoints","equallySpaced","arrayXY","reverse","variant","xResult","yResult","zoneResult","processZone","getZones","currentFrom","filterX","points","currentZoneIndex","newX","newY","position","checkRowIndex","matrix","outer","rows","checkColumnIndex","columns","checkRowVector","vector","to1DArray","checkColumnVector","checkIndices","rowIndices","columnIndices","row","checkRowIndices","column","checkColumnIndices","rowOut","some","r","columnOut","c","checkRange","startRow","endRow","startColumn","endColumn","checkNumber","newArray","value","array","name","sumByRow","get","sumByColumn","sumAll","v","productByRow","productByColumn","productAll","varianceByRow","unbiased","mean","cols","variance","sum1","sum2","varianceByColumn","varianceAll","centerByRow","set","centerByColumn","centerAll","getScaleByRow","scale","pow","sqrt","scaleByRow","getScaleByColumn","scaleByColumn","getScaleAll","divider","scaleAll","inspectMatrix","indent","repeat","indentData","inspectData","maxRows","maxColumns","maxNumSize","maxI","maxJ","line","formatNumber","join","num","numStr","String","padEnd","precise","toPrecision","exponential","toExponential","eIndex","indexOf","e","substring","installMathOperations","AbstractMatrix","Matrix","addS","addM","checkMatrix","newMatrix","sub","subS","subM","subtract","subtractS","subtractM","mul","mulS","mulM","multiply","multiplyS","multiplyM","div","divS","divM","divide","divideS","divideM","mod","modS","modM","modulus","modulusS","modulusM","and","andS","andM","or","orS","orM","xor","xorS","xorM","leftShift","leftShiftS","leftShiftM","signPropagatingRightShift","signPropagatingRightShiftS","signPropagatingRightShiftM","rightShift","rightShiftS","rightShiftM","zeroFillRightShift","zeroFillRightShiftS","zeroFillRightShiftM","not","acos","acosh","asin","asinh","atan","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","fround","log","log1p","log10","log2","sign","sin","sinh","tan","tanh","trunc","arg0","powS","powM","from1DArray","newRows","newColumns","newData","rowVector","columnVector","zeros","ones","fill","rand","random","randInt","isInteger","interval","eye","diag","data","l","matrix1","matrix2","isMatrix","klass","apply","callback","to2DArray","copy","toJSON","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","isEchelonForm","previousColumn","checked","isReducedEchelonForm","k","echelonForm","clone","h","iMax","swapRows","tmp","reducedEchelonForm","m","n","maxRow","p","pivot","setSubMatrix","neg","getRow","getRowVector","setRow","row1","row2","temp","getColumn","getColumnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","maxIndex","idx","minIndex","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","type","cumulativeSum","dot","vector2","vector1","mmul","other","Bcolj","Float64Array","s","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","m6","m7","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","c02","c12","c20","c21","c22","mmulStrassen","r1","c1","r2","c2","console","warn","embed","mat","resultat","blockMult","halfRows","parseInt","halfCols","subMatrix","scaleRows","isFinite","scaleColumns","flipRows","middle","first","last","flipColumns","kroneckerProduct","q","transpose","sortRows","compareFunction","compareNumbers","sortColumns","subMatrixRow","indices","subMatrixColumn","selection","rowIndex","columnIndex","trace","by","product","standardDeviation","center","for","randomInt","diagonal","identity","negate","tensorProduct","nRows","nColumns","arrayData","removeRow","addRow","removeColumn","newRow","addColumn","BaseView","MatrixTransposeView","WrapperMatrix2D","LuDecomposition","lu","pivotVector","pivotSign","t","LUcolj","kmax","LU","isSingular","col","solve","count","X","determinant","lowerTriangularMatrix","upperTriangularMatrix","pivotPermutationVector","hypotenuse","QrDecomposition","qr","rdiag","nrm","QR","Rdiag","isFullRank","orthogonalMatrix","SingularValueDecomposition","computeLeftSingularVectors","computeRightSingularVectors","autoTranspose","wantu","Boolean","wantv","swapped","aux","nu","ni","U","V","work","si","nct","nrt","mrc","pp","eps","EPSILON","kase","alpha","ks","f","cs","sn","sp","spm1","epm1","sk","ek","shift","g","Y","threshold","scols","Ls","rightSingularVectors","VL","vrows","urows","VLU","solveForDiagonal","inverse","vcols","ucols","condition","norm2","rank","tol","ii","leftSingularVectors","diagonalMatrix","useSVD","leftHandSide","rightHandSide","defaultOptions","arrayCase","len","cond","matrixCase","padArray","assign","factorial","windowSize","derivative","polynomial","pad","padValue","savitzkyGolay","C","ans","J","inic","Jtranspose","Jinv","det","d","_ref","module","exports","window","median","quickSelectMedian","xDivide","array1","array2","isConstant","constant","array3","toStr","isArguments","str","isArgs","callee","keysShim","keys","has","hasOwnProperty","require$$0","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","equalsConstructorPrototypeIfNotBuggy","isObject","isFunction","isString","theKeys","skipProto","skipConstructor","origKeys","originalKeys","shim","shimObjectKeys","keysWorksWithArguments","args","getKeys","typedArrays","createTypedArrayFcns","objectKeys","key","Function","global","factory","this","ascending","NaN","bisector","compare","ascendingComparator","left","lo","hi","mid","right","ascendingBisect","bisectRight","bisectLeft","descending","number$1","deviation","extent","range","stop","e10","e5","e2","ticks","tickStep","step0","step1","LN10","error","sturges","values","LN2","number","histogram","domain","xz","tz","pop","bins","bin","_","thresholds","quantile","freedmanDiaconis","scott","numbers","merge","arrays","merged","pairs","permute","indexes","permutes","scan","xi","xj","shuffle","i0","i1","zip","version","bisect","thresholdFreedmanDiaconis","thresholdScott","thresholdSturges","xSubtract","minMax","arithmeticMean","geometricMean","logMean","lnsum","grandMean","means","samples","truncatedMean","percent","alreadySorted","harmonicMean","contraHarmonicMean","half","theMean","theVariance","standardError","robustMeanAndStdev","stdev","averageDeviations","quartiles","quart","q1","q2","q3","pooledStandardDeviation","pooledVariance","vari","mode","itemCount","itemArray","covariance","mean1","mean2","cov","skewness","s2","s3","dev","kurtosis","s4","entropy","weightedMean","weights","weightedStandardDeviation","weightedVariance","z","w","inPlace","standardize","standardDev","getNormalized","spectrum","filters","processing","filterOptions","Stat","std","normed","process","kind","Analysis","label","spectra","defaultFlavor","flavor","standardizeData","getData","normalization","getXLabel","xLabel","getYLabel","yLabel","meta","title","GC_MS_FIELDS","complexChromatogram","chromatogram","times","series","ms","dimension","existingGCMSFields","convertMSFieldToLabel","pageValue","parseFloat","isMSField","canonicDataLabel","replace","convertToFloatArray","stringArray","floatArray","fastParseXYData","yFactor","deltaX","isXYdata","currentData","currentX","firstX","currentY","firstY","endLine","ascii","charCodeAt","newLine","isDifference","isLastDifference","lastDifference","isDuplicate","inComment","lastValue","isNegative","inValue","skipFirstValue","decimalPosition","duplicate","ascii2","parsePeakTable","removeCommentRegExp","peakTableSplitRegExp","isPeaktable","lines","split","trim","xFactor","logs","parseXYA","removeSymbolRegExp","isXYAdata","convertTo3DZ","minZ","maxZ","ySize","xSize","xVector","lastX","lastY","minX","maxX","minY","maxY","noise","getMedian","generateContourLines","zData","povarHeight0","povarHeight1","povarHeight2","povarHeight3","isOver0","isOver1","isOver2","isOver3","nbSubSpectra","nbPovars","pAx","pAy","pBx","pBy","xN","dx","yN","dy","iter","nbContourLevels","contourLevels","lineZValue","level","contourLevel","side","noiseMultiplier","zValue","iSubSpectra","subSpectra","subSpectraAfter","povar","segments","add2D","noContour","contourLines","profiling","action","time","Date","now","simpleChromatogram","intensity","postProcessing","entriesFlat","entry","ntuples","newNtuples","twoD","wantXY","keepSpectra","xy","prepareSpectrum","observeFrequency","xUnit","toUpperCase","shiftOffsetVal","ntuplesSeparator","Spectrum","keepRecordsRegExp","canonicDataLabels","dynamicTyping","withoutXY","convert","jcamp","entries","tmpResult","children","currentEntry","parentsStack","ldrs","ldr","dataLabel","dataValue","xIndex","yIndex","infos","firstVariable","secondVariable","symbol","vardim","nbPoints","units","yUnit","datatable","match","parentEntry","info","dataType","dataClass","xType","indirectFrequency","shiftOffsetNum","varname","vartype","varform","yType","page","pageSymbol","pageSymbolIndex","unit","sampleDescription","flatten","fromJcamp","addJcamp","converted","currentSpectrum","$cheminfoFlavor","startsWith","addStyle","serie","color","style","width","dash","COLORS","getJSGraph","colors","axes","unitWrapperBefore","unitWrapperAfter","flipped","display","getNormalizationAnnotations","boundary","annotations","ignore","annotation","strokeWidth","fillColor","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","fromXxyyArray","fromXyxyArray","point","fromXyxyObject","fromGeneral","toXxyyArray","toXyxyArray","toXyxyObject","xyConvert","inputFormat","outputFormat","middleData","creator","owner","origin","header","fromJSON","parsed","toJcamp","jcamps","flavorName","getJcamp","jcampOptions","cheminfoFlavor","CommonSpectrum","CustomAnalysis","analysisOptions","fromOptions","jsGraphOptions","parsePerkinElmer","text","weight","temperature","section","inMethodSteps","description","fields","string","fromPerkinElmer","self","document","postMessage","test","location","protocol","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","userStep","userChunk","chunk","userComplete","complete","userError","config","workerId","download","readable","read","on","File","stream","unparse","delimiter","BAD_DELIMITERS","quotes","skipEmptyLines","newline","quoteChar","escapeChar","RegExp","u","charAt","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","NODE_STREAM_INPUT","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","fn","each","prop","attr","FileReader","files","file","inputElem","instanceConfig","extend","before","reason","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","E","chunkSize","streamer","_config","parseChunk","beforeFirstChunk","paused","aborted","cursor","preview","results","WORKER_ID","finished","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","open","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","message","status","readyState","responseText","getResponseHeader","lastIndexOf","statusText","webkitSlice","mozSlice","FileReaderSync","readAsText","encoding","target","pause","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","removeListener","abort","transformHeader","code","comments","successful","bestDelimiter","delimitersToGuess","getCharIndex","setTimeout","O","D","I","T","A","L","F","fastMode","M","R","S","nextDelim","quoteSearch","linebreak","truncated","terminate","create","fromPerkinElmerCSV","Papa","Time"],"mappings":"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"}