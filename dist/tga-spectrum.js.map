{"version":3,"file":"tga-spectrum.js","sources":["../node_modules/common-spectrum/src/AnalysesManager.js","../node_modules/common-spectrum/node_modules/is-any-array/src/index.js","../node_modules/is-any-array/src/index.js","../node_modules/ml-array-max/lib-es6/index.js","../node_modules/ml-array-min/lib-es6/index.js","../node_modules/median-quickselect/lib/median-quickselect.min.js","../node_modules/ml-array-median/lib-es6/index.js","../node_modules/ml-spectra-processing/src/x/xAdd.js","../node_modules/ml-spectra-processing/src/x/xMultiply.js","../node_modules/ml-spectra-processing/src/x/xDivide.js","../node_modules/ml-spectra-processing/src/x/xIsMonotone.js","../node_modules/object-keys/isArguments.js","../node_modules/object-keys/implementation.js","../node_modules/object-keys/index.js","../node_modules/utils-copy-error/lib/copy.js","../node_modules/utils-copy/lib/typedarrays.js","../node_modules/d3-array/build/d3-array.js","../node_modules/ml-spectra-processing/src/x/xSubtract.js","../node_modules/ml-array-normed/node_modules/is-any-array/src/index.js","../node_modules/ml-array-sum/lib-es6/index.js","../node_modules/ml-array-normed/lib-es6/index.js","../node_modules/ml-array-rescale/lib-es6/index.js","../node_modules/ml-array-sequential-fill/lib-es6/index.js","../node_modules/ml-zones/src/normalize.js","../node_modules/ml-zones/src/invert.js","../node_modules/ml-zones/src/zonesWithPoints.js","../node_modules/ml-array-xy-equally-spaced/src/integral.js","../node_modules/ml-array-xy-equally-spaced/src/equallySpacedSmooth.js","../node_modules/ml-array-xy-equally-spaced/src/equallySpacedSlot.js","../node_modules/ml-array-xy-equally-spaced/src/index.js","../node_modules/ml-array-xy-filter-x/src/getZones.js","../node_modules/ml-array-xy-filter-x/src/index.js","../node_modules/ml-matrix/src/util.js","../node_modules/ml-matrix/src/stat.js","../node_modules/ml-matrix/src/inspect.js","../node_modules/ml-matrix/src/mathOperations.js","../node_modules/ml-matrix/src/matrix.js","../node_modules/ml-matrix/src/views/base.js","../node_modules/ml-matrix/src/views/transpose.js","../node_modules/ml-matrix/src/wrap/WrapperMatrix2D.js","../node_modules/ml-matrix/src/dc/lu.js","../node_modules/ml-matrix/src/dc/util.js","../node_modules/ml-matrix/src/dc/qr.js","../node_modules/ml-matrix/src/dc/svd.js","../node_modules/ml-matrix/src/decompositions.js","../node_modules/ml-pad-array/src/index.js","../node_modules/ml-savitzky-golay/src/index.js","../node_modules/ml-stat/array.js","../node_modules/common-spectrum/src/util/getNormalizedData.js","../node_modules/js-quantities/build/quantities.js","../node_modules/common-spectrum/src/util/convertUnit.js","../node_modules/common-spectrum/src/util/getConvertedVariable.js","../node_modules/common-spectrum/src/util/getXYSpectrum.js","../node_modules/common-spectrum/src/Analysis.js","../node_modules/jcampconverter/src/complexChromatogram.js","../node_modules/jcampconverter/src/convertToFloatArray.js","../node_modules/jcampconverter/src/parse/fastParseXYData.js","../node_modules/jcampconverter/src/parse/parsePeakTable.js","../node_modules/jcampconverter/src/parse/parseXYA.js","../node_modules/jcampconverter/src/2d/convertTo3DZ.js","../node_modules/jcampconverter/src/2d/generateContourLines.js","../node_modules/jcampconverter/src/2d/add2D.js","../node_modules/ml-fft/src/fftlib.js","../node_modules/ml-stat/matrix.js","../node_modules/ml-matrix-convolution/node_modules/ml-fft/src/fftlib.js","../node_modules/nmr-processing/src/constants/gyromagneticRatio.js","../node_modules/jcampconverter/src/postProcessingNMR.js","../node_modules/jcampconverter/src/profiling.js","../node_modules/jcampconverter/src/simpleChromatogram.js","../node_modules/jcampconverter/src/postProcessing.js","../node_modules/jcampconverter/src/prepareNtuplesDatatable.js","../node_modules/jcampconverter/src/prepareSpectrum.js","../node_modules/jcampconverter/src/convert.js","../node_modules/common-spectrum/src/from/fromJcamp.js","../node_modules/common-spectrum/src/jsgraph/addStyle.js","../node_modules/common-spectrum/src/jsgraph/colors.js","../node_modules/common-spectrum/src/jsgraph/getJSGraph.js","../node_modules/common-spectrum/src/jsgraph/getNormalizationAnnotations.js","../node_modules/convert-to-jcamp/src/creatorNtuples.js","../node_modules/convert-to-jcamp/src/fromJSON.js","../node_modules/convert-to-jcamp/src/fromVariables.js","../node_modules/common-spectrum/src/to/toJcamp.js","../src/from/parsePerkinElmer.js","../src/from/fromPerkinElmer.js","../node_modules/papaparse/papaparse.min.js","../src/from/fromPerkinElmerCSV.js","../src/from/parseTAInstruments.js","../src/from/fromTAInstruments.js"],"sourcesContent":["export class AnalysesManager {\n  constructor() {\n    this.analyses = [];\n  }\n\n  addAnalysis(analysis) {\n    let index = this.getAnalysisIndex(analysis.id);\n    if (index === undefined) {\n      this.analyses.push(analysis);\n    } else {\n      this.analyses[index] = analysis;\n    }\n  }\n\n  getAnalyses(options = {}) {\n    const { ids } = options;\n    let analyses = [];\n    for (const analysis of this.analyses) {\n      if (!ids || ids.includes(analysis.id)) {\n        analyses.push(analysis);\n      }\n    }\n    return analyses;\n  }\n\n  /**\n   * Remove the analysis from the AnalysesManager for the specified id\n   * @param {string} id\n   */\n  removeAnalysis(id) {\n    let index = this.getAnalysisIndex(id);\n    if (index === undefined) return undefined;\n    return this.analyses.splice(index, 1);\n  }\n\n  /**\n   * Returns the index of the analysis in the analyses array\n   * @param {string} id\n   * @returns {number}\n   */\n  getAnalysisIndex(id) {\n    if (!id) return undefined;\n    for (let i = 0; i < this.analyses.length; i++) {\n      let analysis = this.analyses[i];\n      if (analysis.id === id) return i;\n    }\n    return undefined;\n  }\n\n  /**\n   * Checks if the ID of an analysis exists in the AnalysesManager\n   * @param {string} id\n   */\n  includes(id) {\n    return !isNaN(this.getAnalysisIndex(id));\n  }\n}\n","const toString = Object.prototype.toString;\n\nexport default function isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n","'use strict';\n\nconst toString = Object.prototype.toString;\n\nfunction isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n\nmodule.exports = isAnyArray;\n","import isArray from 'is-any-array';\n\n/**\n * Computes the maximum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction max(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var maxValue = input[0];\n\n  for (var i = 1; i < input.length; i++) {\n    if (input[i] > maxValue) maxValue = input[i];\n  }\n\n  return maxValue;\n}\n\nexport default max;\n","import isArray from 'is-any-array';\n\n/**\n * Computes the minimum of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction min(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var minValue = input[0];\n\n  for (var i = 1; i < input.length; i++) {\n    if (input[i] < minValue) minValue = input[i];\n  }\n\n  return minValue;\n}\n\nexport default min;\n","(function(){function a(d){for(var e=0,f=d.length-1,g=void 0,h=void 0,i=void 0,j=c(e,f);!0;){if(f<=e)return d[j];if(f==e+1)return d[e]>d[f]&&b(d,e,f),d[j];for(g=c(e,f),d[g]>d[f]&&b(d,g,f),d[e]>d[f]&&b(d,e,f),d[g]>d[e]&&b(d,g,e),b(d,g,e+1),h=e+1,i=f;!0;){do h++;while(d[e]>d[h]);do i--;while(d[i]>d[e]);if(i<h)break;b(d,h,i)}b(d,e,i),i<=j&&(e=h),i>=j&&(f=i-1)}}var b=function b(d,e,f){var _ref;return _ref=[d[f],d[e]],d[e]=_ref[0],d[f]=_ref[1],_ref},c=function c(d,e){return~~((d+e)/2)};'undefined'!=typeof module&&module.exports?module.exports=a:window.median=a})();\n","import isArray from 'is-any-array';\nimport quickSelectMedian from 'median-quickselect';\n\n/**\n * Computes the median of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction median(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  return quickSelectMedian(input.slice());\n}\n\nexport default median;\n","/**\n\n/**\n * This function xAdd the first array by the second array or a constant value to each element of the first array\n * @param {Array<Number>} array1 - the array that will be rotated\n * @param {Array|Number} array2\n * @return {Array}\n */\nexport function xAdd(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] + constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] + array2[i];\n    }\n  }\n\n  return array3;\n}\n","/**\n\n/**\n * This function xMultiply the first array by the second array or a constant value to each element of the first array\n * @param {Array} array1 - the array that will be rotated\n * @param {Array|Number} array2\n * @return {Float64Array}\n */\nexport function xMultiply(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Float64Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] * constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] * array2[i];\n    }\n  }\n\n  return array3;\n}\n","/**\n\n/**\n * This function divide the first array by the second array or a constant value to each element of the first array\n * @param {Array<Number>} array1 - the array that will be rotated\n * @param {Array<Number>|Number} array2\n * @return {Array}\n */\nexport function xDivide(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] / constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] / array2[i];\n    }\n  }\n\n  return array3;\n}\n","/**\n * Returns true if x is monotone\n * @param {Array} array\n * @return {boolean}\n */\nexport function xIsMonotone(array) {\n  if (array.length < 3) return true;\n  if (array[0] < array[1]) {\n    for (let i = 0; i < array.length - 1; i++) {\n      if (array[i] >= array[i + 1]) return false;\n    }\n  } else {\n    for (let i = 0; i < array.length - 1; i++) {\n      if (array[i] <= array[i + 1]) return false;\n    }\n  }\n  return true;\n}\n","'use strict';\n\nvar toStr = Object.prototype.toString;\n\nmodule.exports = function isArguments(value) {\n\tvar str = toStr.call(value);\n\tvar isArgs = str === '[object Arguments]';\n\tif (!isArgs) {\n\t\tisArgs = str !== '[object Array]' &&\n\t\t\tvalue !== null &&\n\t\t\ttypeof value === 'object' &&\n\t\t\ttypeof value.length === 'number' &&\n\t\t\tvalue.length >= 0 &&\n\t\t\ttoStr.call(value.callee) === '[object Function]';\n\t}\n\treturn isArgs;\n};\n","'use strict';\n\nvar keysShim;\nif (!Object.keys) {\n\t// modified from https://github.com/es-shims/es5-shim\n\tvar has = Object.prototype.hasOwnProperty;\n\tvar toStr = Object.prototype.toString;\n\tvar isArgs = require('./isArguments'); // eslint-disable-line global-require\n\tvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\tvar hasDontEnumBug = !isEnumerable.call({ toString: null }, 'toString');\n\tvar hasProtoEnumBug = isEnumerable.call(function () {}, 'prototype');\n\tvar dontEnums = [\n\t\t'toString',\n\t\t'toLocaleString',\n\t\t'valueOf',\n\t\t'hasOwnProperty',\n\t\t'isPrototypeOf',\n\t\t'propertyIsEnumerable',\n\t\t'constructor'\n\t];\n\tvar equalsConstructorPrototype = function (o) {\n\t\tvar ctor = o.constructor;\n\t\treturn ctor && ctor.prototype === o;\n\t};\n\tvar excludedKeys = {\n\t\t$applicationCache: true,\n\t\t$console: true,\n\t\t$external: true,\n\t\t$frame: true,\n\t\t$frameElement: true,\n\t\t$frames: true,\n\t\t$innerHeight: true,\n\t\t$innerWidth: true,\n\t\t$onmozfullscreenchange: true,\n\t\t$onmozfullscreenerror: true,\n\t\t$outerHeight: true,\n\t\t$outerWidth: true,\n\t\t$pageXOffset: true,\n\t\t$pageYOffset: true,\n\t\t$parent: true,\n\t\t$scrollLeft: true,\n\t\t$scrollTop: true,\n\t\t$scrollX: true,\n\t\t$scrollY: true,\n\t\t$self: true,\n\t\t$webkitIndexedDB: true,\n\t\t$webkitStorageInfo: true,\n\t\t$window: true\n\t};\n\tvar hasAutomationEqualityBug = (function () {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined') { return false; }\n\t\tfor (var k in window) {\n\t\t\ttry {\n\t\t\t\tif (!excludedKeys['$' + k] && has.call(window, k) && window[k] !== null && typeof window[k] === 'object') {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tequalsConstructorPrototype(window[k]);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}());\n\tvar equalsConstructorPrototypeIfNotBuggy = function (o) {\n\t\t/* global window */\n\t\tif (typeof window === 'undefined' || !hasAutomationEqualityBug) {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t}\n\t\ttry {\n\t\t\treturn equalsConstructorPrototype(o);\n\t\t} catch (e) {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tkeysShim = function keys(object) {\n\t\tvar isObject = object !== null && typeof object === 'object';\n\t\tvar isFunction = toStr.call(object) === '[object Function]';\n\t\tvar isArguments = isArgs(object);\n\t\tvar isString = isObject && toStr.call(object) === '[object String]';\n\t\tvar theKeys = [];\n\n\t\tif (!isObject && !isFunction && !isArguments) {\n\t\t\tthrow new TypeError('Object.keys called on a non-object');\n\t\t}\n\n\t\tvar skipProto = hasProtoEnumBug && isFunction;\n\t\tif (isString && object.length > 0 && !has.call(object, 0)) {\n\t\t\tfor (var i = 0; i < object.length; ++i) {\n\t\t\t\ttheKeys.push(String(i));\n\t\t\t}\n\t\t}\n\n\t\tif (isArguments && object.length > 0) {\n\t\t\tfor (var j = 0; j < object.length; ++j) {\n\t\t\t\ttheKeys.push(String(j));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var name in object) {\n\t\t\t\tif (!(skipProto && name === 'prototype') && has.call(object, name)) {\n\t\t\t\t\ttheKeys.push(String(name));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (hasDontEnumBug) {\n\t\t\tvar skipConstructor = equalsConstructorPrototypeIfNotBuggy(object);\n\n\t\t\tfor (var k = 0; k < dontEnums.length; ++k) {\n\t\t\t\tif (!(skipConstructor && dontEnums[k] === 'constructor') && has.call(object, dontEnums[k])) {\n\t\t\t\t\ttheKeys.push(dontEnums[k]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn theKeys;\n\t};\n}\nmodule.exports = keysShim;\n","'use strict';\n\nvar slice = Array.prototype.slice;\nvar isArgs = require('./isArguments');\n\nvar origKeys = Object.keys;\nvar keysShim = origKeys ? function keys(o) { return origKeys(o); } : require('./implementation');\n\nvar originalKeys = Object.keys;\n\nkeysShim.shim = function shimObjectKeys() {\n\tif (Object.keys) {\n\t\tvar keysWorksWithArguments = (function () {\n\t\t\t// Safari 5.0 bug\n\t\t\tvar args = Object.keys(arguments);\n\t\t\treturn args && args.length === arguments.length;\n\t\t}(1, 2));\n\t\tif (!keysWorksWithArguments) {\n\t\t\tObject.keys = function keys(object) { // eslint-disable-line func-name-matching\n\t\t\t\tif (isArgs(object)) {\n\t\t\t\t\treturn originalKeys(slice.call(object));\n\t\t\t\t}\n\t\t\t\treturn originalKeys(object);\n\t\t\t};\n\t\t}\n\t} else {\n\t\tObject.keys = keysShim;\n\t}\n\treturn Object.keys || keysShim;\n};\n\nmodule.exports = keysShim;\n","'use strict';\n\n// MODULES //\n\nvar deepCopy = require( 'utils-copy' );\nvar getKeys = require( 'object-keys' ).shim();\n\n\n// COPY ERROR //\n\n/**\n* FUNCTION: copy( error )\n*\tCopies an error.\n*\n* @param {Error|TypeError|SyntaxError|URIError|ReferenceError|RangeError|RangeError|EvalError} error - error to copy\n* @returns {Error|TypeError|SyntaxError|URIError|ReferenceError|RangeError|RangeError|EvalError} error copy\n*/\nfunction copy( error ) {\n\t/* jshint newcap:false */\n\tvar keys;\n\tvar desc;\n\tvar key;\n\tvar err;\n\tvar i;\n\tif ( !( error instanceof Error ) ) {\n\t\tthrow new TypeError( 'invalid input argument. Must provide an error object. Value: `' + error + '`.' );\n\t}\n\t// Create a new error...\n\terr = new error.constructor( error.message );\n\n\t// If a `stack` property is present, copy it over...\n\tif ( error.stack ) {\n\t\terr.stack = error.stack;\n\t}\n\t// Node.js specific (system errors)...\n\tif ( error.code ) {\n\t\terr.code = error.code;\n\t}\n\tif ( error.errno ) {\n\t\terr.errno = error.errno;\n\t}\n\tif ( error.syscall ) {\n\t\terr.syscall = error.syscall;\n\t}\n\t// Any enumerable properties...\n\tkeys = getKeys( error );\n\tfor ( i = 0; i < keys.length; i++ ) {\n\t\tkey = keys[ i ];\n\t\tdesc = Object.getOwnPropertyDescriptor( error, key );\n\t\tif ( desc.hasOwnProperty( 'value' ) ) {\n\t\t\tdesc.value = deepCopy( error[ key ] );\n\t\t}\n\t\tObject.defineProperty( err, key, desc );\n\t}\n\treturn err;\n} // end FUNCTION copy()\n\n\n// EXPORTS //\n\nmodule.exports = copy;\n","'use strict';\n\n// MODULES //\n\nvar objectKeys = require( 'object-keys' );\n\n\n// TYPED ARRAY FUNCTIONS //\n\n/**\n* Create functions for copying typed arrays.\n*/\nvar typedArrays = {\n\t'Int8Array': null,\n\t'Uint8Array': null,\n\t'Uint8ClampedArray': null,\n\t'Int16Array': null,\n\t'Uint16Array': null,\n\t'Int32Array': null,\n\t'Uint32Array': null,\n\t'Float32Array': null,\n\t'Float64Array': null\n};\n\n(function createTypedArrayFcns() {\n\t/* jshint evil:true */\n\tvar keys = objectKeys( typedArrays );\n\tvar len = keys.length;\n\tvar key;\n\tvar i;\n\tfor ( i = 0; i < len; i++ ) {\n\t\tkey = keys[ i ];\n\t\ttypedArrays[ key ] = new Function( 'arr', 'return new '+key+'( arr );' );\n\t}\n})();\n\n\n// EXPORTS //\n\nmodule.exports = typedArrays;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3_array = {})));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function number$1(x) {\n    return x === null ? NaN : +x;\n  }\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (f == null) {\n      while (++i < n) {\n        if (!isNaN(a = number$1(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number$1(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  }\n\n  function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  }\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  }\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function range(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  }\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  }\n\n  function number(x) {\n    return +x;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      // Coerce values to numbers.\n      for (i = 0; i < n; ++i) {\n        values[i] = +value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = +xz[0],\n          x1 = +xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, +tz);\n\n      // Coerce thresholds to numbers, ignoring any outside the domain.\n      var m = tz.length;\n      for (i = 0; i < m; ++i) tz[i] = +tz[i];\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      if (!arguments.length) return threshold;\n      threshold = typeof _ === \"function\" ? _\n          : Array.isArray(_) ? constant(Array.prototype.map.call(_, number))\n          : constant(+_);\n      return histogram;\n    };\n\n    return histogram;\n  }\n\n  function quantile(array, p, f) {\n    if (f == null) f = number$1;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  }\n\n  function freedmanDiaconis(values, min, max) {\n    values.sort(ascending);\n    return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  }\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  }\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number$1(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number$1(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return quantile(numbers.sort(ascending), 0.5);\n  }\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  }\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p, p = array[++i]];\n    return pairs;\n  }\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  }\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  }\n\n  function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  }\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  }\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  }\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  }\n\n  var version = \"0.7.1\";\n\n  exports.version = version;\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n\n}));","/**\n * This function xSubtract the first array by the second array or a constant value from each element of the first array\n * @param {Array} array1 - the array that will be rotated\n * @param {Array|Number} array2\n * @return {Array}\n */\nexport function xSubtract(array1, array2) {\n  let isConstant = false;\n  let constant;\n  if (Array.isArray(array2)) {\n    if (array1.length !== array2.length) {\n      throw new Error('sub: size of array1 and array2 must be identical');\n    }\n  } else {\n    isConstant = true;\n    constant = Number(array2);\n  }\n\n  let array3 = new Array(array1.length);\n  if (isConstant) {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] - constant;\n    }\n  } else {\n    for (let i = 0; i < array1.length; i++) {\n      array3[i] = array1[i] - array2[i];\n    }\n  }\n\n  return array3;\n}\n","const toString = Object.prototype.toString;\n\nexport default function isAnyArray(object) {\n  return toString.call(object).endsWith('Array]');\n}\n","import isArray from 'is-any-array';\n\n/**\n * Computes the mean of the given values\n * @param {Array<number>} input\n * @return {number}\n */\n\nfunction sum(input) {\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var sumValue = 0;\n\n  for (var i = 0; i < input.length; i++) {\n    sumValue += input[i];\n  }\n\n  return sumValue;\n}\n\nexport default sum;\n","import isArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport sum from 'ml-array-sum';\n\n/**\n * Computes the norm of the given values\n * @param {Array<number>} input\n * @param {object} [options={}]\n * @param {string} [options.algorithm='absolute'] absolute, sum or max\n * @param {number} [options.maxValue=1] new max value for algo max\n * @param {number} [options.sumValue=1] new max value for algo absolute and sum\n * @param {Array} [options.output=[]] specify the output array, can be the input array for in place modification\n * @return {number}\n */\n\nfunction norm(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$algorithm = options.algorithm,\n      algorithm = _options$algorithm === void 0 ? 'absolute' : _options$algorithm,\n      _options$sumValue = options.sumValue,\n      sumValue = _options$sumValue === void 0 ? 1 : _options$sumValue,\n      _options$maxValue = options.maxValue,\n      maxValue = _options$maxValue === void 0 ? 1 : _options$maxValue;\n\n  if (!isArray(input)) {\n    throw new Error('input must be an array');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  if (input.length === 0) {\n    throw new Error('input must not be empty');\n  }\n\n  switch (algorithm.toLowerCase()) {\n    case 'absolute':\n      {\n        var absoluteSumValue = absoluteSum(input) / sumValue;\n        if (absoluteSumValue === 0) return input.slice(0);\n\n        for (var i = 0; i < input.length; i++) {\n          output[i] = input[i] / absoluteSumValue;\n        }\n\n        return output;\n      }\n\n    case 'max':\n      {\n        var currentMaxValue = max(input);\n        if (currentMaxValue === 0) return input.slice(0);\n        var factor = maxValue / currentMaxValue;\n\n        for (var _i = 0; _i < input.length; _i++) {\n          output[_i] = input[_i] * factor;\n        }\n\n        return output;\n      }\n\n    case 'sum':\n      {\n        var sumFactor = sum(input) / sumValue;\n        if (sumFactor === 0) return input.slice(0);\n\n        for (var _i2 = 0; _i2 < input.length; _i2++) {\n          output[_i2] = input[_i2] / sumFactor;\n        }\n\n        return output;\n      }\n\n    default:\n      throw new Error(\"norm: unknown algorithm: \".concat(algorithm));\n  }\n}\n\nfunction absoluteSum(input) {\n  var sumValue = 0;\n\n  for (var i = 0; i < input.length; i++) {\n    sumValue += Math.abs(input[i]);\n  }\n\n  return sumValue;\n}\n\nexport default norm;\n","import isArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport min from 'ml-array-min';\n\n/**\n *\n * @param {Array} input\n * @param {object} [options={}]\n * @param {Array} [options.output=[]] specify the output array, can be the input array for in place modification\n */\n\nfunction rescale(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  } else if (input.length === 0) {\n    throw new TypeError('input must not be empty');\n  }\n\n  var output;\n\n  if (options.output !== undefined) {\n    if (!isArray(options.output)) {\n      throw new TypeError('output option must be an array if specified');\n    }\n\n    output = options.output;\n  } else {\n    output = new Array(input.length);\n  }\n\n  var currentMin = min(input);\n  var currentMax = max(input);\n\n  if (currentMin === currentMax) {\n    throw new RangeError('minimum and maximum input values are equal. Cannot rescale a constant array');\n  }\n\n  var _options$min = options.min,\n      minValue = _options$min === void 0 ? options.autoMinMax ? currentMin : 0 : _options$min,\n      _options$max = options.max,\n      maxValue = _options$max === void 0 ? options.autoMinMax ? currentMax : 1 : _options$max;\n\n  if (minValue >= maxValue) {\n    throw new RangeError('min option must be smaller than max option');\n  }\n\n  var factor = (maxValue - minValue) / (currentMax - currentMin);\n\n  for (var i = 0; i < input.length; i++) {\n    output[i] = (input[i] - currentMin) * factor + minValue;\n  }\n\n  return output;\n}\n\nexport default rescale;\n","import isArray from 'is-any-array';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\n/**\n * Fill an array with sequential numbers\n * @param {Array<number>} [input] - optional destination array (if not provided a new array will be created)\n * @param {object} [options={}]\n * @param {number} [options.from=0] - first value in the array\n * @param {number} [options.to=10] - last value in the array\n * @param {number} [options.size=input.length] - size of the array (if not provided calculated from step)\n * @param {number} [options.step] - if not provided calculated from size\n * @return {Array<number>}\n */\n\nfunction sequentialFill() {\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (_typeof(input) === 'object' && !isArray(input)) {\n    options = input;\n    input = [];\n  }\n\n  if (!isArray(input)) {\n    throw new TypeError('input must be an array');\n  }\n\n  var _options = options,\n      _options$from = _options.from,\n      from = _options$from === void 0 ? 0 : _options$from,\n      _options$to = _options.to,\n      to = _options$to === void 0 ? 10 : _options$to,\n      _options$size = _options.size,\n      size = _options$size === void 0 ? input.length : _options$size,\n      step = _options.step;\n\n  if (size && step) {\n    throw new Error('step is defined by the array size');\n  }\n\n  if (!size) {\n    if (step) {\n      size = Math.floor((to - from) / step) + 1;\n    } else {\n      size = to - from + 1;\n    }\n  }\n\n  if (!step && size) {\n    step = (to - from) / (size - 1);\n  }\n\n  if (Array.isArray(input)) {\n    input.length = 0; // only works with normal array\n\n    for (var i = 0; i < size; i++) {\n      input.push(from);\n      from += step;\n    }\n  } else {\n    if (input.length !== size) {\n      throw new Error('sequentialFill typed array must have the correct length');\n    }\n\n    for (var _i = 0; _i < size; _i++) {\n      input[_i] = from;\n      from += step;\n    }\n  }\n\n  return input;\n}\n\nexport default sequentialFill;\n","/**\n * Normalize an array of zones:\n * - ensure than from < to\n * - merge overlapping zones\n *\n * The method will always check if from if lower than to and will swap if required.\n * @param {Array} [zones=[]]\n * @param {object} [options={}]\n * @param {number} [options.from=Number.NEGATIVE_INFINITY] Specify min value of a zone\n * @param {number} [options.to=Number.POSITIVE_INFINITY] Specify max value of a zone\n */\n\nexport function normalize(zones = [], options = {}) {\n  if (zones.length === 0) return [];\n  let {\n    from = Number.NEGATIVE_INFINITY,\n    to = Number.POSITIVE_INFINITY,\n  } = options;\n  if (from > to) [from, to] = [to, from];\n\n  zones = JSON.parse(JSON.stringify(zones)).map((zone) =>\n    zone.from > zone.to ? { from: zone.to, to: zone.from } : zone,\n  );\n  zones = zones.sort((a, b) => {\n    if (a.from !== b.from) return a.from - b.from;\n    return a.to - b.to;\n  });\n\n  zones.forEach((zone) => {\n    if (from > zone.from) zone.from = from;\n    if (to < zone.to) zone.to = to;\n  });\n\n  zones = zones.filter((zone) => zone.from <= zone.to);\n  if (zones.length === 0) return [];\n\n  let currentZone = zones[0];\n  let result = [currentZone];\n  for (let i = 1; i < zones.length; i++) {\n    let zone = zones[i];\n    if (zone.from <= currentZone.to) {\n      currentZone.to = zone.to;\n    } else {\n      currentZone = zone;\n      result.push(currentZone);\n    }\n  }\n  return result;\n}\n","import { normalize } from './normalize';\n\n/**\n * Convert an array of exclusions and keep only from / to\n *\n * The method will always check if from if lower than to and will swap if required.\n * @param {Array} [exclusions=[]]\n * @param {object} [options={}]\n * @param {number} [options.from=Number.NEGATIVE_INFINITY] Specify min value of zones (after inversion)\n * @param {number} [options.to=Number.POSITIVE_INFINITY] Specify max value of zones (after inversion)\n */\n\nexport function invert(exclusions = [], options = {}) {\n  let {\n    from = Number.NEGATIVE_INFINITY,\n    to = Number.POSITIVE_INFINITY,\n  } = options;\n  if (from > to) [from, to] = [to, from];\n\n  exclusions = normalize(exclusions, { from, to });\n  if (exclusions.length === 0) return [{ from, to }];\n\n  let zones = [];\n  for (let i = 0; i < exclusions.length; i++) {\n    let exclusion = exclusions[i];\n    let nextExclusion = exclusions[i + 1];\n    if (i === 0) {\n      if (exclusion.from > from) {\n        zones.push({ from, to: exclusion.from });\n      }\n    }\n    if (i === exclusions.length - 1) {\n      if (exclusion.to < to) {\n        zones.push({ from: exclusion.to, to });\n      }\n    } else {\n      zones.push({ from: exclusion.to, to: nextExclusion.from });\n    }\n  }\n\n  return zones;\n}\n","import { normalize } from './normalize';\n\n/**\n * Add the number of points per zone to reach a specified total\n * @param {Array} [zones=[]]\n * @param {number} [numberOfPoints] Total number of points to distribute between zones\n * @param {object} [options={}]\n * @param {number} [options.from=Number.NEGATIVE_INFINITY] Specify min value of a zone\n * @param {number} [options.to=Number.POSITIVE_INFINITY] Specify max value of a zone\n */\n\nexport function zonesWithPoints(zones, numberOfPoints, options = {}) {\n  if (zones.length === 0) return zones;\n  zones = normalize(zones, options);\n\n  const totalSize = zones.reduce((previous, current) => {\n    return previous + (current.to - current.from);\n  }, 0);\n\n  let unitsPerPoint = totalSize / numberOfPoints;\n  let currentTotal = 0;\n  for (let i = 0; i < zones.length - 1; i++) {\n    let zone = zones[i];\n    zone.numberOfPoints = Math.min(\n      Math.round((zone.to - zone.from) / unitsPerPoint),\n      numberOfPoints - currentTotal,\n    );\n    currentTotal += zone.numberOfPoints;\n  }\n\n  zones[zones.length - 1].numberOfPoints = numberOfPoints - currentTotal;\n\n  return zones;\n}\n","/**\n * Function that calculates the integral of the line between two\n * x-coordinates, given the slope and intercept of the line.\n * @param {number} x0\n * @param {number} x1\n * @param {number} slope\n * @param {number} intercept\n * @return {number} integral value.\n */\nexport default function integral(x0, x1, slope, intercept) {\n  return (\n    0.5 * slope * x1 * x1 +\n    intercept * x1 -\n    (0.5 * slope * x0 * x0 + intercept * x0)\n  );\n}\n","import integral from './integral';\n\n/**\n * function that retrieves the getEquallySpacedData with the variant \"smooth\"\n *\n * @param {Array<number>} x\n * @param {Array<number>} y\n * @param {number} from - Initial point\n * @param {number} to - Final point\n * @param {number} numberOfPoints\n * @return {Array} - Array of y's equally spaced with the variant \"smooth\"\n */\nexport default function equallySpacedSmooth(x, y, from, to, numberOfPoints) {\n  let xLength = x.length;\n\n  let step = (to - from) / (numberOfPoints - 1);\n  let halfStep = step / 2;\n\n  let output = new Array(numberOfPoints);\n\n  let initialOriginalStep = x[1] - x[0];\n  let lastOriginalStep = x[xLength - 1] - x[xLength - 2];\n\n  // Init main variables\n  let min = from - halfStep;\n  let max = from + halfStep;\n\n  let previousX = Number.MIN_VALUE;\n  let previousY = 0;\n  let nextX = x[0] - initialOriginalStep;\n  let nextY = 0;\n\n  let currentValue = 0;\n  let slope = 0;\n  let intercept = 0;\n  let sumAtMin = 0;\n  let sumAtMax = 0;\n\n  let i = 0; // index of input\n  let j = 0; // index of output\n\n  function getSlope(x0, y0, x1, y1) {\n    return (y1 - y0) / (x1 - x0);\n  }\n\n  let add = 0;\n  main: while (true) {\n    if (previousX <= min && min <= nextX) {\n      add = integral(0, min - previousX, slope, previousY);\n      sumAtMin = currentValue + add;\n    }\n\n    while (nextX - max >= 0) {\n      // no overlap with original point, just consume current value\n      add = integral(0, max - previousX, slope, previousY);\n      sumAtMax = currentValue + add;\n\n      output[j++] = (sumAtMax - sumAtMin) / step;\n\n      if (j === numberOfPoints) {\n        break main;\n      }\n\n      min = max;\n      max += step;\n      sumAtMin = sumAtMax;\n    }\n\n    currentValue += integral(previousX, nextX, slope, intercept);\n\n    previousX = nextX;\n    previousY = nextY;\n\n    if (i < xLength) {\n      nextX = x[i];\n      nextY = y[i];\n      i++;\n    } else if (i === xLength) {\n      nextX += lastOriginalStep;\n      nextY = 0;\n    }\n\n    slope = getSlope(previousX, previousY, nextX, nextY);\n    intercept = -slope * previousX + previousY;\n  }\n\n  return output;\n}\n","/**\n * function that retrieves the getEquallySpacedData with the variant \"slot\"\n *\n * @param {Array<number>} x\n * @param {Array<number>} y\n * @param {number} from - Initial point\n * @param {number} to - Final point\n * @param {number} numberOfPoints\n * @return {Array} - Array of y's equally spaced with the variant \"slot\"\n */\nexport default function equallySpacedSlot(x, y, from, to, numberOfPoints) {\n  let xLength = x.length;\n\n  let step = (to - from) / (numberOfPoints - 1);\n  let halfStep = step / 2;\n  let lastStep = x[x.length - 1] - x[x.length - 2];\n\n  let start = from - halfStep;\n  let output = new Array(numberOfPoints);\n\n  // Init main variables\n  let min = start;\n  let max = start + step;\n\n  let previousX = -Number.MAX_VALUE;\n  let previousY = 0;\n  let nextX = x[0];\n  let nextY = y[0];\n  let frontOutsideSpectra = 0;\n  let backOutsideSpectra = true;\n\n  let currentValue = 0;\n\n  // for slot algorithm\n  let currentPoints = 0;\n\n  let i = 1; // index of input\n  let j = 0; // index of output\n\n  main: while (true) {\n    if (previousX >= nextX) throw new Error('x must be an increasing serie');\n    while (previousX - max > 0) {\n      // no overlap with original point, just consume current value\n      if (backOutsideSpectra) {\n        currentPoints++;\n        backOutsideSpectra = false;\n      }\n\n      output[j] = currentPoints <= 0 ? 0 : currentValue / currentPoints;\n      j++;\n\n      if (j === numberOfPoints) {\n        break main;\n      }\n\n      min = max;\n      max += step;\n      currentValue = 0;\n      currentPoints = 0;\n    }\n\n    if (previousX > min) {\n      currentValue += previousY;\n      currentPoints++;\n    }\n\n    if (previousX === -Number.MAX_VALUE || frontOutsideSpectra > 1) {\n      currentPoints--;\n    }\n\n    previousX = nextX;\n    previousY = nextY;\n\n    if (i < xLength) {\n      nextX = x[i];\n      nextY = y[i];\n      i++;\n    } else {\n      nextX += lastStep;\n      nextY = 0;\n      frontOutsideSpectra++;\n    }\n  }\n\n  return output;\n}\n","import sequentialFill from 'ml-array-sequential-fill';\nimport { zonesWithPoints, invert } from 'ml-zones';\n\nimport equallySpacedSmooth from './equallySpacedSmooth';\nimport equallySpacedSlot from './equallySpacedSlot';\n\n/**\n * Function that returns a Number array of equally spaced numberOfPoints\n * containing a representation of intensities of the spectra arguments x\n * and y.\n *\n * The options parameter contains an object in the following form:\n * from: starting point\n * to: last point\n * numberOfPoints: number of points between from and to\n * variant: \"slot\" or \"smooth\" - smooth is the default option\n *\n * The slot variant consist that each point in the new array is calculated\n * averaging the existing points between the slot that belongs to the current\n * value. The smooth variant is the same but takes the integral of the range\n * of the slot and divide by the step size between two points in the new array.\n *\n * If exclusions zone are present, zones are ignored !\n * @param {object} [arrayXY={}] - object containing 2 properties x and y (both an array)\n * @param {object} [options={}]\n * @param {number} [options.from=x[0]]\n * @param {number} [options.to=x[x.length-1]]\n * @param {string} [options.variant='smooth']\n * @param {number} [options.numberOfPoints=100]\n * @param {Array} [options.exclusions=[]] array of from / to that should be skipped for the generation of the points\n * @param {Array} [options.zones=[]] array of from / to that should be kept\n * @return {object<x: Array, y:Array>} new object with x / y array with the equally spaced data.\n */\n\nexport default function equallySpaced(arrayXY = {}, options = {}) {\n  let { x, y } = arrayXY;\n  let xLength = x.length;\n  let reverse = false;\n  if (x.length > 1 && x[0] > x[1]) {\n    x = x.slice().reverse();\n    y = y.slice().reverse();\n    reverse = true;\n  }\n\n  let {\n    from = x[0],\n    to = x[xLength - 1],\n    variant = 'smooth',\n    numberOfPoints = 100,\n    exclusions = [],\n    zones = [],\n  } = options;\n\n  if (xLength !== y.length) {\n    throw new RangeError(\"the x and y vector doesn't have the same size.\");\n  }\n\n  if (typeof from !== 'number' || isNaN(from)) {\n    throw new RangeError(\"'from' option must be a number\");\n  }\n\n  if (typeof to !== 'number' || isNaN(to)) {\n    throw new RangeError(\"'to' option must be a number\");\n  }\n\n  if (typeof numberOfPoints !== 'number' || isNaN(numberOfPoints)) {\n    throw new RangeError(\"'numberOfPoints' option must be a number\");\n  }\n\n  if (numberOfPoints < 2) {\n    throw new RangeError(\"'numberOfPoints' option must be greater than 1\");\n  }\n\n  if (zones.length === 0) {\n    zones = invert(exclusions, { from, to });\n  }\n\n  zones = zonesWithPoints(zones, numberOfPoints, { from, to });\n\n  let xResult = [];\n  let yResult = [];\n  for (let zone of zones) {\n    let zoneResult = processZone(\n      x,\n      y,\n      zone.from,\n      zone.to,\n      zone.numberOfPoints,\n      variant,\n      reverse,\n    );\n\n    xResult = xResult.concat(zoneResult.x);\n    yResult = yResult.concat(zoneResult.y);\n  }\n  if (reverse) {\n    if (from < to) {\n      return { x: xResult.reverse(), y: yResult.reverse() };\n    } else {\n      return { x: xResult, y: yResult };\n    }\n  } else {\n    if (from < to) {\n      return { x: xResult, y: yResult };\n    } else {\n      return { x: xResult.reverse(), y: yResult.reverse() };\n    }\n  }\n}\n\nfunction processZone(x, y, from, to, numberOfPoints, variant) {\n  if (numberOfPoints < 1) {\n    throw new RangeError('the number of points must be at least 1');\n  }\n\n  let output =\n    variant === 'slot'\n      ? equallySpacedSlot(x, y, from, to, numberOfPoints)\n      : equallySpacedSmooth(x, y, from, to, numberOfPoints);\n\n  return {\n    x: sequentialFill({\n      from,\n      to,\n      size: numberOfPoints,\n    }),\n    y: output,\n  };\n}\n","export default function getZones(from, to, exclusions = []) {\n  if (from > to) {\n    [from, to] = [to, from];\n  }\n\n  // in exclusions from and to have to be defined\n  exclusions = exclusions.filter(\n    (exclusion) => exclusion.from !== undefined && exclusion.to !== undefined\n  );\n\n  exclusions = JSON.parse(JSON.stringify(exclusions));\n  // we ensure that from before to\n  exclusions.forEach((exclusion) => {\n    if (exclusion.from > exclusion.to) {\n      [exclusion.to, exclusion.from] = [exclusion.from, exclusion.to];\n    }\n  });\n\n  exclusions.sort((a, b) => a.from - b.from);\n\n  // we will rework the exclusions in order to remove overlap and outside range (from / to)\n  exclusions.forEach((exclusion) => {\n    if (exclusion.from < from) exclusion.from = from;\n    if (exclusion.to > to) exclusion.to = to;\n  });\n  for (let i = 0; i < exclusions.length - 1; i++) {\n    if (exclusions[i].to > exclusions[i + 1].from) {\n      exclusions[i].to = exclusions[i + 1].from;\n    }\n  }\n  exclusions = exclusions.filter((exclusion) => exclusion.from < exclusion.to);\n\n  if (!exclusions || exclusions.length === 0) {\n    return [{ from, to }];\n  }\n\n  let zones = [];\n  let currentFrom = from;\n  for (let exclusion of exclusions) {\n    if (currentFrom < exclusion.from) {\n      zones.push({\n        from: currentFrom,\n        to: exclusion.from\n      });\n    }\n\n    currentFrom = exclusion.to;\n  }\n  if (currentFrom < to) {\n    zones.push({\n      from: currentFrom,\n      to: to\n    });\n  }\n\n  return zones;\n}\n","import getZones from './getZones';\n\n/**\n * Filter an array x/y based on various criteria\n * x points are expected to be sorted\n *\n * @param {object} points\n * @param {object} [options={}]\n * @param {array} [options.from]\n * @param {array} [options.to]\n * @param {array} [options.exclusions=[]]\n * @return {{x: Array<number>, y: Array<number>}}\n */\n\nexport default function filterX(points, options = {}) {\n  const { x, y } = points;\n  const { from = x[0], to = x[x.length - 1], exclusions = [] } = options;\n\n  let zones = getZones(from, to, exclusions);\n\n\n  let currentZoneIndex = 0;\n  let newX = [];\n  let newY = [];\n  let position = 0;\n  while (position < x.length) {\n    if (\n      x[position] <= zones[currentZoneIndex].to &&\n      x[position] >= zones[currentZoneIndex].from\n    ) {\n      newX.push(x[position]);\n      newY.push(y[position]);\n    } else {\n      if (x[position] > zones[currentZoneIndex].to) {\n        currentZoneIndex++;\n        if (!zones[currentZoneIndex]) break;\n      }\n    }\n    position++;\n  }\n\n  return {\n    x: newX,\n    y: newY\n  };\n}\n","/**\n * @private\n * Check that a row index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkRowIndex(matrix, index, outer) {\n  let max = outer ? matrix.rows : matrix.rows - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Row index out of range');\n  }\n}\n\n/**\n * @private\n * Check that a column index is not out of bounds\n * @param {Matrix} matrix\n * @param {number} index\n * @param {boolean} [outer]\n */\nexport function checkColumnIndex(matrix, index, outer) {\n  let max = outer ? matrix.columns : matrix.columns - 1;\n  if (index < 0 || index > max) {\n    throw new RangeError('Column index out of range');\n  }\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkRowVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.columns) {\n    throw new RangeError(\n      'vector size must be the same as the number of columns',\n    );\n  }\n  return vector;\n}\n\n/**\n * @private\n * Check that the provided vector is an array with the right length\n * @param {Matrix} matrix\n * @param {Array|Matrix} vector\n * @return {Array}\n * @throws {RangeError}\n */\nexport function checkColumnVector(matrix, vector) {\n  if (vector.to1DArray) {\n    vector = vector.to1DArray();\n  }\n  if (vector.length !== matrix.rows) {\n    throw new RangeError('vector size must be the same as the number of rows');\n  }\n  return vector;\n}\n\nexport function checkIndices(matrix, rowIndices, columnIndices) {\n  return {\n    row: checkRowIndices(matrix, rowIndices),\n    column: checkColumnIndices(matrix, columnIndices),\n  };\n}\n\nexport function checkRowIndices(matrix, rowIndices) {\n  if (typeof rowIndices !== 'object') {\n    throw new TypeError('unexpected type for row indices');\n  }\n\n  let rowOut = rowIndices.some((r) => {\n    return r < 0 || r >= matrix.rows;\n  });\n\n  if (rowOut) {\n    throw new RangeError('row indices are out of range');\n  }\n\n  if (!Array.isArray(rowIndices)) rowIndices = Array.from(rowIndices);\n\n  return rowIndices;\n}\n\nexport function checkColumnIndices(matrix, columnIndices) {\n  if (typeof columnIndices !== 'object') {\n    throw new TypeError('unexpected type for column indices');\n  }\n\n  let columnOut = columnIndices.some((c) => {\n    return c < 0 || c >= matrix.columns;\n  });\n\n  if (columnOut) {\n    throw new RangeError('column indices are out of range');\n  }\n  if (!Array.isArray(columnIndices)) columnIndices = Array.from(columnIndices);\n\n  return columnIndices;\n}\n\nexport function checkRange(matrix, startRow, endRow, startColumn, endColumn) {\n  if (arguments.length !== 5) {\n    throw new RangeError('expected 4 arguments');\n  }\n  checkNumber('startRow', startRow);\n  checkNumber('endRow', endRow);\n  checkNumber('startColumn', startColumn);\n  checkNumber('endColumn', endColumn);\n  if (\n    startRow > endRow ||\n    startColumn > endColumn ||\n    startRow < 0 ||\n    startRow >= matrix.rows ||\n    endRow < 0 ||\n    endRow >= matrix.rows ||\n    startColumn < 0 ||\n    startColumn >= matrix.columns ||\n    endColumn < 0 ||\n    endColumn >= matrix.columns\n  ) {\n    throw new RangeError('Submatrix indices are out of range');\n  }\n}\n\nexport function newArray(length, value = 0) {\n  let array = [];\n  for (let i = 0; i < length; i++) {\n    array.push(value);\n  }\n  return array;\n}\n\nfunction checkNumber(name, value) {\n  if (typeof value !== 'number') {\n    throw new TypeError(`${name} must be a number`);\n  }\n}\n","import { newArray } from './util';\n\nexport function sumByRow(matrix) {\n  let sum = newArray(matrix.rows);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function sumByColumn(matrix) {\n  let sum = newArray(matrix.columns);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] += matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function sumAll(matrix) {\n  let v = 0;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v += matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nexport function productByRow(matrix) {\n  let sum = newArray(matrix.rows, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[i] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function productByColumn(matrix) {\n  let sum = newArray(matrix.columns, 1);\n  for (let i = 0; i < matrix.rows; ++i) {\n    for (let j = 0; j < matrix.columns; ++j) {\n      sum[j] *= matrix.get(i, j);\n    }\n  }\n  return sum;\n}\n\nexport function productAll(matrix) {\n  let v = 1;\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      v *= matrix.get(i, j);\n    }\n  }\n  return v;\n}\n\nexport function varianceByRow(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let i = 0; i < rows; i++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean[i];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / cols) / (cols - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / cols) / cols);\n    }\n  }\n  return variance;\n}\n\nexport function varianceByColumn(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const variance = [];\n\n  for (let j = 0; j < cols; j++) {\n    let sum1 = 0;\n    let sum2 = 0;\n    let x = 0;\n    for (let i = 0; i < rows; i++) {\n      x = matrix.get(i, j) - mean[j];\n      sum1 += x;\n      sum2 += x * x;\n    }\n    if (unbiased) {\n      variance.push((sum2 - (sum1 * sum1) / rows) / (rows - 1));\n    } else {\n      variance.push((sum2 - (sum1 * sum1) / rows) / rows);\n    }\n  }\n  return variance;\n}\n\nexport function varianceAll(matrix, unbiased, mean) {\n  const rows = matrix.rows;\n  const cols = matrix.columns;\n  const size = rows * cols;\n\n  let sum1 = 0;\n  let sum2 = 0;\n  let x = 0;\n  for (let i = 0; i < rows; i++) {\n    for (let j = 0; j < cols; j++) {\n      x = matrix.get(i, j) - mean;\n      sum1 += x;\n      sum2 += x * x;\n    }\n  }\n  if (unbiased) {\n    return (sum2 - (sum1 * sum1) / size) / (size - 1);\n  } else {\n    return (sum2 - (sum1 * sum1) / size) / size;\n  }\n}\n\nexport function centerByRow(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[i]);\n    }\n  }\n}\n\nexport function centerByColumn(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean[j]);\n    }\n  }\n}\n\nexport function centerAll(matrix, mean) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) - mean);\n    }\n  }\n}\n\nexport function getScaleByRow(matrix) {\n  const scale = [];\n  for (let i = 0; i < matrix.rows; i++) {\n    let sum = 0;\n    for (let j = 0; j < matrix.columns; j++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.columns - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nexport function scaleByRow(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[i]);\n    }\n  }\n}\n\nexport function getScaleByColumn(matrix) {\n  const scale = [];\n  for (let j = 0; j < matrix.columns; j++) {\n    let sum = 0;\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / (matrix.rows - 1);\n    }\n    scale.push(Math.sqrt(sum));\n  }\n  return scale;\n}\n\nexport function scaleByColumn(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale[j]);\n    }\n  }\n}\n\nexport function getScaleAll(matrix) {\n  const divider = matrix.size - 1;\n  let sum = 0;\n  for (let j = 0; j < matrix.columns; j++) {\n    for (let i = 0; i < matrix.rows; i++) {\n      sum += Math.pow(matrix.get(i, j), 2) / divider;\n    }\n  }\n  return Math.sqrt(sum);\n}\n\nexport function scaleAll(matrix, scale) {\n  for (let i = 0; i < matrix.rows; i++) {\n    for (let j = 0; j < matrix.columns; j++) {\n      matrix.set(i, j, matrix.get(i, j) / scale);\n    }\n  }\n}\n","export function inspectMatrix() {\n  const indent = ' '.repeat(2);\n  const indentData = ' '.repeat(4);\n  return `${this.constructor.name} {\n${indent}[\n${indentData}${inspectData(this, indentData)}\n${indent}]\n${indent}rows: ${this.rows}\n${indent}columns: ${this.columns}\n}`;\n}\n\nconst maxRows = 15;\nconst maxColumns = 10;\nconst maxNumSize = 8;\n\nfunction inspectData(matrix, indent) {\n  const { rows, columns } = matrix;\n  const maxI = Math.min(rows, maxRows);\n  const maxJ = Math.min(columns, maxColumns);\n  const result = [];\n  for (let i = 0; i < maxI; i++) {\n    let line = [];\n    for (let j = 0; j < maxJ; j++) {\n      line.push(formatNumber(matrix.get(i, j)));\n    }\n    result.push(`${line.join(' ')}`);\n  }\n  if (maxJ !== columns) {\n    result[result.length - 1] += ` ... ${columns - maxColumns} more columns`;\n  }\n  if (maxI !== rows) {\n    result.push(`... ${rows - maxRows} more rows`);\n  }\n  return result.join(`\\n${indent}`);\n}\n\nfunction formatNumber(num) {\n  const numStr = String(num);\n  if (numStr.length <= maxNumSize) {\n    return numStr.padEnd(maxNumSize, ' ');\n  }\n  const precise = num.toPrecision(maxNumSize - 2);\n  if (precise.length <= maxNumSize) {\n    return precise;\n  }\n  const exponential = num.toExponential(maxNumSize - 2);\n  const eIndex = exponential.indexOf('e');\n  const e = exponential.substring(eIndex);\n  return exponential.substring(0, maxNumSize - e.length) + e;\n}\n","export function installMathOperations(AbstractMatrix, Matrix) {\n  AbstractMatrix.prototype.add = function add(value) {\n    if (typeof value === 'number') return this.addS(value);\n    return this.addM(value);\n  };\n\n  AbstractMatrix.prototype.addS = function addS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.addM = function addM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.add = function add(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.add(value);\n  };\n\n  AbstractMatrix.prototype.sub = function sub(value) {\n    if (typeof value === 'number') return this.subS(value);\n    return this.subM(value);\n  };\n\n  AbstractMatrix.prototype.subS = function subS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.subM = function subM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sub = function sub(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sub(value);\n  };\n  AbstractMatrix.prototype.subtract = AbstractMatrix.prototype.sub;\n  AbstractMatrix.prototype.subtractS = AbstractMatrix.prototype.subS;\n  AbstractMatrix.prototype.subtractM = AbstractMatrix.prototype.subM;\n  AbstractMatrix.subtract = AbstractMatrix.sub;\n\n  AbstractMatrix.prototype.mul = function mul(value) {\n    if (typeof value === 'number') return this.mulS(value);\n    return this.mulM(value);\n  };\n\n  AbstractMatrix.prototype.mulS = function mulS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.mulM = function mulM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mul = function mul(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mul(value);\n  };\n  AbstractMatrix.prototype.multiply = AbstractMatrix.prototype.mul;\n  AbstractMatrix.prototype.multiplyS = AbstractMatrix.prototype.mulS;\n  AbstractMatrix.prototype.multiplyM = AbstractMatrix.prototype.mulM;\n  AbstractMatrix.multiply = AbstractMatrix.mul;\n\n  AbstractMatrix.prototype.div = function div(value) {\n    if (typeof value === 'number') return this.divS(value);\n    return this.divM(value);\n  };\n\n  AbstractMatrix.prototype.divS = function divS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.divM = function divM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.div = function div(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.div(value);\n  };\n  AbstractMatrix.prototype.divide = AbstractMatrix.prototype.div;\n  AbstractMatrix.prototype.divideS = AbstractMatrix.prototype.divS;\n  AbstractMatrix.prototype.divideM = AbstractMatrix.prototype.divM;\n  AbstractMatrix.divide = AbstractMatrix.div;\n\n  AbstractMatrix.prototype.mod = function mod(value) {\n    if (typeof value === 'number') return this.modS(value);\n    return this.modM(value);\n  };\n\n  AbstractMatrix.prototype.modS = function modS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.modM = function modM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) % matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.mod = function mod(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.mod(value);\n  };\n  AbstractMatrix.prototype.modulus = AbstractMatrix.prototype.mod;\n  AbstractMatrix.prototype.modulusS = AbstractMatrix.prototype.modS;\n  AbstractMatrix.prototype.modulusM = AbstractMatrix.prototype.modM;\n  AbstractMatrix.modulus = AbstractMatrix.mod;\n\n  AbstractMatrix.prototype.and = function and(value) {\n    if (typeof value === 'number') return this.andS(value);\n    return this.andM(value);\n  };\n\n  AbstractMatrix.prototype.andS = function andS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.andM = function andM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) & matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.and = function and(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.and(value);\n  };\n\n  AbstractMatrix.prototype.or = function or(value) {\n    if (typeof value === 'number') return this.orS(value);\n    return this.orM(value);\n  };\n\n  AbstractMatrix.prototype.orS = function orS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.orM = function orM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) | matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.or = function or(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.or(value);\n  };\n\n  AbstractMatrix.prototype.xor = function xor(value) {\n    if (typeof value === 'number') return this.xorS(value);\n    return this.xorM(value);\n  };\n\n  AbstractMatrix.prototype.xorS = function xorS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.xorM = function xorM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) ^ matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.xor = function xor(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.xor(value);\n  };\n\n  AbstractMatrix.prototype.leftShift = function leftShift(value) {\n    if (typeof value === 'number') return this.leftShiftS(value);\n    return this.leftShiftM(value);\n  };\n\n  AbstractMatrix.prototype.leftShiftS = function leftShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.leftShiftM = function leftShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) << matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.leftShift = function leftShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.leftShift(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShift = function signPropagatingRightShift(value) {\n    if (typeof value === 'number') return this.signPropagatingRightShiftS(value);\n    return this.signPropagatingRightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftS = function signPropagatingRightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.signPropagatingRightShiftM = function signPropagatingRightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.signPropagatingRightShift = function signPropagatingRightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.signPropagatingRightShift(value);\n  };\n\n  AbstractMatrix.prototype.rightShift = function rightShift(value) {\n    if (typeof value === 'number') return this.rightShiftS(value);\n    return this.rightShiftM(value);\n  };\n\n  AbstractMatrix.prototype.rightShiftS = function rightShiftS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> value);\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.rightShiftM = function rightShiftM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) >>> matrix.get(i, j));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.rightShift = function rightShift(matrix, value) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.rightShift(value);\n  };\n  AbstractMatrix.prototype.zeroFillRightShift = AbstractMatrix.prototype.rightShift;\n  AbstractMatrix.prototype.zeroFillRightShiftS = AbstractMatrix.prototype.rightShiftS;\n  AbstractMatrix.prototype.zeroFillRightShiftM = AbstractMatrix.prototype.rightShiftM;\n  AbstractMatrix.zeroFillRightShift = AbstractMatrix.rightShift;\n\n  AbstractMatrix.prototype.not = function not() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, ~(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.not = function not(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.not();\n  };\n\n  AbstractMatrix.prototype.abs = function abs() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.abs(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.abs = function abs(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.abs();\n  };\n\n  AbstractMatrix.prototype.acos = function acos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acos = function acos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acos();\n  };\n\n  AbstractMatrix.prototype.acosh = function acosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.acosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.acosh = function acosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.acosh();\n  };\n\n  AbstractMatrix.prototype.asin = function asin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asin = function asin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asin();\n  };\n\n  AbstractMatrix.prototype.asinh = function asinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.asinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.asinh = function asinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.asinh();\n  };\n\n  AbstractMatrix.prototype.atan = function atan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atan = function atan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atan();\n  };\n\n  AbstractMatrix.prototype.atanh = function atanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.atanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.atanh = function atanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.atanh();\n  };\n\n  AbstractMatrix.prototype.cbrt = function cbrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cbrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cbrt = function cbrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cbrt();\n  };\n\n  AbstractMatrix.prototype.ceil = function ceil() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.ceil(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.ceil = function ceil(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.ceil();\n  };\n\n  AbstractMatrix.prototype.clz32 = function clz32() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.clz32(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.clz32 = function clz32(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.clz32();\n  };\n\n  AbstractMatrix.prototype.cos = function cos() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cos(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cos = function cos(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cos();\n  };\n\n  AbstractMatrix.prototype.cosh = function cosh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.cosh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.cosh = function cosh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.cosh();\n  };\n\n  AbstractMatrix.prototype.exp = function exp() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.exp(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.exp = function exp(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.exp();\n  };\n\n  AbstractMatrix.prototype.expm1 = function expm1() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.expm1(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.expm1 = function expm1(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.expm1();\n  };\n\n  AbstractMatrix.prototype.floor = function floor() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.floor(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.floor = function floor(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.floor();\n  };\n\n  AbstractMatrix.prototype.fround = function fround() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.fround(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.fround = function fround(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.fround();\n  };\n\n  AbstractMatrix.prototype.log = function log() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log = function log(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log();\n  };\n\n  AbstractMatrix.prototype.log1p = function log1p() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log1p(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log1p = function log1p(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log1p();\n  };\n\n  AbstractMatrix.prototype.log10 = function log10() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log10(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log10 = function log10(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log10();\n  };\n\n  AbstractMatrix.prototype.log2 = function log2() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.log2(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.log2 = function log2(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.log2();\n  };\n\n  AbstractMatrix.prototype.round = function round() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.round(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.round = function round(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.round();\n  };\n\n  AbstractMatrix.prototype.sign = function sign() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sign(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sign = function sign(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sign();\n  };\n\n  AbstractMatrix.prototype.sin = function sin() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sin(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sin = function sin(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sin();\n  };\n\n  AbstractMatrix.prototype.sinh = function sinh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sinh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sinh = function sinh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sinh();\n  };\n\n  AbstractMatrix.prototype.sqrt = function sqrt() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.sqrt(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.sqrt = function sqrt(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.sqrt();\n  };\n\n  AbstractMatrix.prototype.tan = function tan() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tan(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tan = function tan(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tan();\n  };\n\n  AbstractMatrix.prototype.tanh = function tanh() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.tanh(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.tanh = function tanh(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.tanh();\n  };\n\n  AbstractMatrix.prototype.trunc = function trunc() {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.trunc(this.get(i, j)));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.trunc = function trunc(matrix) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.trunc();\n  };\n\n  AbstractMatrix.pow = function pow(matrix, arg0) {\n    const newMatrix = new Matrix(matrix);\n    return newMatrix.pow(arg0);\n  };\n\n  AbstractMatrix.prototype.pow = function pow(value) {\n    if (typeof value === 'number') return this.powS(value);\n    return this.powM(value);\n  };\n\n  AbstractMatrix.prototype.powS = function powS(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), value));\n      }\n    }\n    return this;\n  };\n\n  AbstractMatrix.prototype.powM = function powM(matrix) {\n    matrix = Matrix.checkMatrix(matrix);\n    if (this.rows !== matrix.rows ||\n      this.columns !== matrix.columns) {\n      throw new RangeError('Matrices dimensions must be equal');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, Math.pow(this.get(i, j), matrix.get(i, j)));\n      }\n    }\n    return this;\n  };\n}\n","import rescale from 'ml-array-rescale';\n\nimport {\n  checkRowVector,\n  checkRowIndex,\n  checkColumnIndex,\n  checkColumnVector,\n  checkRange,\n  checkIndices,\n} from './util';\nimport {\n  sumByRow,\n  sumByColumn,\n  sumAll,\n  productByRow,\n  productByColumn,\n  productAll,\n  varianceByRow,\n  varianceByColumn,\n  varianceAll,\n  centerByRow,\n  centerByColumn,\n  centerAll,\n  scaleByRow,\n  scaleByColumn,\n  scaleAll,\n  getScaleByRow,\n  getScaleByColumn,\n  getScaleAll,\n} from './stat';\nimport { inspectMatrix } from './inspect';\nimport { installMathOperations } from './mathOperations';\n\nexport class AbstractMatrix {\n  static from1DArray(newRows, newColumns, newData) {\n    let length = newRows * newColumns;\n    if (length !== newData.length) {\n      throw new RangeError('data length does not match given dimensions');\n    }\n    let newMatrix = new Matrix(newRows, newColumns);\n    for (let row = 0; row < newRows; row++) {\n      for (let column = 0; column < newColumns; column++) {\n        newMatrix.set(row, column, newData[row * newColumns + column]);\n      }\n    }\n    return newMatrix;\n  }\n\n  static rowVector(newData) {\n    let vector = new Matrix(1, newData.length);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(0, i, newData[i]);\n    }\n    return vector;\n  }\n\n  static columnVector(newData) {\n    let vector = new Matrix(newData.length, 1);\n    for (let i = 0; i < newData.length; i++) {\n      vector.set(i, 0, newData[i]);\n    }\n    return vector;\n  }\n\n  static zeros(rows, columns) {\n    return new Matrix(rows, columns);\n  }\n\n  static ones(rows, columns) {\n    return new Matrix(rows, columns).fill(1);\n  }\n\n  static rand(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { random = Math.random } = options;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.set(i, j, random());\n      }\n    }\n    return matrix;\n  }\n\n  static randInt(rows, columns, options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1000, random = Math.random } = options;\n    if (!Number.isInteger(min)) throw new TypeError('min must be an integer');\n    if (!Number.isInteger(max)) throw new TypeError('max must be an integer');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let interval = max - min;\n    let matrix = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        let value = min + Math.round(random() * interval);\n        matrix.set(i, j, value);\n      }\n    }\n    return matrix;\n  }\n\n  static eye(rows, columns, value) {\n    if (columns === undefined) columns = rows;\n    if (value === undefined) value = 1;\n    let min = Math.min(rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, value);\n    }\n    return matrix;\n  }\n\n  static diag(data, rows, columns) {\n    let l = data.length;\n    if (rows === undefined) rows = l;\n    if (columns === undefined) columns = rows;\n    let min = Math.min(l, rows, columns);\n    let matrix = this.zeros(rows, columns);\n    for (let i = 0; i < min; i++) {\n      matrix.set(i, i, data[i]);\n    }\n    return matrix;\n  }\n\n  static min(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.min(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static max(matrix1, matrix2) {\n    matrix1 = this.checkMatrix(matrix1);\n    matrix2 = this.checkMatrix(matrix2);\n    let rows = matrix1.rows;\n    let columns = matrix1.columns;\n    let result = new this(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        result.set(i, j, Math.max(matrix1.get(i, j), matrix2.get(i, j)));\n      }\n    }\n    return result;\n  }\n\n  static checkMatrix(value) {\n    return AbstractMatrix.isMatrix(value) ? value : new Matrix(value);\n  }\n\n  static isMatrix(value) {\n    return value != null && value.klass === 'Matrix';\n  }\n\n  get size() {\n    return this.rows * this.columns;\n  }\n\n  apply(callback) {\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback must be a function');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        callback.call(this, i, j);\n      }\n    }\n    return this;\n  }\n\n  to1DArray() {\n    let array = [];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        array.push(this.get(i, j));\n      }\n    }\n    return array;\n  }\n\n  to2DArray() {\n    let copy = [];\n    for (let i = 0; i < this.rows; i++) {\n      copy.push([]);\n      for (let j = 0; j < this.columns; j++) {\n        copy[i].push(this.get(i, j));\n      }\n    }\n    return copy;\n  }\n\n  toJSON() {\n    return this.to2DArray();\n  }\n\n  isRowVector() {\n    return this.rows === 1;\n  }\n\n  isColumnVector() {\n    return this.columns === 1;\n  }\n\n  isVector() {\n    return this.rows === 1 || this.columns === 1;\n  }\n\n  isSquare() {\n    return this.rows === this.columns;\n  }\n\n  isSymmetric() {\n    if (this.isSquare()) {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j <= i; j++) {\n          if (this.get(i, j) !== this.get(j, i)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  isEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isEchelonForm = false;\n          checked = true;\n        }\n      }\n      i++;\n    }\n    return isEchelonForm;\n  }\n\n  isReducedEchelonForm() {\n    let i = 0;\n    let j = 0;\n    let previousColumn = -1;\n    let isReducedEchelonForm = true;\n    let checked = false;\n    while (i < this.rows && isReducedEchelonForm) {\n      j = 0;\n      checked = false;\n      while (j < this.columns && checked === false) {\n        if (this.get(i, j) === 0) {\n          j++;\n        } else if (this.get(i, j) === 1 && j > previousColumn) {\n          checked = true;\n          previousColumn = j;\n        } else {\n          isReducedEchelonForm = false;\n          checked = true;\n        }\n      }\n      for (let k = j + 1; k < this.rows; k++) {\n        if (this.get(i, k) !== 0) {\n          isReducedEchelonForm = false;\n        }\n      }\n      i++;\n    }\n    return isReducedEchelonForm;\n  }\n\n  echelonForm() {\n    let result = this.clone();\n    let h = 0;\n    let k = 0;\n    while (h < result.rows && k < result.columns) {\n      let iMax = h;\n      for (let i = h; i < result.rows; i++) {\n        if (result.get(i, k) > result.get(iMax, k)) {\n          iMax = i;\n        }\n      }\n      if (result.get(iMax, k) === 0) {\n        k++;\n      } else {\n        result.swapRows(h, iMax);\n        let tmp = result.get(h, k);\n        for (let j = k; j < result.columns; j++) {\n          result.set(h, j, result.get(h, j) / tmp);\n        }\n        for (let i = h + 1; i < result.rows; i++) {\n          let factor = result.get(i, k) / result.get(h, k);\n          result.set(i, k, 0);\n          for (let j = k + 1; j < result.columns; j++) {\n            result.set(i, j, result.get(i, j) - result.get(h, j) * factor);\n          }\n        }\n        h++;\n        k++;\n      }\n    }\n    return result;\n  }\n\n  reducedEchelonForm() {\n    let result = this.echelonForm();\n    let m = result.columns;\n    let n = result.rows;\n    let h = n - 1;\n    while (h >= 0) {\n      if (result.maxRow(h) === 0) {\n        h--;\n      } else {\n        let p = 0;\n        let pivot = false;\n        while (p < n && pivot === false) {\n          if (result.get(h, p) === 1) {\n            pivot = true;\n          } else {\n            p++;\n          }\n        }\n        for (let i = 0; i < h; i++) {\n          let factor = result.get(i, p);\n          for (let j = p; j < m; j++) {\n            let tmp = result.get(i, j) - factor * result.get(h, j);\n            result.set(i, j, tmp);\n          }\n        }\n        h--;\n      }\n    }\n    return result;\n  }\n\n  set() {\n    throw new Error('set method is unimplemented');\n  }\n\n  get() {\n    throw new Error('get method is unimplemented');\n  }\n\n  repeat(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { rows = 1, columns = 1 } = options;\n    if (!Number.isInteger(rows) || rows <= 0) {\n      throw new TypeError('rows must be a positive integer');\n    }\n    if (!Number.isInteger(columns) || columns <= 0) {\n      throw new TypeError('columns must be a positive integer');\n    }\n    let matrix = new Matrix(this.rows * rows, this.columns * columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        matrix.setSubMatrix(this, this.rows * i, this.columns * j);\n      }\n    }\n    return matrix;\n  }\n\n  fill(value) {\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, value);\n      }\n    }\n    return this;\n  }\n\n  neg() {\n    return this.mulS(-1);\n  }\n\n  getRow(index) {\n    checkRowIndex(this, index);\n    let row = [];\n    for (let i = 0; i < this.columns; i++) {\n      row.push(this.get(index, i));\n    }\n    return row;\n  }\n\n  getRowVector(index) {\n    return Matrix.rowVector(this.getRow(index));\n  }\n\n  setRow(index, array) {\n    checkRowIndex(this, index);\n    array = checkRowVector(this, array);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, array[i]);\n    }\n    return this;\n  }\n\n  swapRows(row1, row2) {\n    checkRowIndex(this, row1);\n    checkRowIndex(this, row2);\n    for (let i = 0; i < this.columns; i++) {\n      let temp = this.get(row1, i);\n      this.set(row1, i, this.get(row2, i));\n      this.set(row2, i, temp);\n    }\n    return this;\n  }\n\n  getColumn(index) {\n    checkColumnIndex(this, index);\n    let column = [];\n    for (let i = 0; i < this.rows; i++) {\n      column.push(this.get(i, index));\n    }\n    return column;\n  }\n\n  getColumnVector(index) {\n    return Matrix.columnVector(this.getColumn(index));\n  }\n\n  setColumn(index, array) {\n    checkColumnIndex(this, index);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, array[i]);\n    }\n    return this;\n  }\n\n  swapColumns(column1, column2) {\n    checkColumnIndex(this, column1);\n    checkColumnIndex(this, column2);\n    for (let i = 0; i < this.rows; i++) {\n      let temp = this.get(i, column1);\n      this.set(i, column1, this.get(i, column2));\n      this.set(i, column2, temp);\n    }\n    return this;\n  }\n\n  addRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[j]);\n      }\n    }\n    return this;\n  }\n\n  subRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[j]);\n      }\n    }\n    return this;\n  }\n\n  mulRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[j]);\n      }\n    }\n    return this;\n  }\n\n  divRowVector(vector) {\n    vector = checkRowVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[j]);\n      }\n    }\n    return this;\n  }\n\n  addColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) + vector[i]);\n      }\n    }\n    return this;\n  }\n\n  subColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) - vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) * vector[i]);\n      }\n    }\n    return this;\n  }\n\n  divColumnVector(vector) {\n    vector = checkColumnVector(this, vector);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        this.set(i, j, this.get(i, j) / vector[i]);\n      }\n    }\n    return this;\n  }\n\n  mulRow(index, value) {\n    checkRowIndex(this, index);\n    for (let i = 0; i < this.columns; i++) {\n      this.set(index, i, this.get(index, i) * value);\n    }\n    return this;\n  }\n\n  mulColumn(index, value) {\n    checkColumnIndex(this, index);\n    for (let i = 0; i < this.rows; i++) {\n      this.set(i, index, this.get(i, index) * value);\n    }\n    return this;\n  }\n\n  max() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  maxIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) > v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  min() {\n    let v = this.get(0, 0);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n        }\n      }\n    }\n    return v;\n  }\n\n  minIndex() {\n    let v = this.get(0, 0);\n    let idx = [0, 0];\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        if (this.get(i, j) < v) {\n          v = this.get(i, j);\n          idx[0] = i;\n          idx[1] = j;\n        }\n      }\n    }\n    return idx;\n  }\n\n  maxRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  maxRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) > v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  minRow(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n      }\n    }\n    return v;\n  }\n\n  minRowIndex(row) {\n    checkRowIndex(this, row);\n    let v = this.get(row, 0);\n    let idx = [row, 0];\n    for (let i = 1; i < this.columns; i++) {\n      if (this.get(row, i) < v) {\n        v = this.get(row, i);\n        idx[1] = i;\n      }\n    }\n    return idx;\n  }\n\n  maxColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  maxColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) > v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  minColumn(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n      }\n    }\n    return v;\n  }\n\n  minColumnIndex(column) {\n    checkColumnIndex(this, column);\n    let v = this.get(0, column);\n    let idx = [0, column];\n    for (let i = 1; i < this.rows; i++) {\n      if (this.get(i, column) < v) {\n        v = this.get(i, column);\n        idx[0] = i;\n      }\n    }\n    return idx;\n  }\n\n  diag() {\n    let min = Math.min(this.rows, this.columns);\n    let diag = [];\n    for (let i = 0; i < min; i++) {\n      diag.push(this.get(i, i));\n    }\n    return diag;\n  }\n\n  norm(type = 'frobenius') {\n    let result = 0;\n    if (type === 'max') {\n      return this.max();\n    } else if (type === 'frobenius') {\n      for (let i = 0; i < this.rows; i++) {\n        for (let j = 0; j < this.columns; j++) {\n          result = result + this.get(i, j) * this.get(i, j);\n        }\n      }\n      return Math.sqrt(result);\n    } else {\n      throw new RangeError(`unknown norm type: ${type}`);\n    }\n  }\n\n  cumulativeSum() {\n    let sum = 0;\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        sum += this.get(i, j);\n        this.set(i, j, sum);\n      }\n    }\n    return this;\n  }\n\n  dot(vector2) {\n    if (AbstractMatrix.isMatrix(vector2)) vector2 = vector2.to1DArray();\n    let vector1 = this.to1DArray();\n    if (vector1.length !== vector2.length) {\n      throw new RangeError('vectors do not have the same size');\n    }\n    let dot = 0;\n    for (let i = 0; i < vector1.length; i++) {\n      dot += vector1[i] * vector2[i];\n    }\n    return dot;\n  }\n\n  mmul(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.columns;\n\n    let result = new Matrix(m, p);\n\n    let Bcolj = new Float64Array(n);\n    for (let j = 0; j < p; j++) {\n      for (let k = 0; k < n; k++) {\n        Bcolj[k] = other.get(k, j);\n      }\n\n      for (let i = 0; i < m; i++) {\n        let s = 0;\n        for (let k = 0; k < n; k++) {\n          s += this.get(i, k) * Bcolj[k];\n        }\n\n        result.set(i, j, s);\n      }\n    }\n    return result;\n  }\n\n  strassen2x2(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(2, 2);\n    const a11 = this.get(0, 0);\n    const b11 = other.get(0, 0);\n    const a12 = this.get(0, 1);\n    const b12 = other.get(0, 1);\n    const a21 = this.get(1, 0);\n    const b21 = other.get(1, 0);\n    const a22 = this.get(1, 1);\n    const b22 = other.get(1, 1);\n\n    // Compute intermediate values.\n    const m1 = (a11 + a22) * (b11 + b22);\n    const m2 = (a21 + a22) * b11;\n    const m3 = a11 * (b12 - b22);\n    const m4 = a22 * (b21 - b11);\n    const m5 = (a11 + a12) * b22;\n    const m6 = (a21 - a11) * (b11 + b12);\n    const m7 = (a12 - a22) * (b21 + b22);\n\n    // Combine intermediate values into the output.\n    const c00 = m1 + m4 - m5 + m7;\n    const c01 = m3 + m5;\n    const c10 = m2 + m4;\n    const c11 = m1 - m2 + m3 + m6;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    return result;\n  }\n\n  strassen3x3(other) {\n    other = Matrix.checkMatrix(other);\n    let result = new Matrix(3, 3);\n\n    const a00 = this.get(0, 0);\n    const a01 = this.get(0, 1);\n    const a02 = this.get(0, 2);\n    const a10 = this.get(1, 0);\n    const a11 = this.get(1, 1);\n    const a12 = this.get(1, 2);\n    const a20 = this.get(2, 0);\n    const a21 = this.get(2, 1);\n    const a22 = this.get(2, 2);\n\n    const b00 = other.get(0, 0);\n    const b01 = other.get(0, 1);\n    const b02 = other.get(0, 2);\n    const b10 = other.get(1, 0);\n    const b11 = other.get(1, 1);\n    const b12 = other.get(1, 2);\n    const b20 = other.get(2, 0);\n    const b21 = other.get(2, 1);\n    const b22 = other.get(2, 2);\n\n    const m1 = (a00 + a01 + a02 - a10 - a11 - a21 - a22) * b11;\n    const m2 = (a00 - a10) * (-b01 + b11);\n    const m3 = a11 * (-b00 + b01 + b10 - b11 - b12 - b20 + b22);\n    const m4 = (-a00 + a10 + a11) * (b00 - b01 + b11);\n    const m5 = (a10 + a11) * (-b00 + b01);\n    const m6 = a00 * b00;\n    const m7 = (-a00 + a20 + a21) * (b00 - b02 + b12);\n    const m8 = (-a00 + a20) * (b02 - b12);\n    const m9 = (a20 + a21) * (-b00 + b02);\n    const m10 = (a00 + a01 + a02 - a11 - a12 - a20 - a21) * b12;\n    const m11 = a21 * (-b00 + b02 + b10 - b11 - b12 - b20 + b21);\n    const m12 = (-a02 + a21 + a22) * (b11 + b20 - b21);\n    const m13 = (a02 - a22) * (b11 - b21);\n    const m14 = a02 * b20;\n    const m15 = (a21 + a22) * (-b20 + b21);\n    const m16 = (-a02 + a11 + a12) * (b12 + b20 - b22);\n    const m17 = (a02 - a12) * (b12 - b22);\n    const m18 = (a11 + a12) * (-b20 + b22);\n    const m19 = a01 * b10;\n    const m20 = a12 * b21;\n    const m21 = a10 * b02;\n    const m22 = a20 * b01;\n    const m23 = a22 * b22;\n\n    const c00 = m6 + m14 + m19;\n    const c01 = m1 + m4 + m5 + m6 + m12 + m14 + m15;\n    const c02 = m6 + m7 + m9 + m10 + m14 + m16 + m18;\n    const c10 = m2 + m3 + m4 + m6 + m14 + m16 + m17;\n    const c11 = m2 + m4 + m5 + m6 + m20;\n    const c12 = m14 + m16 + m17 + m18 + m21;\n    const c20 = m6 + m7 + m8 + m11 + m12 + m13 + m14;\n    const c21 = m12 + m13 + m14 + m15 + m22;\n    const c22 = m6 + m7 + m8 + m9 + m23;\n\n    result.set(0, 0, c00);\n    result.set(0, 1, c01);\n    result.set(0, 2, c02);\n    result.set(1, 0, c10);\n    result.set(1, 1, c11);\n    result.set(1, 2, c12);\n    result.set(2, 0, c20);\n    result.set(2, 1, c21);\n    result.set(2, 2, c22);\n    return result;\n  }\n\n  mmulStrassen(y) {\n    y = Matrix.checkMatrix(y);\n    let x = this.clone();\n    let r1 = x.rows;\n    let c1 = x.columns;\n    let r2 = y.rows;\n    let c2 = y.columns;\n    if (c1 !== r2) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Multiplying ${r1} x ${c1} and ${r2} x ${c2} matrix: dimensions do not match.`,\n      );\n    }\n\n    // Put a matrix into the top left of a matrix of zeros.\n    // `rows` and `cols` are the dimensions of the output matrix.\n    function embed(mat, rows, cols) {\n      let r = mat.rows;\n      let c = mat.columns;\n      if (r === rows && c === cols) {\n        return mat;\n      } else {\n        let resultat = AbstractMatrix.zeros(rows, cols);\n        resultat = resultat.setSubMatrix(mat, 0, 0);\n        return resultat;\n      }\n    }\n\n    // Make sure both matrices are the same size.\n    // This is exclusively for simplicity:\n    // this algorithm can be implemented with matrices of different sizes.\n\n    let r = Math.max(r1, r2);\n    let c = Math.max(c1, c2);\n    x = embed(x, r, c);\n    y = embed(y, r, c);\n\n    // Our recursive multiplication function.\n    function blockMult(a, b, rows, cols) {\n      // For small matrices, resort to naive multiplication.\n      if (rows <= 512 || cols <= 512) {\n        return a.mmul(b); // a is equivalent to this\n      }\n\n      // Apply dynamic padding.\n      if (rows % 2 === 1 && cols % 2 === 1) {\n        a = embed(a, rows + 1, cols + 1);\n        b = embed(b, rows + 1, cols + 1);\n      } else if (rows % 2 === 1) {\n        a = embed(a, rows + 1, cols);\n        b = embed(b, rows + 1, cols);\n      } else if (cols % 2 === 1) {\n        a = embed(a, rows, cols + 1);\n        b = embed(b, rows, cols + 1);\n      }\n\n      let halfRows = parseInt(a.rows / 2, 10);\n      let halfCols = parseInt(a.columns / 2, 10);\n      // Subdivide input matrices.\n      let a11 = a.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n      let b11 = b.subMatrix(0, halfRows - 1, 0, halfCols - 1);\n\n      let a12 = a.subMatrix(0, halfRows - 1, halfCols, a.columns - 1);\n      let b12 = b.subMatrix(0, halfRows - 1, halfCols, b.columns - 1);\n\n      let a21 = a.subMatrix(halfRows, a.rows - 1, 0, halfCols - 1);\n      let b21 = b.subMatrix(halfRows, b.rows - 1, 0, halfCols - 1);\n\n      let a22 = a.subMatrix(halfRows, a.rows - 1, halfCols, a.columns - 1);\n      let b22 = b.subMatrix(halfRows, b.rows - 1, halfCols, b.columns - 1);\n\n      // Compute intermediate values.\n      let m1 = blockMult(\n        AbstractMatrix.add(a11, a22),\n        AbstractMatrix.add(b11, b22),\n        halfRows,\n        halfCols,\n      );\n      let m2 = blockMult(AbstractMatrix.add(a21, a22), b11, halfRows, halfCols);\n      let m3 = blockMult(a11, AbstractMatrix.sub(b12, b22), halfRows, halfCols);\n      let m4 = blockMult(a22, AbstractMatrix.sub(b21, b11), halfRows, halfCols);\n      let m5 = blockMult(AbstractMatrix.add(a11, a12), b22, halfRows, halfCols);\n      let m6 = blockMult(\n        AbstractMatrix.sub(a21, a11),\n        AbstractMatrix.add(b11, b12),\n        halfRows,\n        halfCols,\n      );\n      let m7 = blockMult(\n        AbstractMatrix.sub(a12, a22),\n        AbstractMatrix.add(b21, b22),\n        halfRows,\n        halfCols,\n      );\n\n      // Combine intermediate values into the output.\n      let c11 = AbstractMatrix.add(m1, m4);\n      c11.sub(m5);\n      c11.add(m7);\n      let c12 = AbstractMatrix.add(m3, m5);\n      let c21 = AbstractMatrix.add(m2, m4);\n      let c22 = AbstractMatrix.sub(m1, m2);\n      c22.add(m3);\n      c22.add(m6);\n\n      // Crop output to the desired size (undo dynamic padding).\n      let resultat = AbstractMatrix.zeros(2 * c11.rows, 2 * c11.columns);\n      resultat = resultat.setSubMatrix(c11, 0, 0);\n      resultat = resultat.setSubMatrix(c12, c11.rows, 0);\n      resultat = resultat.setSubMatrix(c21, 0, c11.columns);\n      resultat = resultat.setSubMatrix(c22, c11.rows, c11.columns);\n      return resultat.subMatrix(0, rows - 1, 0, cols - 1);\n    }\n    return blockMult(x, y, r, c);\n  }\n\n  scaleRows(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.rows; i++) {\n      const row = this.getRow(i);\n      rescale(row, { min, max, output: row });\n      newMatrix.setRow(i, row);\n    }\n    return newMatrix;\n  }\n\n  scaleColumns(options = {}) {\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { min = 0, max = 1 } = options;\n    if (!Number.isFinite(min)) throw new TypeError('min must be a number');\n    if (!Number.isFinite(max)) throw new TypeError('max must be a number');\n    if (min >= max) throw new RangeError('min must be smaller than max');\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let i = 0; i < this.columns; i++) {\n      const column = this.getColumn(i);\n      rescale(column, {\n        min: min,\n        max: max,\n        output: column,\n      });\n      newMatrix.setColumn(i, column);\n    }\n    return newMatrix;\n  }\n\n  flipRows() {\n    const middle = Math.ceil(this.columns / 2);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < middle; j++) {\n        let first = this.get(i, j);\n        let last = this.get(i, this.columns - 1 - j);\n        this.set(i, j, last);\n        this.set(i, this.columns - 1 - j, first);\n      }\n    }\n    return this;\n  }\n\n  flipColumns() {\n    const middle = Math.ceil(this.rows / 2);\n    for (let j = 0; j < this.columns; j++) {\n      for (let i = 0; i < middle; i++) {\n        let first = this.get(i, j);\n        let last = this.get(this.rows - 1 - i, j);\n        this.set(i, j, last);\n        this.set(this.rows - 1 - i, j, first);\n      }\n    }\n    return this;\n  }\n\n  kroneckerProduct(other) {\n    other = Matrix.checkMatrix(other);\n\n    let m = this.rows;\n    let n = this.columns;\n    let p = other.rows;\n    let q = other.columns;\n\n    let result = new Matrix(m * p, n * q);\n    for (let i = 0; i < m; i++) {\n      for (let j = 0; j < n; j++) {\n        for (let k = 0; k < p; k++) {\n          for (let l = 0; l < q; l++) {\n            result.set(p * i + k, q * j + l, this.get(i, j) * other.get(k, l));\n          }\n        }\n      }\n    }\n    return result;\n  }\n\n  transpose() {\n    let result = new Matrix(this.columns, this.rows);\n    for (let i = 0; i < this.rows; i++) {\n      for (let j = 0; j < this.columns; j++) {\n        result.set(j, i, this.get(i, j));\n      }\n    }\n    return result;\n  }\n\n  sortRows(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.rows; i++) {\n      this.setRow(i, this.getRow(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  sortColumns(compareFunction = compareNumbers) {\n    for (let i = 0; i < this.columns; i++) {\n      this.setColumn(i, this.getColumn(i).sort(compareFunction));\n    }\n    return this;\n  }\n\n  subMatrix(startRow, endRow, startColumn, endColumn) {\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    let newMatrix = new Matrix(\n      endRow - startRow + 1,\n      endColumn - startColumn + 1,\n    );\n    for (let i = startRow; i <= endRow; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        newMatrix.set(i - startRow, j - startColumn, this.get(i, j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixRow(indices, startColumn, endColumn) {\n    if (startColumn === undefined) startColumn = 0;\n    if (endColumn === undefined) endColumn = this.columns - 1;\n    if (\n      startColumn > endColumn ||\n      startColumn < 0 ||\n      startColumn >= this.columns ||\n      endColumn < 0 ||\n      endColumn >= this.columns\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(indices.length, endColumn - startColumn + 1);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startColumn; j <= endColumn; j++) {\n        if (indices[i] < 0 || indices[i] >= this.rows) {\n          throw new RangeError(`Row index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(i, j - startColumn, this.get(indices[i], j));\n      }\n    }\n    return newMatrix;\n  }\n\n  subMatrixColumn(indices, startRow, endRow) {\n    if (startRow === undefined) startRow = 0;\n    if (endRow === undefined) endRow = this.rows - 1;\n    if (\n      startRow > endRow ||\n      startRow < 0 ||\n      startRow >= this.rows ||\n      endRow < 0 ||\n      endRow >= this.rows\n    ) {\n      throw new RangeError('Argument out of range');\n    }\n\n    let newMatrix = new Matrix(endRow - startRow + 1, indices.length);\n    for (let i = 0; i < indices.length; i++) {\n      for (let j = startRow; j <= endRow; j++) {\n        if (indices[i] < 0 || indices[i] >= this.columns) {\n          throw new RangeError(`Column index out of range: ${indices[i]}`);\n        }\n        newMatrix.set(j - startRow, i, this.get(j, indices[i]));\n      }\n    }\n    return newMatrix;\n  }\n\n  setSubMatrix(matrix, startRow, startColumn) {\n    matrix = Matrix.checkMatrix(matrix);\n    let endRow = startRow + matrix.rows - 1;\n    let endColumn = startColumn + matrix.columns - 1;\n    checkRange(this, startRow, endRow, startColumn, endColumn);\n    for (let i = 0; i < matrix.rows; i++) {\n      for (let j = 0; j < matrix.columns; j++) {\n        this.set(startRow + i, startColumn + j, matrix.get(i, j));\n      }\n    }\n    return this;\n  }\n\n  selection(rowIndices, columnIndices) {\n    let indices = checkIndices(this, rowIndices, columnIndices);\n    let newMatrix = new Matrix(rowIndices.length, columnIndices.length);\n    for (let i = 0; i < indices.row.length; i++) {\n      let rowIndex = indices.row[i];\n      for (let j = 0; j < indices.column.length; j++) {\n        let columnIndex = indices.column[j];\n        newMatrix.set(i, j, this.get(rowIndex, columnIndex));\n      }\n    }\n    return newMatrix;\n  }\n\n  trace() {\n    let min = Math.min(this.rows, this.columns);\n    let trace = 0;\n    for (let i = 0; i < min; i++) {\n      trace += this.get(i, i);\n    }\n    return trace;\n  }\n\n  clone() {\n    let newMatrix = new Matrix(this.rows, this.columns);\n    for (let row = 0; row < this.rows; row++) {\n      for (let column = 0; column < this.columns; column++) {\n        newMatrix.set(row, column, this.get(row, column));\n      }\n    }\n    return newMatrix;\n  }\n\n  sum(by) {\n    switch (by) {\n      case 'row':\n        return sumByRow(this);\n      case 'column':\n        return sumByColumn(this);\n      case undefined:\n        return sumAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  product(by) {\n    switch (by) {\n      case 'row':\n        return productByRow(this);\n      case 'column':\n        return productByColumn(this);\n      case undefined:\n        return productAll(this);\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  mean(by) {\n    const sum = this.sum(by);\n    switch (by) {\n      case 'row': {\n        for (let i = 0; i < this.rows; i++) {\n          sum[i] /= this.columns;\n        }\n        return sum;\n      }\n      case 'column': {\n        for (let i = 0; i < this.columns; i++) {\n          sum[i] /= this.rows;\n        }\n        return sum;\n      }\n      case undefined:\n        return sum / this.size;\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  variance(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { unbiased = true, mean = this.mean(by) } = options;\n    if (typeof unbiased !== 'boolean') {\n      throw new TypeError('unbiased must be a boolean');\n    }\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByRow(this, unbiased, mean);\n      }\n      case 'column': {\n        if (!Array.isArray(mean)) {\n          throw new TypeError('mean must be an array');\n        }\n        return varianceByColumn(this, unbiased, mean);\n      }\n      case undefined: {\n        if (typeof mean !== 'number') {\n          throw new TypeError('mean must be a number');\n        }\n        return varianceAll(this, unbiased, mean);\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  standardDeviation(by, options) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    const variance = this.variance(by, options);\n    if (by === undefined) {\n      return Math.sqrt(variance);\n    } else {\n      for (let i = 0; i < variance.length; i++) {\n        variance[i] = Math.sqrt(variance[i]);\n      }\n      return variance;\n    }\n  }\n\n  center(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    const { center = this.mean(by) } = options;\n    switch (by) {\n      case 'row': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByRow(this, center);\n        return this;\n      }\n      case 'column': {\n        if (!Array.isArray(center)) {\n          throw new TypeError('center must be an array');\n        }\n        centerByColumn(this, center);\n        return this;\n      }\n      case undefined: {\n        if (typeof center !== 'number') {\n          throw new TypeError('center must be a number');\n        }\n        centerAll(this, center);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n\n  scale(by, options = {}) {\n    if (typeof by === 'object') {\n      options = by;\n      by = undefined;\n    }\n    if (typeof options !== 'object') {\n      throw new TypeError('options must be an object');\n    }\n    let scale = options.scale;\n    switch (by) {\n      case 'row': {\n        if (scale === undefined) {\n          scale = getScaleByRow(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByRow(this, scale);\n        return this;\n      }\n      case 'column': {\n        if (scale === undefined) {\n          scale = getScaleByColumn(this);\n        } else if (!Array.isArray(scale)) {\n          throw new TypeError('scale must be an array');\n        }\n        scaleByColumn(this, scale);\n        return this;\n      }\n      case undefined: {\n        if (scale === undefined) {\n          scale = getScaleAll(this);\n        } else if (typeof scale !== 'number') {\n          throw new TypeError('scale must be a number');\n        }\n        scaleAll(this, scale);\n        return this;\n      }\n      default:\n        throw new Error(`invalid option: ${by}`);\n    }\n  }\n}\n\nAbstractMatrix.prototype.klass = 'Matrix';\nif (typeof Symbol !== 'undefined') {\n  AbstractMatrix.prototype[\n    Symbol.for('nodejs.util.inspect.custom')\n  ] = inspectMatrix;\n}\n\nfunction compareNumbers(a, b) {\n  return a - b;\n}\n\n// Synonyms\nAbstractMatrix.random = AbstractMatrix.rand;\nAbstractMatrix.randomInt = AbstractMatrix.randInt;\nAbstractMatrix.diagonal = AbstractMatrix.diag;\nAbstractMatrix.prototype.diagonal = AbstractMatrix.prototype.diag;\nAbstractMatrix.identity = AbstractMatrix.eye;\nAbstractMatrix.prototype.negate = AbstractMatrix.prototype.neg;\nAbstractMatrix.prototype.tensorProduct =\n  AbstractMatrix.prototype.kroneckerProduct;\n\nexport default class Matrix extends AbstractMatrix {\n  constructor(nRows, nColumns) {\n    super();\n    if (Matrix.isMatrix(nRows)) {\n      return nRows.clone();\n    } else if (Number.isInteger(nRows) && nRows > 0) {\n      // Create an empty matrix\n      this.data = [];\n      if (Number.isInteger(nColumns) && nColumns > 0) {\n        for (let i = 0; i < nRows; i++) {\n          this.data.push(new Float64Array(nColumns));\n        }\n      } else {\n        throw new TypeError('nColumns must be a positive integer');\n      }\n    } else if (Array.isArray(nRows)) {\n      // Copy the values from the 2D array\n      const arrayData = nRows;\n      nRows = arrayData.length;\n      nColumns = arrayData[0].length;\n      if (typeof nColumns !== 'number' || nColumns === 0) {\n        throw new TypeError(\n          'Data must be a 2D array with at least one element',\n        );\n      }\n      this.data = [];\n      for (let i = 0; i < nRows; i++) {\n        if (arrayData[i].length !== nColumns) {\n          throw new RangeError('Inconsistent array dimensions');\n        }\n        this.data.push(Float64Array.from(arrayData[i]));\n      }\n    } else {\n      throw new TypeError(\n        'First argument must be a positive number or an array',\n      );\n    }\n    this.rows = nRows;\n    this.columns = nColumns;\n    return this;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n\n  removeRow(index) {\n    checkRowIndex(this, index);\n    if (this.rows === 1) {\n      throw new RangeError('A matrix cannot have less than one row');\n    }\n    this.data.splice(index, 1);\n    this.rows -= 1;\n    return this;\n  }\n\n  addRow(index, array) {\n    if (array === undefined) {\n      array = index;\n      index = this.rows;\n    }\n    checkRowIndex(this, index, true);\n    array = Float64Array.from(checkRowVector(this, array, true));\n    this.data.splice(index, 0, array);\n    this.rows += 1;\n    return this;\n  }\n\n  removeColumn(index) {\n    checkColumnIndex(this, index);\n    if (this.columns === 1) {\n      throw new RangeError('A matrix cannot have less than one column');\n    }\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns - 1);\n      for (let j = 0; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      for (let j = index + 1; j < this.columns; j++) {\n        newRow[j - 1] = this.data[i][j];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns -= 1;\n    return this;\n  }\n\n  addColumn(index, array) {\n    if (typeof array === 'undefined') {\n      array = index;\n      index = this.columns;\n    }\n    checkColumnIndex(this, index, true);\n    array = checkColumnVector(this, array);\n    for (let i = 0; i < this.rows; i++) {\n      const newRow = new Float64Array(this.columns + 1);\n      let j = 0;\n      for (; j < index; j++) {\n        newRow[j] = this.data[i][j];\n      }\n      newRow[j++] = array[i];\n      for (; j < this.columns + 1; j++) {\n        newRow[j] = this.data[i][j - 1];\n      }\n      this.data[i] = newRow;\n    }\n    this.columns += 1;\n    return this;\n  }\n}\n\ninstallMathOperations(AbstractMatrix, Matrix);\n","import { AbstractMatrix } from '../matrix';\n\nexport default class BaseView extends AbstractMatrix {\n  constructor(matrix, rows, columns) {\n    super();\n    this.matrix = matrix;\n    this.rows = rows;\n    this.columns = columns;\n  }\n}\n","import BaseView from './base';\r\n\r\nexport default class MatrixTransposeView extends BaseView {\r\n  constructor(matrix) {\r\n    super(matrix, matrix.columns, matrix.rows);\r\n  }\r\n\r\n  set(rowIndex, columnIndex, value) {\r\n    this.matrix.set(columnIndex, rowIndex, value);\r\n    return this;\r\n  }\r\n\r\n  get(rowIndex, columnIndex) {\r\n    return this.matrix.get(columnIndex, rowIndex);\r\n  }\r\n}\r\n","import { AbstractMatrix } from '../matrix';\n\nexport default class WrapperMatrix2D extends AbstractMatrix {\n  constructor(data) {\n    super();\n    this.data = data;\n    this.rows = data.length;\n    this.columns = data[0].length;\n  }\n\n  set(rowIndex, columnIndex, value) {\n    this.data[rowIndex][columnIndex] = value;\n    return this;\n  }\n\n  get(rowIndex, columnIndex) {\n    return this.data[rowIndex][columnIndex];\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nexport default class LuDecomposition {\n  constructor(matrix) {\n    matrix = WrapperMatrix2D.checkMatrix(matrix);\n\n    let lu = matrix.clone();\n    let rows = lu.rows;\n    let columns = lu.columns;\n    let pivotVector = new Float64Array(rows);\n    let pivotSign = 1;\n    let i, j, k, p, s, t, v;\n    let LUcolj, kmax;\n\n    for (i = 0; i < rows; i++) {\n      pivotVector[i] = i;\n    }\n\n    LUcolj = new Float64Array(rows);\n\n    for (j = 0; j < columns; j++) {\n      for (i = 0; i < rows; i++) {\n        LUcolj[i] = lu.get(i, j);\n      }\n\n      for (i = 0; i < rows; i++) {\n        kmax = Math.min(i, j);\n        s = 0;\n        for (k = 0; k < kmax; k++) {\n          s += lu.get(i, k) * LUcolj[k];\n        }\n        LUcolj[i] -= s;\n        lu.set(i, j, LUcolj[i]);\n      }\n\n      p = j;\n      for (i = j + 1; i < rows; i++) {\n        if (Math.abs(LUcolj[i]) > Math.abs(LUcolj[p])) {\n          p = i;\n        }\n      }\n\n      if (p !== j) {\n        for (k = 0; k < columns; k++) {\n          t = lu.get(p, k);\n          lu.set(p, k, lu.get(j, k));\n          lu.set(j, k, t);\n        }\n\n        v = pivotVector[p];\n        pivotVector[p] = pivotVector[j];\n        pivotVector[j] = v;\n\n        pivotSign = -pivotSign;\n      }\n\n      if (j < rows && lu.get(j, j) !== 0) {\n        for (i = j + 1; i < rows; i++) {\n          lu.set(i, j, lu.get(i, j) / lu.get(j, j));\n        }\n      }\n    }\n\n    this.LU = lu;\n    this.pivotVector = pivotVector;\n    this.pivotSign = pivotSign;\n  }\n\n  isSingular() {\n    let data = this.LU;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      if (data.get(j, j) === 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let lu = this.LU;\n    let rows = lu.rows;\n\n    if (rows !== value.rows) {\n      throw new Error('Invalid matrix dimensions');\n    }\n    if (this.isSingular()) {\n      throw new Error('LU matrix is singular');\n    }\n\n    let count = value.columns;\n    let X = value.subMatrixRow(this.pivotVector, 0, count - 1);\n    let columns = lu.columns;\n    let i, j, k;\n\n    for (k = 0; k < columns; k++) {\n      for (i = k + 1; i < columns; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    for (k = columns - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / lu.get(k, k));\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * lu.get(i, k));\n        }\n      }\n    }\n    return X;\n  }\n\n  get determinant() {\n    let data = this.LU;\n    if (!data.isSquare()) {\n      throw new Error('Matrix must be square');\n    }\n    let determinant = this.pivotSign;\n    let col = data.columns;\n    for (let j = 0; j < col; j++) {\n      determinant *= data.get(j, j);\n    }\n    return determinant;\n  }\n\n  get lowerTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i > j) {\n          X.set(i, j, data.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, 1);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get upperTriangularMatrix() {\n    let data = this.LU;\n    let rows = data.rows;\n    let columns = data.columns;\n    let X = new Matrix(rows, columns);\n    for (let i = 0; i < rows; i++) {\n      for (let j = 0; j < columns; j++) {\n        if (i <= j) {\n          X.set(i, j, data.get(i, j));\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get pivotPermutationVector() {\n    return Array.from(this.pivotVector);\n  }\n}\n","export function hypotenuse(a, b) {\n  let r = 0;\n  if (Math.abs(a) > Math.abs(b)) {\n    r = b / a;\n    return Math.abs(a) * Math.sqrt(1 + r * r);\n  }\n  if (b !== 0) {\n    r = a / b;\n    return Math.abs(b) * Math.sqrt(1 + r * r);\n  }\n  return 0;\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nimport { hypotenuse } from './util';\n\nexport default class QrDecomposition {\n  constructor(value) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let qr = value.clone();\n    let m = value.rows;\n    let n = value.columns;\n    let rdiag = new Float64Array(n);\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      let nrm = 0;\n      for (i = k; i < m; i++) {\n        nrm = hypotenuse(nrm, qr.get(i, k));\n      }\n      if (nrm !== 0) {\n        if (qr.get(k, k) < 0) {\n          nrm = -nrm;\n        }\n        for (i = k; i < m; i++) {\n          qr.set(i, k, qr.get(i, k) / nrm);\n        }\n        qr.set(k, k, qr.get(k, k) + 1);\n        for (j = k + 1; j < n; j++) {\n          s = 0;\n          for (i = k; i < m; i++) {\n            s += qr.get(i, k) * qr.get(i, j);\n          }\n          s = -s / qr.get(k, k);\n          for (i = k; i < m; i++) {\n            qr.set(i, j, qr.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n      rdiag[k] = -nrm;\n    }\n\n    this.QR = qr;\n    this.Rdiag = rdiag;\n  }\n\n  solve(value) {\n    value = Matrix.checkMatrix(value);\n\n    let qr = this.QR;\n    let m = qr.rows;\n\n    if (value.rows !== m) {\n      throw new Error('Matrix row dimensions must agree');\n    }\n    if (!this.isFullRank()) {\n      throw new Error('Matrix is rank deficient');\n    }\n\n    let count = value.columns;\n    let X = value.clone();\n    let n = qr.columns;\n    let i, j, k, s;\n\n    for (k = 0; k < n; k++) {\n      for (j = 0; j < count; j++) {\n        s = 0;\n        for (i = k; i < m; i++) {\n          s += qr.get(i, k) * X.get(i, j);\n        }\n        s = -s / qr.get(k, k);\n        for (i = k; i < m; i++) {\n          X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n        }\n      }\n    }\n    for (k = n - 1; k >= 0; k--) {\n      for (j = 0; j < count; j++) {\n        X.set(k, j, X.get(k, j) / this.Rdiag[k]);\n      }\n      for (i = 0; i < k; i++) {\n        for (j = 0; j < count; j++) {\n          X.set(i, j, X.get(i, j) - X.get(k, j) * qr.get(i, k));\n        }\n      }\n    }\n\n    return X.subMatrix(0, n - 1, 0, count - 1);\n  }\n\n  isFullRank() {\n    let columns = this.QR.columns;\n    for (let i = 0; i < columns; i++) {\n      if (this.Rdiag[i] === 0) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  get upperTriangularMatrix() {\n    let qr = this.QR;\n    let n = qr.columns;\n    let X = new Matrix(n, n);\n    let i, j;\n    for (i = 0; i < n; i++) {\n      for (j = 0; j < n; j++) {\n        if (i < j) {\n          X.set(i, j, qr.get(i, j));\n        } else if (i === j) {\n          X.set(i, j, this.Rdiag[i]);\n        } else {\n          X.set(i, j, 0);\n        }\n      }\n    }\n    return X;\n  }\n\n  get orthogonalMatrix() {\n    let qr = this.QR;\n    let rows = qr.rows;\n    let columns = qr.columns;\n    let X = new Matrix(rows, columns);\n    let i, j, k, s;\n\n    for (k = columns - 1; k >= 0; k--) {\n      for (i = 0; i < rows; i++) {\n        X.set(i, k, 0);\n      }\n      X.set(k, k, 1);\n      for (j = k; j < columns; j++) {\n        if (qr.get(k, k) !== 0) {\n          s = 0;\n          for (i = k; i < rows; i++) {\n            s += qr.get(i, k) * X.get(i, j);\n          }\n\n          s = -s / qr.get(k, k);\n\n          for (i = k; i < rows; i++) {\n            X.set(i, j, X.get(i, j) + s * qr.get(i, k));\n          }\n        }\n      }\n    }\n    return X;\n  }\n}\n","import Matrix from '../matrix';\nimport WrapperMatrix2D from '../wrap/WrapperMatrix2D';\n\nimport { hypotenuse } from './util';\n\nexport default class SingularValueDecomposition {\n  constructor(value, options = {}) {\n    value = WrapperMatrix2D.checkMatrix(value);\n\n    let m = value.rows;\n    let n = value.columns;\n\n    const {\n      computeLeftSingularVectors = true,\n      computeRightSingularVectors = true,\n      autoTranspose = false,\n    } = options;\n\n    let wantu = Boolean(computeLeftSingularVectors);\n    let wantv = Boolean(computeRightSingularVectors);\n\n    let swapped = false;\n    let a;\n    if (m < n) {\n      if (!autoTranspose) {\n        a = value.clone();\n        // eslint-disable-next-line no-console\n        console.warn(\n          'Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose',\n        );\n      } else {\n        a = value.transpose();\n        m = a.rows;\n        n = a.columns;\n        swapped = true;\n        let aux = wantu;\n        wantu = wantv;\n        wantv = aux;\n      }\n    } else {\n      a = value.clone();\n    }\n\n    let nu = Math.min(m, n);\n    let ni = Math.min(m + 1, n);\n    let s = new Float64Array(ni);\n    let U = new Matrix(m, nu);\n    let V = new Matrix(n, n);\n\n    let e = new Float64Array(n);\n    let work = new Float64Array(m);\n\n    let si = new Float64Array(ni);\n    for (let i = 0; i < ni; i++) si[i] = i;\n\n    let nct = Math.min(m - 1, n);\n    let nrt = Math.max(0, Math.min(n - 2, m));\n    let mrc = Math.max(nct, nrt);\n\n    for (let k = 0; k < mrc; k++) {\n      if (k < nct) {\n        s[k] = 0;\n        for (let i = k; i < m; i++) {\n          s[k] = hypotenuse(s[k], a.get(i, k));\n        }\n        if (s[k] !== 0) {\n          if (a.get(k, k) < 0) {\n            s[k] = -s[k];\n          }\n          for (let i = k; i < m; i++) {\n            a.set(i, k, a.get(i, k) / s[k]);\n          }\n          a.set(k, k, a.get(k, k) + 1);\n        }\n        s[k] = -s[k];\n      }\n\n      for (let j = k + 1; j < n; j++) {\n        if (k < nct && s[k] !== 0) {\n          let t = 0;\n          for (let i = k; i < m; i++) {\n            t += a.get(i, k) * a.get(i, j);\n          }\n          t = -t / a.get(k, k);\n          for (let i = k; i < m; i++) {\n            a.set(i, j, a.get(i, j) + t * a.get(i, k));\n          }\n        }\n        e[j] = a.get(k, j);\n      }\n\n      if (wantu && k < nct) {\n        for (let i = k; i < m; i++) {\n          U.set(i, k, a.get(i, k));\n        }\n      }\n\n      if (k < nrt) {\n        e[k] = 0;\n        for (let i = k + 1; i < n; i++) {\n          e[k] = hypotenuse(e[k], e[i]);\n        }\n        if (e[k] !== 0) {\n          if (e[k + 1] < 0) {\n            e[k] = 0 - e[k];\n          }\n          for (let i = k + 1; i < n; i++) {\n            e[i] /= e[k];\n          }\n          e[k + 1] += 1;\n        }\n        e[k] = -e[k];\n        if (k + 1 < m && e[k] !== 0) {\n          for (let i = k + 1; i < m; i++) {\n            work[i] = 0;\n          }\n          for (let i = k + 1; i < m; i++) {\n            for (let j = k + 1; j < n; j++) {\n              work[i] += e[j] * a.get(i, j);\n            }\n          }\n          for (let j = k + 1; j < n; j++) {\n            let t = -e[j] / e[k + 1];\n            for (let i = k + 1; i < m; i++) {\n              a.set(i, j, a.get(i, j) + t * work[i]);\n            }\n          }\n        }\n        if (wantv) {\n          for (let i = k + 1; i < n; i++) {\n            V.set(i, k, e[i]);\n          }\n        }\n      }\n    }\n\n    let p = Math.min(n, m + 1);\n    if (nct < n) {\n      s[nct] = a.get(nct, nct);\n    }\n    if (m < p) {\n      s[p - 1] = 0;\n    }\n    if (nrt + 1 < p) {\n      e[nrt] = a.get(nrt, p - 1);\n    }\n    e[p - 1] = 0;\n\n    if (wantu) {\n      for (let j = nct; j < nu; j++) {\n        for (let i = 0; i < m; i++) {\n          U.set(i, j, 0);\n        }\n        U.set(j, j, 1);\n      }\n      for (let k = nct - 1; k >= 0; k--) {\n        if (s[k] !== 0) {\n          for (let j = k + 1; j < nu; j++) {\n            let t = 0;\n            for (let i = k; i < m; i++) {\n              t += U.get(i, k) * U.get(i, j);\n            }\n            t = -t / U.get(k, k);\n            for (let i = k; i < m; i++) {\n              U.set(i, j, U.get(i, j) + t * U.get(i, k));\n            }\n          }\n          for (let i = k; i < m; i++) {\n            U.set(i, k, -U.get(i, k));\n          }\n          U.set(k, k, 1 + U.get(k, k));\n          for (let i = 0; i < k - 1; i++) {\n            U.set(i, k, 0);\n          }\n        } else {\n          for (let i = 0; i < m; i++) {\n            U.set(i, k, 0);\n          }\n          U.set(k, k, 1);\n        }\n      }\n    }\n\n    if (wantv) {\n      for (let k = n - 1; k >= 0; k--) {\n        if (k < nrt && e[k] !== 0) {\n          for (let j = k + 1; j < n; j++) {\n            let t = 0;\n            for (let i = k + 1; i < n; i++) {\n              t += V.get(i, k) * V.get(i, j);\n            }\n            t = -t / V.get(k + 1, k);\n            for (let i = k + 1; i < n; i++) {\n              V.set(i, j, V.get(i, j) + t * V.get(i, k));\n            }\n          }\n        }\n        for (let i = 0; i < n; i++) {\n          V.set(i, k, 0);\n        }\n        V.set(k, k, 1);\n      }\n    }\n\n    let pp = p - 1;\n    let iter = 0;\n    let eps = Number.EPSILON;\n    while (p > 0) {\n      let k, kase;\n      for (k = p - 2; k >= -1; k--) {\n        if (k === -1) {\n          break;\n        }\n        const alpha =\n          Number.MIN_VALUE + eps * Math.abs(s[k] + Math.abs(s[k + 1]));\n        if (Math.abs(e[k]) <= alpha || Number.isNaN(e[k])) {\n          e[k] = 0;\n          break;\n        }\n      }\n      if (k === p - 2) {\n        kase = 4;\n      } else {\n        let ks;\n        for (ks = p - 1; ks >= k; ks--) {\n          if (ks === k) {\n            break;\n          }\n          let t =\n            (ks !== p ? Math.abs(e[ks]) : 0) +\n            (ks !== k + 1 ? Math.abs(e[ks - 1]) : 0);\n          if (Math.abs(s[ks]) <= eps * t) {\n            s[ks] = 0;\n            break;\n          }\n        }\n        if (ks === k) {\n          kase = 3;\n        } else if (ks === p - 1) {\n          kase = 1;\n        } else {\n          kase = 2;\n          k = ks;\n        }\n      }\n\n      k++;\n\n      switch (kase) {\n        case 1: {\n          let f = e[p - 2];\n          e[p - 2] = 0;\n          for (let j = p - 2; j >= k; j--) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            if (j !== k) {\n              f = -sn * e[j - 1];\n              e[j - 1] = cs * e[j - 1];\n            }\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, p - 1);\n                V.set(i, p - 1, -sn * V.get(i, j) + cs * V.get(i, p - 1));\n                V.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 2: {\n          let f = e[k - 1];\n          e[k - 1] = 0;\n          for (let j = k; j < p; j++) {\n            let t = hypotenuse(s[j], f);\n            let cs = s[j] / t;\n            let sn = f / t;\n            s[j] = t;\n            f = -sn * e[j];\n            e[j] = cs * e[j];\n            if (wantu) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, k - 1);\n                U.set(i, k - 1, -sn * U.get(i, j) + cs * U.get(i, k - 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          break;\n        }\n        case 3: {\n          const scale = Math.max(\n            Math.abs(s[p - 1]),\n            Math.abs(s[p - 2]),\n            Math.abs(e[p - 2]),\n            Math.abs(s[k]),\n            Math.abs(e[k]),\n          );\n          const sp = s[p - 1] / scale;\n          const spm1 = s[p - 2] / scale;\n          const epm1 = e[p - 2] / scale;\n          const sk = s[k] / scale;\n          const ek = e[k] / scale;\n          const b = ((spm1 + sp) * (spm1 - sp) + epm1 * epm1) / 2;\n          const c = sp * epm1 * (sp * epm1);\n          let shift = 0;\n          if (b !== 0 || c !== 0) {\n            if (b < 0) {\n              shift = 0 - Math.sqrt(b * b + c);\n            } else {\n              shift = Math.sqrt(b * b + c);\n            }\n            shift = c / (b + shift);\n          }\n          let f = (sk + sp) * (sk - sp) + shift;\n          let g = sk * ek;\n          for (let j = k; j < p - 1; j++) {\n            let t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            let cs = f / t;\n            let sn = g / t;\n            if (j !== k) {\n              e[j - 1] = t;\n            }\n            f = cs * s[j] + sn * e[j];\n            e[j] = cs * e[j] - sn * s[j];\n            g = sn * s[j + 1];\n            s[j + 1] = cs * s[j + 1];\n            if (wantv) {\n              for (let i = 0; i < n; i++) {\n                t = cs * V.get(i, j) + sn * V.get(i, j + 1);\n                V.set(i, j + 1, -sn * V.get(i, j) + cs * V.get(i, j + 1));\n                V.set(i, j, t);\n              }\n            }\n            t = hypotenuse(f, g);\n            if (t === 0) t = Number.MIN_VALUE;\n            cs = f / t;\n            sn = g / t;\n            s[j] = t;\n            f = cs * e[j] + sn * s[j + 1];\n            s[j + 1] = -sn * e[j] + cs * s[j + 1];\n            g = sn * e[j + 1];\n            e[j + 1] = cs * e[j + 1];\n            if (wantu && j < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = cs * U.get(i, j) + sn * U.get(i, j + 1);\n                U.set(i, j + 1, -sn * U.get(i, j) + cs * U.get(i, j + 1));\n                U.set(i, j, t);\n              }\n            }\n          }\n          e[p - 2] = f;\n          iter = iter + 1;\n          break;\n        }\n        case 4: {\n          if (s[k] <= 0) {\n            s[k] = s[k] < 0 ? -s[k] : 0;\n            if (wantv) {\n              for (let i = 0; i <= pp; i++) {\n                V.set(i, k, -V.get(i, k));\n              }\n            }\n          }\n          while (k < pp) {\n            if (s[k] >= s[k + 1]) {\n              break;\n            }\n            let t = s[k];\n            s[k] = s[k + 1];\n            s[k + 1] = t;\n            if (wantv && k < n - 1) {\n              for (let i = 0; i < n; i++) {\n                t = V.get(i, k + 1);\n                V.set(i, k + 1, V.get(i, k));\n                V.set(i, k, t);\n              }\n            }\n            if (wantu && k < m - 1) {\n              for (let i = 0; i < m; i++) {\n                t = U.get(i, k + 1);\n                U.set(i, k + 1, U.get(i, k));\n                U.set(i, k, t);\n              }\n            }\n            k++;\n          }\n          iter = 0;\n          p--;\n          break;\n        }\n        // no default\n      }\n    }\n\n    if (swapped) {\n      let tmp = V;\n      V = U;\n      U = tmp;\n    }\n\n    this.m = m;\n    this.n = n;\n    this.s = s;\n    this.U = U;\n    this.V = V;\n  }\n\n  solve(value) {\n    let Y = value;\n    let e = this.threshold;\n    let scols = this.s.length;\n    let Ls = Matrix.zeros(scols, scols);\n\n    for (let i = 0; i < scols; i++) {\n      if (Math.abs(this.s[i]) <= e) {\n        Ls.set(i, i, 0);\n      } else {\n        Ls.set(i, i, 1 / this.s[i]);\n      }\n    }\n\n    let U = this.U;\n    let V = this.rightSingularVectors;\n\n    let VL = V.mmul(Ls);\n    let vrows = V.rows;\n    let urows = U.rows;\n    let VLU = Matrix.zeros(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < scols; k++) {\n          sum += VL.get(i, k) * U.get(j, k);\n        }\n        VLU.set(i, j, sum);\n      }\n    }\n\n    return VLU.mmul(Y);\n  }\n\n  solveForDiagonal(value) {\n    return this.solve(Matrix.diag(value));\n  }\n\n  inverse() {\n    let V = this.V;\n    let e = this.threshold;\n    let vrows = V.rows;\n    let vcols = V.columns;\n    let X = new Matrix(vrows, this.s.length);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < vcols; j++) {\n        if (Math.abs(this.s[j]) > e) {\n          X.set(i, j, V.get(i, j) / this.s[j]);\n        }\n      }\n    }\n\n    let U = this.U;\n\n    let urows = U.rows;\n    let ucols = U.columns;\n    let Y = new Matrix(vrows, urows);\n\n    for (let i = 0; i < vrows; i++) {\n      for (let j = 0; j < urows; j++) {\n        let sum = 0;\n        for (let k = 0; k < ucols; k++) {\n          sum += X.get(i, k) * U.get(j, k);\n        }\n        Y.set(i, j, sum);\n      }\n    }\n\n    return Y;\n  }\n\n  get condition() {\n    return this.s[0] / this.s[Math.min(this.m, this.n) - 1];\n  }\n\n  get norm2() {\n    return this.s[0];\n  }\n\n  get rank() {\n    let tol = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON;\n    let r = 0;\n    let s = this.s;\n    for (let i = 0, ii = s.length; i < ii; i++) {\n      if (s[i] > tol) {\n        r++;\n      }\n    }\n    return r;\n  }\n\n  get diagonal() {\n    return Array.from(this.s);\n  }\n\n  get threshold() {\n    return (Number.EPSILON / 2) * Math.max(this.m, this.n) * this.s[0];\n  }\n\n  get leftSingularVectors() {\n    return this.U;\n  }\n\n  get rightSingularVectors() {\n    return this.V;\n  }\n\n  get diagonalMatrix() {\n    return Matrix.diag(this.s);\n  }\n}\n","import LuDecomposition from './dc/lu';\nimport QrDecomposition from './dc/qr';\nimport SingularValueDecomposition from './dc/svd';\nimport Matrix from './matrix';\nimport WrapperMatrix2D from './wrap/WrapperMatrix2D';\n\nexport function inverse(matrix, useSVD = false) {\n  matrix = WrapperMatrix2D.checkMatrix(matrix);\n  if (useSVD) {\n    return new SingularValueDecomposition(matrix).inverse();\n  } else {\n    return solve(matrix, Matrix.eye(matrix.rows));\n  }\n}\n\nexport function solve(leftHandSide, rightHandSide, useSVD = false) {\n  leftHandSide = WrapperMatrix2D.checkMatrix(leftHandSide);\n  rightHandSide = WrapperMatrix2D.checkMatrix(rightHandSide);\n  if (useSVD) {\n    return new SingularValueDecomposition(leftHandSide).solve(rightHandSide);\n  } else {\n    return leftHandSide.isSquare()\n      ? new LuDecomposition(leftHandSide).solve(rightHandSide)\n      : new QrDecomposition(leftHandSide).solve(rightHandSide);\n  }\n}\n","'use strict';\n\nvar defaultOptions = {\n  size: 1,\n  value: 0\n};\n\n/**\n * Case when the entry is an array\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction arrayCase(data, options) {\n  var len = data.length;\n  if (typeof options.size === 'number') {\n    options.size = [options.size, options.size];\n  }\n\n  var cond = len + options.size[0] + options.size[1];\n\n  var output;\n  if (options.output) {\n    if (options.output.length !== cond) {\n      throw new RangeError('Wrong output size');\n    }\n    output = options.output;\n  } else {\n    output = new Array(cond);\n  }\n\n  var i;\n  if (options.value === 'circular') {\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) {\n        output[i] = data[(len - (options.size[0] % len) + i) % len];\n      } else if (i < options.size[0] + len) {\n        output[i] = data[i - options.size[0]];\n      } else {\n        output[i] = data[(i - options.size[0]) % len];\n      }\n    }\n  } else if (options.value === 'replicate') {\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) output[i] = data[0];\n      else if (i < options.size[0] + len) output[i] = data[i - options.size[0]];\n      else output[i] = data[len - 1];\n    }\n  } else if (options.value === 'symmetric') {\n    if (options.size[0] > len || options.size[1] > len) {\n      throw new RangeError(\n        'expanded value should not be bigger than the data length'\n      );\n    }\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) output[i] = data[options.size[0] - 1 - i];\n      else if (i < options.size[0] + len) output[i] = data[i - options.size[0]];\n      else output[i] = data[2 * len + options.size[0] - i - 1];\n    }\n  } else {\n    for (i = 0; i < cond; i++) {\n      if (i < options.size[0]) output[i] = options.value;\n      else if (i < options.size[0] + len) output[i] = data[i - options.size[0]];\n      else output[i] = options.value;\n    }\n  }\n\n  return output;\n}\n\n/**\n * Case when the entry is a matrix\n * @param data\n * @param options\n * @returns {Array}\n */\nfunction matrixCase(data, options) {\n  // var row = data.length;\n  // var col = data[0].length;\n  if (options.size[0] === undefined) {\n    options.size = [options.size, options.size, options.size, options.size];\n  }\n  throw new Error('matrix not supported yet, sorry');\n}\n\n/**\n * Pads and array\n * @param {Array <number>} data\n * @param {object} options\n */\nfunction padArray(data, options) {\n  options = Object.assign({}, defaultOptions, options);\n  if (Array.isArray(data)) {\n    if (Array.isArray(data[0])) return matrixCase(data, options);\n    else return arrayCase(data, options);\n  } else {\n    throw new TypeError('data should be an array');\n  }\n}\n\nmodule.exports = padArray;\n","import { Matrix, MatrixTransposeView, inverse } from 'ml-matrix';\nimport padArray from 'ml-pad-array';\n\n/**\n * Factorial of a number\n * @ignore\n * @param n\n * @return {number}\n */\nfunction factorial(n) {\n  let r = 1;\n  while (n > 0) r *= n--;\n  return r;\n}\n\nconst defaultOptions = {\n  windowSize: 5,\n  derivative: 1,\n  polynomial: 2,\n  pad: 'none',\n  padValue: 'replicate',\n};\n\n/**\n * Savitzky-Golay filter\n * @param {Array <number>} data\n * @param {number} h\n * @param {Object} options\n * @returns {Array}\n */\nexport default function savitzkyGolay(data, h, options) {\n  options = Object.assign({}, defaultOptions, options);\n  if (\n    options.windowSize % 2 === 0 ||\n    options.windowSize < 5 ||\n    !Number.isInteger(options.windowSize)\n  ) {\n    throw new RangeError(\n      'Invalid window size (should be odd and at least 5 integer number)',\n    );\n  }\n  if (options.derivative < 0 || !Number.isInteger(options.derivative)) {\n    throw new RangeError('Derivative should be a positive integer');\n  }\n  if (options.polynomial < 1 || !Number.isInteger(options.polynomial)) {\n    throw new RangeError('Polynomial should be a positive integer');\n  }\n\n  let C, norm;\n  let step = Math.floor(options.windowSize / 2);\n\n  if (options.pad === 'pre') {\n    data = padArray(data, { size: step, value: options.padValue });\n  }\n\n  let ans = new Array(data.length - 2 * step);\n\n  if (\n    options.windowSize === 5 &&\n    options.polynomial === 2 &&\n    (options.derivative === 1 || options.derivative === 2)\n  ) {\n    if (options.derivative === 1) {\n      C = [-2, -1, 0, 1, 2];\n      norm = 10;\n    } else {\n      C = [2, -1, -2, -1, 2];\n      norm = 7;\n    }\n  } else {\n    let J = Matrix.ones(options.windowSize, options.polynomial + 1);\n    let inic = -(options.windowSize - 1) / 2;\n    for (let i = 0; i < J.rows; i++) {\n      for (let j = 0; j < J.columns; j++) {\n        if (inic + 1 !== 0 || j !== 0) J.set(i, j, Math.pow(inic + i, j));\n      }\n    }\n    let Jtranspose = new MatrixTransposeView(J);\n    let Jinv = inverse(Jtranspose.mmul(J));\n    C = Jinv.mmul(Jtranspose);\n    C = C.getRow(options.derivative);\n    norm = 1 / factorial(options.derivative);\n  }\n  let det = norm * Math.pow(h, options.derivative);\n  for (let k = step; k < data.length - step; k++) {\n    let d = 0;\n    for (let l = 0; l < C.length; l++) d += (C[l] * data[l + k - step]) / det;\n    ans[k - step] = d;\n  }\n\n  if (options.pad === 'post') {\n    ans = padArray(ans, { size: step, value: options.padValue });\n  }\n\n  return ans;\n}\n","'use strict';\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\n/**\n * Computes the sum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.sum = function sum(values) {\n    var sum = 0;\n    for (var i = 0; i < values.length; i++) {\n        sum += values[i];\n    }\n    return sum;\n};\n\n/**\n * Computes the maximum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.max = function max(values) {\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] > max) max = values[i];\n    }\n    return max;\n};\n\n/**\n * Computes the minimum of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.min = function min(values) {\n    var min = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n    }\n    return min;\n};\n\n/**\n * Computes the min and max of the given values\n * @param {Array} values\n * @returns {{min: number, max: number}}\n */\nexports.minMax = function minMax(values) {\n    var min = values[0];\n    var max = values[0];\n    var l = values.length;\n    for (var i = 1; i < l; i++) {\n        if (values[i] < min) min = values[i];\n        if (values[i] > max) max = values[i];\n    }\n    return {\n        min: min,\n        max: max\n    };\n};\n\n/**\n * Computes the arithmetic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.arithmeticMean = function arithmeticMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        sum += values[i];\n    }\n    return sum / l;\n};\n\n/**\n * {@link arithmeticMean}\n */\nexports.mean = exports.arithmeticMean;\n\n/**\n * Computes the geometric mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.geometricMean = function geometricMean(values) {\n    var mul = 1;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        mul *= values[i];\n    }\n    return Math.pow(mul, 1 / l);\n};\n\n/**\n * Computes the mean of the log of the given values\n * If the return value is exponentiated, it gives the same result as the\n * geometric mean.\n * @param {Array} values\n * @returns {number}\n */\nexports.logMean = function logMean(values) {\n    var lnsum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        lnsum += Math.log(values[i]);\n    }\n    return lnsum / l;\n};\n\n/**\n * Computes the weighted grand mean for a list of means and sample sizes\n * @param {Array} means - Mean values for each set of samples\n * @param {Array} samples - Number of original values for each set of samples\n * @returns {number}\n */\nexports.grandMean = function grandMean(means, samples) {\n    var sum = 0;\n    var n = 0;\n    var l = means.length;\n    for (var i = 0; i < l; i++) {\n        sum += samples[i] * means[i];\n        n += samples[i];\n    }\n    return sum / n;\n};\n\n/**\n * Computes the truncated mean of the given values using a given percentage\n * @param {Array} values\n * @param {number} percent - The percentage of values to keep (range: [0,1])\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.truncatedMean = function truncatedMean(values, percent, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var k = Math.floor(l * percent);\n    var sum = 0;\n    for (var i = k; i < (l - k); i++) {\n        sum += values[i];\n    }\n    return sum / (l - 2 * k);\n};\n\n/**\n * Computes the harmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.harmonicMean = function harmonicMean(values) {\n    var sum = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        if (values[i] === 0) {\n            throw new RangeError('value at index ' + i + 'is zero');\n        }\n        sum += 1 / values[i];\n    }\n    return l / sum;\n};\n\n/**\n * Computes the contraharmonic mean of the given values\n * @param {Array} values\n * @returns {number}\n */\nexports.contraHarmonicMean = function contraHarmonicMean(values) {\n    var r1 = 0;\n    var r2 = 0;\n    var l = values.length;\n    for (var i = 0; i < l; i++) {\n        r1 += values[i] * values[i];\n        r2 += values[i];\n    }\n    if (r2 < 0) {\n        throw new RangeError('sum of values is negative');\n    }\n    return r1 / r2;\n};\n\n/**\n * Computes the median of the given values\n * @param {Array} values\n * @param {boolean} [alreadySorted=false]\n * @returns {number}\n */\nexports.median = function median(values, alreadySorted) {\n    if (alreadySorted === undefined) alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n    var l = values.length;\n    var half = Math.floor(l / 2);\n    if (l % 2 === 0) {\n        return (values[half - 1] + values[half]) * 0.5;\n    } else {\n        return values[half];\n    }\n};\n\n/**\n * Computes the variance of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.variance = function variance(values, unbiased) {\n    if (unbiased === undefined) unbiased = true;\n    var theMean = exports.mean(values);\n    var theVariance = 0;\n    var l = values.length;\n\n    for (var i = 0; i < l; i++) {\n        var x = values[i] - theMean;\n        theVariance += x * x;\n    }\n\n    if (unbiased) {\n        return theVariance / (l - 1);\n    } else {\n        return theVariance / l;\n    }\n};\n\n/**\n * Computes the standard deviation of the given values\n * @param {Array} values\n * @param {boolean} [unbiased=true] - if true, divide by (n-1); if false, divide by n.\n * @returns {number}\n */\nexports.standardDeviation = function standardDeviation(values, unbiased) {\n    return Math.sqrt(exports.variance(values, unbiased));\n};\n\nexports.standardError = function standardError(values) {\n    return exports.standardDeviation(values) / Math.sqrt(values.length);\n};\n\n/**\n * IEEE Transactions on biomedical engineering, vol. 52, no. 1, january 2005, p. 76-\n * Calculate the standard deviation via the Median of the absolute deviation\n *  The formula for the standard deviation only holds for Gaussian random variables.\n * @returns {{mean: number, stdev: number}}\n */\nexports.robustMeanAndStdev = function robustMeanAndStdev(y) {\n    var mean = 0, stdev = 0;\n    var length = y.length, i = 0;\n    for (i = 0; i < length; i++) {\n        mean += y[i];\n    }\n    mean /= length;\n    var averageDeviations = new Array(length);\n    for (i = 0; i < length; i++)\n        averageDeviations[i] = Math.abs(y[i] - mean);\n    averageDeviations.sort(compareNumbers);\n    if (length % 2 === 1) {\n        stdev = averageDeviations[(length - 1) / 2] / 0.6745;\n    } else {\n        stdev = 0.5 * (averageDeviations[length / 2] + averageDeviations[length / 2 - 1]) / 0.6745;\n    }\n\n    return {\n        mean: mean,\n        stdev: stdev\n    };\n};\n\nexports.quartiles = function quartiles(values, alreadySorted) {\n    if (typeof (alreadySorted) === 'undefined') alreadySorted = false;\n    if (!alreadySorted) {\n        values = [].concat(values).sort(compareNumbers);\n    }\n\n    var quart = values.length / 4;\n    var q1 = values[Math.ceil(quart) - 1];\n    var q2 = exports.median(values, true);\n    var q3 = values[Math.ceil(quart * 3) - 1];\n\n    return {q1: q1, q2: q2, q3: q3};\n};\n\nexports.pooledStandardDeviation = function pooledStandardDeviation(samples, unbiased) {\n    return Math.sqrt(exports.pooledVariance(samples, unbiased));\n};\n\nexports.pooledVariance = function pooledVariance(samples, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var sum = 0;\n    var length = 0, l = samples.length;\n    for (var i = 0; i < l; i++) {\n        var values = samples[i];\n        var vari = exports.variance(values);\n\n        sum += (values.length - 1) * vari;\n\n        if (unbiased)\n            length += values.length - 1;\n        else\n            length += values.length;\n    }\n    return sum / length;\n};\n\nexports.mode = function mode(values) {\n    var l = values.length,\n        itemCount = new Array(l),\n        i;\n    for (i = 0; i < l; i++) {\n        itemCount[i] = 0;\n    }\n    var itemArray = new Array(l);\n    var count = 0;\n\n    for (i = 0; i < l; i++) {\n        var index = itemArray.indexOf(values[i]);\n        if (index >= 0)\n            itemCount[index]++;\n        else {\n            itemArray[count] = values[i];\n            itemCount[count] = 1;\n            count++;\n        }\n    }\n\n    var maxValue = 0, maxIndex = 0;\n    for (i = 0; i < count; i++) {\n        if (itemCount[i] > maxValue) {\n            maxValue = itemCount[i];\n            maxIndex = i;\n        }\n    }\n\n    return itemArray[maxIndex];\n};\n\nexports.covariance = function covariance(vector1, vector2, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var mean1 = exports.mean(vector1);\n    var mean2 = exports.mean(vector2);\n\n    if (vector1.length !== vector2.length)\n        throw 'Vectors do not have the same dimensions';\n\n    var cov = 0, l = vector1.length;\n    for (var i = 0; i < l; i++) {\n        var x = vector1[i] - mean1;\n        var y = vector2[i] - mean2;\n        cov += x * y;\n    }\n\n    if (unbiased)\n        return cov / (l - 1);\n    else\n        return cov / l;\n};\n\nexports.skewness = function skewness(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n\n    var s2 = 0, s3 = 0, l = values.length;\n    for (var i = 0; i < l; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s3 += dev * dev * dev;\n    }\n    var m2 = s2 / l;\n    var m3 = s3 / l;\n\n    var g = m3 / (Math.pow(m2, 3 / 2.0));\n    if (unbiased) {\n        var a = Math.sqrt(l * (l - 1));\n        var b = l - 2;\n        return (a / b) * g;\n    } else {\n        return g;\n    }\n};\n\nexports.kurtosis = function kurtosis(values, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var theMean = exports.mean(values);\n    var n = values.length, s2 = 0, s4 = 0;\n\n    for (var i = 0; i < n; i++) {\n        var dev = values[i] - theMean;\n        s2 += dev * dev;\n        s4 += dev * dev * dev * dev;\n    }\n    var m2 = s2 / n;\n    var m4 = s4 / n;\n\n    if (unbiased) {\n        var v = s2 / (n - 1);\n        var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n        var b = s4 / (v * v);\n        var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n\n        return a * b - 3 * c;\n    } else {\n        return m4 / (m2 * m2) - 3;\n    }\n};\n\nexports.entropy = function entropy(values, eps) {\n    if (typeof (eps) === 'undefined') eps = 0;\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * Math.log(values[i] + eps);\n    return -sum;\n};\n\nexports.weightedMean = function weightedMean(values, weights) {\n    var sum = 0, l = values.length;\n    for (var i = 0; i < l; i++)\n        sum += values[i] * weights[i];\n    return sum;\n};\n\nexports.weightedStandardDeviation = function weightedStandardDeviation(values, weights) {\n    return Math.sqrt(exports.weightedVariance(values, weights));\n};\n\nexports.weightedVariance = function weightedVariance(values, weights) {\n    var theMean = exports.weightedMean(values, weights);\n    var vari = 0, l = values.length;\n    var a = 0, b = 0;\n\n    for (var i = 0; i < l; i++) {\n        var z = values[i] - theMean;\n        var w = weights[i];\n\n        vari += w * (z * z);\n        b += w;\n        a += w * w;\n    }\n\n    return vari * (b / (b * b - a));\n};\n\nexports.center = function center(values, inPlace) {\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n\n    var result = values;\n    if (!inPlace)\n        result = [].concat(values);\n\n    var theMean = exports.mean(result), l = result.length;\n    for (var i = 0; i < l; i++)\n        result[i] -= theMean;\n};\n\nexports.standardize = function standardize(values, standardDev, inPlace) {\n    if (typeof (standardDev) === 'undefined') standardDev = exports.standardDeviation(values);\n    if (typeof (inPlace) === 'undefined') inPlace = false;\n    var l = values.length;\n    var result = inPlace ? values : new Array(l);\n    for (var i = 0; i < l; i++)\n        result[i] = values[i] / standardDev;\n    return result;\n};\n\nexports.cumulativeSum = function cumulativeSum(array) {\n    var l = array.length;\n    var result = new Array(l);\n    result[0] = array[0];\n    for (var i = 1; i < l; i++)\n        result[i] = result[i - 1] + array[i];\n    return result;\n};\n","import max from 'ml-array-max';\nimport normed from 'ml-array-normed';\nimport rescale from 'ml-array-rescale';\nimport equallySpaced from 'ml-array-xy-equally-spaced';\nimport filterX from 'ml-array-xy-filter-x';\nimport savitzkyGolay from 'ml-savitzky-golay';\nimport { xDivide, xSubtract, xMultiply, xAdd } from 'ml-spectra-processing';\nimport Stat from 'ml-stat/array';\n/**\n *\n * @private\n * @param {object} spectrum\n * @param {object} [options={}]\n * @param {number} [options.from=x.min]\n * @param {number} [options.to=x.max]\n * @param {number} [options.numberOfPoints]\n * @param {Array} [options.filters=[]] Array of object containing 'name' (centerMean, divideSD, normalize, rescale) and 'options'\n * @param {Array} [options.exclusions=[]]\n * @returns {DataXY}\n */\nexport function getNormalizedData(spectrum, options = {}) {\n  let data = {\n    x: spectrum.variables.x.data,\n    y: spectrum.variables.y.data,\n  };\n  let {\n    from = spectrum.variables.x.min,\n    to = spectrum.variables.x.max,\n    numberOfPoints,\n    filters = [],\n    exclusions = [],\n    processing = '',\n  } = options;\n  let { x, y } = filterX(data, { from, to });\n\n  switch (processing) {\n    case 'firstDerivative':\n      if (options.processing) {\n        y = savitzkyGolay(y, 1, {\n          derivative: 1,\n          polynomial: 2,\n          windowSize: 5,\n        });\n        x = x.slice(2, x.length - 2);\n      }\n      break;\n    case 'secondDerivative':\n      if (options.processing) {\n        y = savitzkyGolay(y, 1, {\n          derivative: 2,\n          polynomial: 2,\n          windowSize: 5,\n        });\n        x = x.slice(2, x.length - 2);\n      }\n      break;\n    default:\n  }\n\n  for (let filter of filters) {\n    let filterOptions = filter.options || {};\n    switch (filter.name.toLowerCase()) {\n      case 'centermean': {\n        let mean = Stat.mean(y);\n        y = xSubtract(y, mean);\n        break;\n      }\n      case 'dividebysd': {\n        let std = Stat.standardDeviation(y);\n        y = xDivide(y, std);\n        break;\n      }\n      case 'normalize': {\n        y = normed(y, {\n          sumValue: filterOptions.value ? Number(filterOptions.value) : 1,\n          algorithm: 'absolute',\n        });\n        break;\n      }\n      case 'rescale': {\n        y = rescale(y, {\n          min: filterOptions.min ? Number(filterOptions.min) : 0,\n          max: filterOptions.max ? Number(filterOptions.max) : 1,\n        });\n        break;\n      }\n      case 'dividebymax': {\n        let maxValue = max(y);\n        y = xDivide(y, maxValue);\n        break;\n      }\n      case 'multiply': {\n        y = xMultiply(y, filterOptions.value ? Number(filterOptions.value) : 1);\n        break;\n      }\n      case 'add': {\n        y = xAdd(y, filterOptions.value ? Number(filterOptions.value) : 0);\n        break;\n      }\n      case '':\n      case undefined:\n        break;\n      default:\n        throw new Error(`Unknown process kind: ${process.kind}`);\n    }\n  }\n\n  if (!numberOfPoints) {\n    return filterX({ x, y }, { from, to, exclusions });\n  }\n\n  return equallySpaced({ x, y }, { from, to, numberOfPoints, exclusions });\n}\n","/*\nThe MIT License (MIT)\nCopyright  2006-2007 Kevin C. Olbrich\nCopyright  2010-2016 LIM SAS (http://lim.eu) - Julien Sanchez\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of\nthis software and associated documentation files (the \"Software\"), to deal in\nthe Software without restriction, including without limitation the rights to\nuse, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\nof the Software, and to permit persons to whom the Software is furnished to do\nso, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n*/\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Qty = factory());\n}(this, (function () { 'use strict';\n\n  /**\n   * Tests if a value is a string\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a string, false otherwise\n   */\n  function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n  }\n\n  /*\n   * Prefer stricter Number.isFinite if currently supported.\n   * To be dropped when ES6 is finalized. Obsolete browsers will\n   * have to use ES6 polyfills.\n   */\n  var isFiniteImpl = Number.isFinite || window.isFinite;\n  /**\n   * Tests if a value is a number\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a number, false otherwise\n   */\n  function isNumber(value) {\n    // Number.isFinite allows not to consider NaN or '1' as numbers\n    return isFiniteImpl(value);\n  }\n\n  /*\n   * Identity function\n   */\n  function identity(value) {\n    return value;\n  }\n\n  /**\n   * Returns unique strings from list\n   *\n   * @param {string[]} strings - array of strings\n   *\n   *\n   * @returns {string[]} a new array of strings without duplicates\n   */\n  function uniq(strings) {\n    var seen = {};\n    return strings.filter(function(item) {\n      return seen.hasOwnProperty(item) ? false : (seen[item] = true);\n    });\n  }\n\n  function compareArray(array1, array2) {\n    if (array2.length !== array1.length) {\n      return false;\n    }\n    for (var i = 0; i < array1.length; i++) {\n      if (array2[i].compareArray) {\n        if (!array2[i].compareArray(array1[i])) {\n          return false;\n        }\n      }\n      if (array2[i] !== array1[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function assign(target, properties) {\n    Object.keys(properties).forEach(function(key) {\n      target[key] = properties[key];\n    });\n  }\n\n  /**\n   * Safely multiplies numbers while avoiding floating errors\n   * like 0.1 * 0.1 => 0.010000000000000002\n   *\n   * @param {...number} numbers - numbers to multiply\n   *\n   * @returns {number} result\n   */\n  function mulSafe() {\n    var result = 1, decimals = 0;\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      decimals = decimals + getFractional(arg);\n      result *= arg;\n    }\n\n    return decimals !== 0 ? round(result, decimals) : result;\n  }\n\n  /**\n   * Safely divides two numbers while avoiding floating errors\n   * like 0.3 / 0.05 => 5.999999999999999\n   *\n   * @returns {number} result\n   * @param {number} num Numerator\n   * @param {number} den Denominator\n   */\n  function divSafe(num, den) {\n    if (den === 0) {\n      throw new Error(\"Divide by zero\");\n    }\n\n    var factor = Math.pow(10, getFractional(den));\n    var invDen = factor / (factor * den);\n\n    return mulSafe(num, invDen);\n  }\n\n  /**\n   * Rounds value at the specified number of decimals\n   *\n   * @param {number} val - value to round\n   * @param {number} decimals - number of decimals\n   *\n   * @returns {number} rounded number\n   */\n  function round(val, decimals) {\n    return Math.round(val * Math.pow(10, decimals)) / Math.pow(10, decimals);\n  }\n\n  function getFractional(num) {\n    // Check for NaNs or Infinities\n    if (!isFinite(num)) {\n      return 0;\n    }\n\n    // Faster than parsing strings\n    // http://jsperf.com/count-decimals/2\n    var count = 0;\n    while (num % 1 !== 0) {\n      num *= 10;\n      count++;\n    }\n    return count;\n  }\n\n  /**\n   * Custom error type definition\n   * @constructor\n   */\n  function QtyError() {\n    var err;\n    if (!this) { // Allows to instantiate QtyError without new()\n      err = Object.create(QtyError.prototype);\n      QtyError.apply(err, arguments);\n      return err;\n    }\n    err = Error.apply(this, arguments);\n    this.name = \"QtyError\";\n    this.message = err.message;\n    this.stack = err.stack;\n  }\n  QtyError.prototype = Object.create(Error.prototype, {constructor: { value: QtyError }});\n\n  /*\n   * Throws incompatible units error\n   * @param {string} left - units\n   * @param {string} right - units incompatible with first argument\n   * @throws \"Incompatible units\" error\n   */\n  function throwIncompatibleUnits(left, right) {\n    throw new QtyError(\"Incompatible units: \" + left + \" and \" + right);\n  }\n\n  var UNITS = {\n    /* prefixes */\n    \"<googol>\" : [[\"googol\"], 1e100, \"prefix\"],\n    \"<kibi>\"  :  [[\"Ki\",\"Kibi\",\"kibi\"], Math.pow(2,10), \"prefix\"],\n    \"<mebi>\"  :  [[\"Mi\",\"Mebi\",\"mebi\"], Math.pow(2,20), \"prefix\"],\n    \"<gibi>\"  :  [[\"Gi\",\"Gibi\",\"gibi\"], Math.pow(2,30), \"prefix\"],\n    \"<tebi>\"  :  [[\"Ti\",\"Tebi\",\"tebi\"], Math.pow(2,40), \"prefix\"],\n    \"<pebi>\"  :  [[\"Pi\",\"Pebi\",\"pebi\"], Math.pow(2,50), \"prefix\"],\n    \"<exi>\"   :  [[\"Ei\",\"Exi\",\"exi\"], Math.pow(2,60), \"prefix\"],\n    \"<zebi>\"  :  [[\"Zi\",\"Zebi\",\"zebi\"], Math.pow(2,70), \"prefix\"],\n    \"<yebi>\"  :  [[\"Yi\",\"Yebi\",\"yebi\"], Math.pow(2,80), \"prefix\"],\n    \"<yotta>\" :  [[\"Y\",\"Yotta\",\"yotta\"], 1e24, \"prefix\"],\n    \"<zetta>\" :  [[\"Z\",\"Zetta\",\"zetta\"], 1e21, \"prefix\"],\n    \"<exa>\"   :  [[\"E\",\"Exa\",\"exa\"], 1e18, \"prefix\"],\n    \"<peta>\"  :  [[\"P\",\"Peta\",\"peta\"], 1e15, \"prefix\"],\n    \"<tera>\"  :  [[\"T\",\"Tera\",\"tera\"], 1e12, \"prefix\"],\n    \"<giga>\"  :  [[\"G\",\"Giga\",\"giga\"], 1e9, \"prefix\"],\n    \"<mega>\"  :  [[\"M\",\"Mega\",\"mega\"], 1e6, \"prefix\"],\n    \"<kilo>\"  :  [[\"k\",\"kilo\"], 1e3, \"prefix\"],\n    \"<hecto>\" :  [[\"h\",\"Hecto\",\"hecto\"], 1e2, \"prefix\"],\n    \"<deca>\"  :  [[\"da\",\"Deca\",\"deca\",\"deka\"], 1e1, \"prefix\"],\n    \"<deci>\"  :  [[\"d\",\"Deci\",\"deci\"], 1e-1, \"prefix\"],\n    \"<centi>\"  : [[\"c\",\"Centi\",\"centi\"], 1e-2, \"prefix\"],\n    \"<milli>\" :  [[\"m\",\"Milli\",\"milli\"], 1e-3, \"prefix\"],\n    \"<micro>\"  : [\n      [\"u\",\"\\u03BC\"/* as greek letter*/,\"\\u00B5\"/* as micro sign*/,\"Micro\",\"mc\",\"micro\"],\n      1e-6,\n      \"prefix\"\n    ],\n    \"<nano>\"  :  [[\"n\",\"Nano\",\"nano\"], 1e-9, \"prefix\"],\n    \"<pico>\"  :  [[\"p\",\"Pico\",\"pico\"], 1e-12, \"prefix\"],\n    \"<femto>\" :  [[\"f\",\"Femto\",\"femto\"], 1e-15, \"prefix\"],\n    \"<atto>\"  :  [[\"a\",\"Atto\",\"atto\"], 1e-18, \"prefix\"],\n    \"<zepto>\" :  [[\"z\",\"Zepto\",\"zepto\"], 1e-21, \"prefix\"],\n    \"<yocto>\" :  [[\"y\",\"Yocto\",\"yocto\"], 1e-24, \"prefix\"],\n\n    \"<1>\"     :  [[\"1\", \"<1>\"], 1, \"\"],\n    /* length units */\n    \"<meter>\" :  [[\"m\",\"meter\",\"meters\",\"metre\",\"metres\"], 1.0, \"length\", [\"<meter>\"] ],\n    \"<inch>\"  :  [[\"in\",\"inch\",\"inches\",\"\\\"\"], 0.0254, \"length\", [\"<meter>\"]],\n    \"<foot>\"  :  [[\"ft\",\"foot\",\"feet\",\"'\"], 0.3048, \"length\", [\"<meter>\"]],\n    \"<yard>\"  :  [[\"yd\",\"yard\",\"yards\"], 0.9144, \"length\", [\"<meter>\"]],\n    \"<mile>\"  :  [[\"mi\",\"mile\",\"miles\"], 1609.344, \"length\", [\"<meter>\"]],\n    \"<naut-mile>\" : [[\"nmi\",\"naut-mile\"], 1852, \"length\", [\"<meter>\"]],\n    \"<league>\":  [[\"league\",\"leagues\"], 4828, \"length\", [\"<meter>\"]],\n    \"<furlong>\": [[\"furlong\",\"furlongs\"], 201.2, \"length\", [\"<meter>\"]],\n    \"<rod>\"   :  [[\"rd\",\"rod\",\"rods\"], 5.029, \"length\", [\"<meter>\"]],\n    \"<mil>\"   :  [[\"mil\",\"mils\"], 0.0000254, \"length\", [\"<meter>\"]],\n    \"<angstrom>\"  :[[\"ang\",\"angstrom\",\"angstroms\"], 1e-10, \"length\", [\"<meter>\"]],\n    \"<fathom>\" : [[\"fathom\",\"fathoms\"], 1.829, \"length\", [\"<meter>\"]],\n    \"<pica>\"  : [[\"pica\",\"picas\"], 0.00423333333, \"length\", [\"<meter>\"]],\n    \"<point>\" : [[\"pt\",\"point\",\"points\"], 0.000352777778, \"length\", [\"<meter>\"]],\n    \"<redshift>\" : [[\"z\",\"red-shift\", \"redshift\"], 1.302773e26, \"length\", [\"<meter>\"]],\n    \"<AU>\"    : [[\"AU\",\"astronomical-unit\"], 149597900000, \"length\", [\"<meter>\"]],\n    \"<light-second>\":[[\"ls\",\"light-second\"], 299792500, \"length\", [\"<meter>\"]],\n    \"<light-minute>\":[[\"lmin\",\"light-minute\"], 17987550000, \"length\", [\"<meter>\"]],\n    \"<light-year>\" : [[\"ly\",\"light-year\"], 9460528000000000, \"length\", [\"<meter>\"]],\n    \"<parsec>\"  : [[\"pc\",\"parsec\",\"parsecs\"], 30856780000000000, \"length\", [\"<meter>\"]],\n    \"<datamile>\"  :  [[\"DM\",\"datamile\"], 1828.8, \"length\", [\"<meter>\"]],\n\n    /* mass */\n    \"<kilogram>\" : [[\"kg\",\"kilogram\",\"kilograms\"], 1.0, \"mass\", [\"<kilogram>\"]],\n    \"<AMU>\" : [[\"u\",\"AMU\",\"amu\"], 1.660538921e-27, \"mass\", [\"<kilogram>\"]],\n    \"<dalton>\" : [[\"Da\",\"Dalton\",\"Daltons\",\"dalton\",\"daltons\"], 1.660538921e-27, \"mass\", [\"<kilogram>\"]],\n    \"<slug>\" : [[\"slug\",\"slugs\"], 14.5939029, \"mass\", [\"<kilogram>\"]],\n    \"<short-ton>\" : [[\"tn\",\"ton\",\"short-ton\"], 907.18474, \"mass\", [\"<kilogram>\"]],\n    \"<metric-ton>\":[[\"tonne\",\"metric-ton\"], 1000, \"mass\", [\"<kilogram>\"]],\n    \"<carat>\" : [[\"ct\",\"carat\",\"carats\"], 0.0002, \"mass\", [\"<kilogram>\"]],\n    \"<pound>\" : [[\"lbs\",\"lb\",\"pound\",\"pounds\",\"#\"], 0.45359237, \"mass\", [\"<kilogram>\"]],\n    \"<ounce>\" : [[\"oz\",\"ounce\",\"ounces\"], 0.0283495231, \"mass\", [\"<kilogram>\"]],\n    \"<gram>\"    :  [[\"g\",\"gram\",\"grams\",\"gramme\",\"grammes\"], 1e-3, \"mass\", [\"<kilogram>\"]],\n    \"<grain>\" : [[\"grain\",\"grains\",\"gr\"], 6.479891e-5, \"mass\", [\"<kilogram>\"]],\n    \"<dram>\"  : [[\"dram\",\"drams\",\"dr\"], 0.0017718452, \"mass\",[\"<kilogram>\"]],\n    \"<stone>\" : [[\"stone\",\"stones\",\"st\"],6.35029318, \"mass\",[\"<kilogram>\"]],\n\n    /* area */\n    \"<hectare>\":[[\"hectare\"], 10000, \"area\", [\"<meter>\",\"<meter>\"]],\n    \"<acre>\":[[\"acre\",\"acres\"], 4046.85642, \"area\", [\"<meter>\",\"<meter>\"]],\n    \"<sqft>\":[[\"sqft\"], 1, \"area\", [\"<foot>\",\"<foot>\"]],\n\n    /* volume */\n    \"<liter>\" : [[\"l\",\"L\",\"liter\",\"liters\",\"litre\",\"litres\"], 0.001, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<gallon>\":  [[\"gal\",\"gallon\",\"gallons\"], 0.0037854118, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<gallon-imp>\":  [[\"galimp\",\"gallon-imp\",\"gallons-imp\"], 0.0045460900, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<quart>\":  [[\"qt\",\"quart\",\"quarts\"], 0.00094635295, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<pint>\":  [[\"pt\",\"pint\",\"pints\"], 0.000473176475, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<pint-imp>\":  [[\"ptimp\",\"pint-imp\",\"pints-imp\"], 5.6826125e-4, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<cup>\":  [[\"cu\",\"cup\",\"cups\"], 0.000236588238, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<fluid-ounce>\":  [[\"floz\",\"fluid-ounce\",\"fluid-ounces\"], 2.95735297e-5, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<fluid-ounce-imp>\":  [[\"flozimp\", \"floz-imp\",\"fluid-ounce-imp\",\"fluid-ounces-imp\"], 2.84130625e-5, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<tablespoon>\":  [[\"tb\",\"tbsp\",\"tbs\",\"tablespoon\",\"tablespoons\"], 1.47867648e-5, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<teaspoon>\":  [[\"tsp\",\"teaspoon\",\"teaspoons\"], 4.92892161e-6, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<bushel>\":  [[\"bu\",\"bsh\",\"bushel\",\"bushels\"], 0.035239072, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<oilbarrel>\":  [[\"bbl\",\"oil-barrel\",\"oil-barrels\"], 0.158987294928, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<beerbarrel>\":  [[\"bl\",\"bl-us\",\"beer-barrel\",\"beer-barrels\"], 0.1173477658, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<beerbarrel-imp>\":  [[\"blimp\",\"bl-imp\",\"beer-barrel-imp\",\"beer-barrels-imp\"], 0.16365924, \"volume\", [\"<meter>\",\"<meter>\",\"<meter>\"]],\n\n    /* speed */\n    \"<kph>\" : [[\"kph\"], 0.277777778, \"speed\", [\"<meter>\"], [\"<second>\"]],\n    \"<mph>\" : [[\"mph\"], 0.44704, \"speed\", [\"<meter>\"], [\"<second>\"]],\n    \"<knot>\" : [[\"kt\",\"kn\",\"kts\",\"knot\",\"knots\"], 0.514444444, \"speed\", [\"<meter>\"], [\"<second>\"]],\n    \"<fps>\"  : [[\"fps\"], 0.3048, \"speed\", [\"<meter>\"], [\"<second>\"]],\n\n    /* acceleration */\n    \"<gee>\" : [[\"gee\"], 9.80665, \"acceleration\", [\"<meter>\"], [\"<second>\",\"<second>\"]],\n\n    /* temperature_difference */\n    \"<kelvin>\" : [[\"degK\",\"kelvin\"], 1.0, \"temperature\", [\"<kelvin>\"]],\n    \"<celsius>\" : [[\"degC\",\"celsius\",\"celsius\",\"centigrade\"], 1.0, \"temperature\", [\"<kelvin>\"]],\n    \"<fahrenheit>\" : [[\"degF\",\"fahrenheit\"], 5 / 9, \"temperature\", [\"<kelvin>\"]],\n    \"<rankine>\" : [[\"degR\",\"rankine\"], 5 / 9, \"temperature\", [\"<kelvin>\"]],\n    \"<temp-K>\"  : [[\"tempK\",\"temp-K\"], 1.0, \"temperature\", [\"<temp-K>\"]],\n    \"<temp-C>\"  : [[\"tempC\",\"temp-C\"], 1.0, \"temperature\", [\"<temp-K>\"]],\n    \"<temp-F>\"  : [[\"tempF\",\"temp-F\"], 5 / 9, \"temperature\", [\"<temp-K>\"]],\n    \"<temp-R>\"  : [[\"tempR\",\"temp-R\"], 5 / 9, \"temperature\", [\"<temp-K>\"]],\n\n    /* time */\n    \"<second>\":  [[\"s\",\"sec\",\"secs\",\"second\",\"seconds\"], 1.0, \"time\", [\"<second>\"]],\n    \"<minute>\":  [[\"min\",\"mins\",\"minute\",\"minutes\"], 60.0, \"time\", [\"<second>\"]],\n    \"<hour>\":  [[\"h\",\"hr\",\"hrs\",\"hour\",\"hours\"], 3600.0, \"time\", [\"<second>\"]],\n    \"<day>\":  [[\"d\",\"day\",\"days\"], 3600 * 24, \"time\", [\"<second>\"]],\n    \"<week>\":  [[\"wk\",\"week\",\"weeks\"], 7 * 3600 * 24, \"time\", [\"<second>\"]],\n    \"<fortnight>\": [[\"fortnight\",\"fortnights\"], 1209600, \"time\", [\"<second>\"]],\n    \"<year>\":  [[\"y\",\"yr\",\"year\",\"years\",\"annum\"], 31556926, \"time\", [\"<second>\"]],\n    \"<decade>\":[[\"decade\",\"decades\"], 315569260, \"time\", [\"<second>\"]],\n    \"<century>\":[[\"century\",\"centuries\"], 3155692600, \"time\", [\"<second>\"]],\n\n    /* pressure */\n    \"<pascal>\" : [[\"Pa\",\"pascal\",\"Pascal\"], 1.0, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<bar>\" : [[\"bar\",\"bars\"], 100000, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<mmHg>\" : [[\"mmHg\"], 133.322368, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<inHg>\" : [[\"inHg\"], 3386.3881472, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<torr>\" : [[\"torr\"], 133.322368, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<atm>\" : [[\"atm\",\"ATM\",\"atmosphere\",\"atmospheres\"], 101325, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<psi>\" : [[\"psi\"], 6894.76, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<cmh2o>\" : [[\"cmH2O\",\"cmh2o\"], 98.0638, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n    \"<inh2o>\" : [[\"inH2O\",\"inh2o\"], 249.082052, \"pressure\", [\"<kilogram>\"],[\"<meter>\",\"<second>\",\"<second>\"]],\n\n    /* viscosity */\n    \"<poise>\"  : [[\"P\",\"poise\"], 0.1, \"viscosity\", [\"<kilogram>\"],[\"<meter>\",\"<second>\"] ],\n    \"<stokes>\" : [[\"St\",\"stokes\"], 1e-4, \"viscosity\", [\"<meter>\",\"<meter>\"], [\"<second>\"]],\n\n    /* substance */\n    \"<mole>\"  :  [[\"mol\",\"mole\"], 1.0, \"substance\", [\"<mole>\"]],\n\n    /* concentration */\n    \"<molar>\" : [[\"M\",\"molar\"], 1000, \"concentration\", [\"<mole>\"], [\"<meter>\",\"<meter>\",\"<meter>\"]],\n    \"<wtpercent>\"  : [[\"wt%\",\"wtpercent\"], 10, \"concentration\", [\"<kilogram>\"], [\"<meter>\",\"<meter>\",\"<meter>\"]],\n\n    /* activity */\n    \"<katal>\" :  [[\"kat\",\"katal\",\"Katal\"], 1.0, \"activity\", [\"<mole>\"], [\"<second>\"]],\n    \"<unit>\"  :  [[\"U\",\"enzUnit\",\"unit\"], 16.667e-16, \"activity\", [\"<mole>\"], [\"<second>\"]],\n\n    /* capacitance */\n    \"<farad>\" :  [[\"F\",\"farad\",\"Farad\"], 1.0, \"capacitance\", [\"<second>\",\"<second>\",\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"], [\"<meter>\", \"<meter>\", \"<kilogram>\"]],\n\n    /* charge */\n    \"<coulomb>\" :  [[\"C\",\"coulomb\",\"Coulomb\"], 1.0, \"charge\", [\"<ampere>\",\"<second>\"]],\n    \"<Ah>\" :  [[\"Ah\"], 3600, \"charge\", [\"<ampere>\",\"<second>\"]],\n\n    /* current */\n    \"<ampere>\"  :  [[\"A\",\"Ampere\",\"ampere\",\"amp\",\"amps\"], 1.0, \"current\", [\"<ampere>\"]],\n\n    /* conductance */\n    \"<siemens>\" : [[\"S\",\"Siemens\",\"siemens\"], 1.0, \"conductance\", [\"<second>\",\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"], [\"<kilogram>\",\"<meter>\",\"<meter>\"]],\n\n    /* inductance */\n    \"<henry>\" :  [[\"H\",\"Henry\",\"henry\"], 1.0, \"inductance\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"]],\n\n    /* potential */\n    \"<volt>\"  :  [[\"V\",\"Volt\",\"volt\",\"volts\"], 1.0, \"potential\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<second>\",\"<ampere>\"]],\n\n    /* resistance */\n    \"<ohm>\" :  [\n      [\"Ohm\",\"ohm\",\"\\u03A9\"/* as greek letter*/,\"\\u2126\"/* as ohm sign*/],\n      1.0,\n      \"resistance\",\n      [\"<meter>\",\"<meter>\",\"<kilogram>\"],[\"<second>\",\"<second>\",\"<second>\",\"<ampere>\",\"<ampere>\"]\n    ],\n    /* magnetism */\n    \"<weber>\" : [[\"Wb\",\"weber\",\"webers\"], 1.0, \"magnetism\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<tesla>\"  : [[\"T\",\"tesla\",\"teslas\"], 1.0, \"magnetism\", [\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<gauss>\" : [[\"G\",\"gauss\"], 1e-4, \"magnetism\",  [\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<maxwell>\" : [[\"Mx\",\"maxwell\",\"maxwells\"], 1e-8, \"magnetism\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\",\"<ampere>\"]],\n    \"<oersted>\"  : [[\"Oe\",\"oersted\",\"oersteds\"], 250.0 / Math.PI, \"magnetism\", [\"<ampere>\"], [\"<meter>\"]],\n\n    /* energy */\n    \"<joule>\" :  [[\"J\",\"joule\",\"Joule\",\"joules\"], 1.0, \"energy\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<erg>\"   :  [[\"erg\",\"ergs\"], 1e-7, \"energy\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<btu>\"   :  [[\"BTU\",\"btu\",\"BTUs\"], 1055.056, \"energy\", [\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<calorie>\" :  [[\"cal\",\"calorie\",\"calories\"], 4.18400, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<Calorie>\" :  [[\"Cal\",\"Calorie\",\"Calories\"], 4184.00, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<therm-US>\" : [[\"th\",\"therm\",\"therms\",\"Therm\",\"therm-US\"], 105480400, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n    \"<Wh>\" : [[\"Wh\"], 3600, \"energy\",[\"<meter>\",\"<meter>\",\"<kilogram>\"], [\"<second>\",\"<second>\"]],\n\n    /* force */\n    \"<newton>\"  : [[\"N\",\"Newton\",\"newton\"], 1.0, \"force\", [\"<kilogram>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<dyne>\"  : [[\"dyn\",\"dyne\"], 1e-5, \"force\", [\"<kilogram>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<pound-force>\"  : [[\"lbf\",\"pound-force\"], 4.448222, \"force\", [\"<kilogram>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n\n    /* frequency */\n    \"<hertz>\" : [[\"Hz\",\"hertz\",\"Hertz\"], 1.0, \"frequency\", [\"<1>\"], [\"<second>\"]],\n\n    /* angle */\n    \"<radian>\" :[[\"rad\",\"radian\",\"radians\"], 1.0, \"angle\", [\"<radian>\"]],\n    \"<degree>\" :[[\"deg\",\"degree\",\"degrees\"], Math.PI / 180.0, \"angle\", [\"<radian>\"]],\n    \"<gradian>\"   :[[\"gon\",\"grad\",\"gradian\",\"grads\"], Math.PI / 200.0, \"angle\", [\"<radian>\"]],\n    \"<steradian>\"  : [[\"sr\",\"steradian\",\"steradians\"], 1.0, \"solid_angle\", [\"<steradian>\"]],\n\n    /* rotation */\n    \"<rotation>\" : [[\"rotation\"], 2.0 * Math.PI, \"angle\", [\"<radian>\"]],\n    \"<rpm>\"   :[[\"rpm\"], 2.0 * Math.PI / 60.0, \"angular_velocity\", [\"<radian>\"], [\"<second>\"]],\n\n    /* information */\n    \"<byte>\"  :[[\"B\",\"byte\",\"bytes\"], 1.0, \"information\", [\"<byte>\"]],\n    \"<bit>\"  :[[\"b\",\"bit\",\"bits\"], 0.125, \"information\", [\"<byte>\"]],\n\n    /* information rate */\n    \"<Bps>\" : [[\"Bps\"], 1.0, \"information_rate\", [\"<byte>\"], [\"<second>\"]],\n    \"<bps>\" : [[\"bps\"], 0.125, \"information_rate\", [\"<byte>\"], [\"<second>\"]],\n\n    /* currency */\n    \"<dollar>\":[[\"USD\",\"dollar\"], 1.0, \"currency\", [\"<dollar>\"]],\n    \"<cents>\" :[[\"cents\"], 0.01, \"currency\", [\"<dollar>\"]],\n\n    /* luminosity */\n    \"<candela>\" : [[\"cd\",\"candela\"], 1.0, \"luminosity\", [\"<candela>\"]],\n    \"<lumen>\" : [[\"lm\",\"lumen\"], 1.0, \"luminous_power\", [\"<candela>\",\"<steradian>\"]],\n    \"<lux>\" :[[\"lux\"], 1.0, \"illuminance\", [\"<candela>\",\"<steradian>\"], [\"<meter>\",\"<meter>\"]],\n\n    /* power */\n    \"<watt>\"  : [[\"W\",\"watt\",\"watts\"], 1.0, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n    \"<volt-ampere>\"  : [[\"VA\",\"volt-ampere\"], 1.0, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n    \"<volt-ampere-reactive>\"  : [[\"var\",\"Var\",\"VAr\",\"VAR\",\"volt-ampere-reactive\"], 1.0, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n    \"<horsepower>\"  :  [[\"hp\",\"horsepower\"], 745.699872, \"power\", [\"<kilogram>\",\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\",\"<second>\"]],\n\n    /* radiation */\n    \"<gray>\" : [[\"Gy\",\"gray\",\"grays\"], 1.0, \"radiation\", [\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<roentgen>\" : [[\"R\",\"roentgen\"], 0.009330, \"radiation\", [\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<sievert>\" : [[\"Sv\",\"sievert\",\"sieverts\"], 1.0, \"radiation\", [\"<meter>\",\"<meter>\"], [\"<second>\",\"<second>\"]],\n    \"<becquerel>\" : [[\"Bq\",\"becquerel\",\"becquerels\"], 1.0, \"radiation\", [\"<1>\"],[\"<second>\"]],\n    \"<curie>\" : [[\"Ci\",\"curie\",\"curies\"], 3.7e10, \"radiation\", [\"<1>\"],[\"<second>\"]],\n\n    /* rate */\n    \"<cpm>\" : [[\"cpm\"], 1.0 / 60.0, \"rate\", [\"<count>\"],[\"<second>\"]],\n    \"<dpm>\" : [[\"dpm\"], 1.0 / 60.0, \"rate\", [\"<count>\"],[\"<second>\"]],\n    \"<bpm>\" : [[\"bpm\"], 1.0 / 60.0, \"rate\", [\"<count>\"],[\"<second>\"]],\n\n    /* resolution / typography */\n    \"<dot>\" : [[\"dot\",\"dots\"], 1, \"resolution\", [\"<each>\"]],\n    \"<pixel>\" : [[\"pixel\",\"px\"], 1, \"resolution\", [\"<each>\"]],\n    \"<ppi>\" : [[\"ppi\"], 1, \"resolution\", [\"<pixel>\"], [\"<inch>\"]],\n    \"<dpi>\" : [[\"dpi\"], 1, \"typography\", [\"<dot>\"], [\"<inch>\"]],\n\n    /* other */\n    \"<cell>\" : [[\"cells\",\"cell\"], 1, \"counting\", [\"<each>\"]],\n    \"<each>\" : [[\"each\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<count>\" : [[\"count\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<base-pair>\"  : [[\"bp\",\"base-pair\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<nucleotide>\" : [[\"nt\",\"nucleotide\"], 1.0, \"counting\", [\"<each>\"]],\n    \"<molecule>\" : [[\"molecule\",\"molecules\"], 1.0, \"counting\", [\"<1>\"]],\n    \"<dozen>\" :  [[\"doz\",\"dz\",\"dozen\"],12.0,\"prefix_only\", [\"<each>\"]],\n    \"<percent>\": [[\"%\",\"percent\"], 0.01, \"prefix_only\", [\"<1>\"]],\n    \"<ppm>\" :  [[\"ppm\"],1e-6, \"prefix_only\", [\"<1>\"]],\n    \"<ppt>\" :  [[\"ppt\"],1e-9, \"prefix_only\", [\"<1>\"]],\n    \"<gross>\" :  [[\"gr\",\"gross\"],144.0, \"prefix_only\", [\"<dozen>\",\"<dozen>\"]],\n    \"<decibel>\"  : [[\"dB\",\"decibel\",\"decibels\"], 1.0, \"logarithmic\", [\"<decibel>\"]]\n  };\n\n  var BASE_UNITS = [\"<meter>\",\"<kilogram>\",\"<second>\",\"<mole>\", \"<ampere>\",\"<radian>\",\"<kelvin>\",\"<temp-K>\",\"<byte>\",\"<dollar>\",\"<candela>\",\"<each>\",\"<steradian>\",\"<decibel>\"];\n\n  var UNITY = \"<1>\";\n  var UNITY_ARRAY = [UNITY];\n\n  // Setup\n\n  /**\n   * Asserts unit definition is valid\n   *\n   * @param {string} unitDef - Name of unit to test\n   * @param {Object} definition - Definition of unit to test\n   *\n   * @returns {void}\n   * @throws {QtyError} if unit definition is not valid\n   */\n  function validateUnitDefinition(unitDef, definition) {\n    var scalar = definition[1];\n    var numerator = definition[3] || [];\n    var denominator = definition[4] || [];\n    if (!isNumber(scalar)) {\n      throw new QtyError(unitDef + \": Invalid unit definition. \" +\n                         \"'scalar' must be a number\");\n    }\n\n    numerator.forEach(function(unit) {\n      if (UNITS[unit] === undefined) {\n        throw new QtyError(unitDef + \": Invalid unit definition. \" +\n                           \"Unit \" + unit + \" in 'numerator' is not recognized\");\n      }\n    });\n\n    denominator.forEach(function(unit) {\n      if (UNITS[unit] === undefined) {\n        throw new QtyError(unitDef + \": Invalid unit definition. \" +\n                           \"Unit \" + unit + \" in 'denominator' is not recognized\");\n      }\n    });\n  }\n\n  var PREFIX_VALUES = {};\n  var PREFIX_MAP = {};\n  var UNIT_VALUES = {};\n  var UNIT_MAP = {};\n  var OUTPUT_MAP = {};\n  for (var unitDef in UNITS) {\n    if (UNITS.hasOwnProperty(unitDef)) {\n      var definition = UNITS[unitDef];\n      if (definition[2] === \"prefix\") {\n        PREFIX_VALUES[unitDef] = definition[1];\n        for (var i = 0; i < definition[0].length; i++) {\n          PREFIX_MAP[definition[0][i]] = unitDef;\n        }\n      }\n      else {\n        validateUnitDefinition(unitDef, definition);\n        UNIT_VALUES[unitDef] = {\n          scalar: definition[1],\n          numerator: definition[3],\n          denominator: definition[4]\n        };\n        for (var j = 0; j < definition[0].length; j++) {\n          UNIT_MAP[definition[0][j]] = unitDef;\n        }\n      }\n      OUTPUT_MAP[unitDef] = definition[0][0];\n    }\n  }\n\n  /**\n   * Returns a list of available units of kind\n   *\n   * @param {string} [kind] - kind of units\n   * @returns {array} names of units\n   * @throws {QtyError} if kind is unknown\n   */\n  function getUnits(kind) {\n    var i;\n    var units = [];\n    var unitKeys = Object.keys(UNITS);\n    if (typeof kind === \"undefined\") {\n      for (i = 0; i < unitKeys.length; i++) {\n        if ([\"\", \"prefix\"].indexOf(UNITS[unitKeys[i]][2]) === -1) {\n          units.push(unitKeys[i].substr(1, unitKeys[i].length - 2));\n        }\n      }\n    }\n    else if (this.getKinds().indexOf(kind) === -1) {\n      throw new QtyError(\"Kind not recognized\");\n    }\n    else {\n      for (i = 0; i < unitKeys.length; i++) {\n        if (UNITS[unitKeys[i]][2] === kind) {\n          units.push(unitKeys[i].substr(1, unitKeys[i].length - 2));\n        }\n      }\n    }\n\n    return units.sort(function(a, b) {\n      if (a.toLowerCase() < b.toLowerCase()) {\n        return -1;\n      }\n      if (a.toLowerCase() > b.toLowerCase()) {\n        return 1;\n      }\n      return 0;\n    });\n  }\n\n  /**\n   * Returns a list of alternative names for a unit\n   *\n   * @param {string} unitName - name of unit\n   * @returns {string[]} aliases for unit\n   * @throws {QtyError} if unit is unknown\n   */\n  function getAliases(unitName) {\n    if (!UNIT_MAP[unitName]) {\n      throw new QtyError(\"Unit not recognized\");\n    }\n    return UNITS[UNIT_MAP[unitName]][0];\n  }\n\n  var SIGNATURE_VECTOR = [\"length\", \"time\", \"temperature\", \"mass\", \"current\", \"substance\", \"luminosity\", \"currency\", \"information\", \"angle\"];\n\n  /*\n  calculates the unit signature id for use in comparing compatible units and simplification\n  the signature is based on a simple classification of units and is based on the following publication\n\n  Novak, G.S., Jr. \"Conversion of units of measurement\", IEEE Transactions on Software Engineering,\n  21(8), Aug 1995, pp.651-661\n  doi://10.1109/32.403789\n  http://ieeexplore.ieee.org/Xplore/login.jsp?url=/iel1/32/9079/00403789.pdf?isnumber=9079&prod=JNL&arnumber=403789&arSt=651&ared=661&arAuthor=Novak%2C+G.S.%2C+Jr.\n  */\n  function unitSignature() {\n    if (this.signature) {\n      return this.signature;\n    }\n    var vector = unitSignatureVector.call(this);\n    for (var i = 0; i < vector.length; i++) {\n      vector[i] *= Math.pow(20, i);\n    }\n\n    return vector.reduce(\n      function(previous, current) {\n        return previous + current;\n      },\n      0\n    );\n  }\n\n  // calculates the unit signature vector used by unit_signature\n  function unitSignatureVector() {\n    if (!this.isBase()) {\n      return unitSignatureVector.call(this.toBase());\n    }\n\n    var vector = new Array(SIGNATURE_VECTOR.length);\n    for (var i = 0; i < vector.length; i++) {\n      vector[i] = 0;\n    }\n    var r, n;\n    for (var j = 0; j < this.numerator.length; j++) {\n      if ((r = UNITS[this.numerator[j]])) {\n        n = SIGNATURE_VECTOR.indexOf(r[2]);\n        if (n >= 0) {\n          vector[n] = vector[n] + 1;\n        }\n      }\n    }\n\n    for (var k = 0; k < this.denominator.length; k++) {\n      if ((r = UNITS[this.denominator[k]])) {\n        n = SIGNATURE_VECTOR.indexOf(r[2]);\n        if (n >= 0) {\n          vector[n] = vector[n] - 1;\n        }\n      }\n    }\n    return vector;\n  }\n\n  var SIGN = \"[+-]\";\n  var INTEGER = \"\\\\d+\";\n  var SIGNED_INTEGER = SIGN + \"?\" + INTEGER;\n  var FRACTION = \"\\\\.\" + INTEGER;\n  var FLOAT = \"(?:\" + INTEGER + \"(?:\" + FRACTION + \")?\" + \")\" +\n              \"|\" +\n              \"(?:\" + FRACTION + \")\";\n  var EXPONENT = \"[Ee]\" + SIGNED_INTEGER;\n  var SCI_NUMBER = \"(?:\" + FLOAT + \")(?:\" + EXPONENT + \")?\";\n  var SIGNED_NUMBER = SIGN + \"?\\\\s*\" + SCI_NUMBER;\n  var QTY_STRING = \"(\" + SIGNED_NUMBER + \")?\" + \"\\\\s*([^/]*)(?:\\/(.+))?\";\n  var QTY_STRING_REGEX = new RegExp(\"^\" + QTY_STRING + \"$\");\n\n  var POWER_OP = \"\\\\^|\\\\*{2}\";\n  // Allow unit powers representing scalar, length, area, volume; 4 is for some\n  // special case representations in SI base units.\n  var SAFE_POWER = \"[01234]\";\n  var TOP_REGEX = new RegExp (\"([^ \\\\*\\\\d]+?)(?:\" + POWER_OP + \")?(-?\" + SAFE_POWER + \"(?![a-zA-Z]))\");\n  var BOTTOM_REGEX = new RegExp(\"([^ \\\\*\\\\d]+?)(?:\" + POWER_OP + \")?(\" + SAFE_POWER + \"(?![a-zA-Z]))\");\n\n  /* parse a string into a unit object.\n   * Typical formats like :\n   * \"5.6 kg*m/s^2\"\n   * \"5.6 kg*m*s^-2\"\n   * \"5.6 kilogram*meter*second^-2\"\n   * \"2.2 kPa\"\n   * \"37 degC\"\n   * \"1\"  -- creates a unitless constant with value 1\n   * \"GPa\"  -- creates a unit with scalar 1 with units 'GPa'\n   * 6'4\"  -- recognized as 6 feet + 4 inches\n   * 8 lbs 8 oz -- recognized as 8 lbs + 8 ounces\n   */\n  function parse(val) {\n    if (!isString(val)) {\n      val = val.toString();\n    }\n    val = val.trim();\n\n    var result = QTY_STRING_REGEX.exec(val);\n    if (!result) {\n      throw new QtyError(val + \": Quantity not recognized\");\n    }\n\n    var scalarMatch = result[1];\n    if (scalarMatch) {\n      // Allow whitespaces between sign and scalar for loose parsing\n      scalarMatch = scalarMatch.replace(/\\s/g, \"\");\n      this.scalar = parseFloat(scalarMatch);\n    }\n    else {\n      this.scalar = 1;\n    }\n    var top = result[2];\n    var bottom = result[3];\n\n    var n, x, nx;\n    // TODO DRY me\n    while ((result = TOP_REGEX.exec(top))) {\n      n = parseFloat(result[2]);\n      if (isNaN(n)) {\n        // Prevents infinite loops\n        throw new QtyError(\"Unit exponent is not a number\");\n      }\n      // Disallow unrecognized unit even if exponent is 0\n      if (n === 0 && !UNIT_TEST_REGEX.test(result[1])) {\n        throw new QtyError(\"Unit not recognized\");\n      }\n      x = result[1] + \" \";\n      nx = \"\";\n      for (var i = 0; i < Math.abs(n) ; i++) {\n        nx += x;\n      }\n      if (n >= 0) {\n        top = top.replace(result[0], nx);\n      }\n      else {\n        bottom = bottom ? bottom + nx : nx;\n        top = top.replace(result[0], \"\");\n      }\n    }\n\n    while ((result = BOTTOM_REGEX.exec(bottom))) {\n      n = parseFloat(result[2]);\n      if (isNaN(n)) {\n        // Prevents infinite loops\n        throw new QtyError(\"Unit exponent is not a number\");\n      }\n      // Disallow unrecognized unit even if exponent is 0\n      if (n === 0 && !UNIT_TEST_REGEX.test(result[1])) {\n        throw new QtyError(\"Unit not recognized\");\n      }\n      x = result[1] + \" \";\n      nx = \"\";\n      for (var j = 0; j < n ; j++) {\n        nx += x;\n      }\n\n      bottom = bottom.replace(result[0], nx);\n    }\n\n    if (top) {\n      this.numerator = parseUnits(top.trim());\n    }\n    if (bottom) {\n      this.denominator = parseUnits(bottom.trim());\n    }\n  }\n\n  var PREFIX_REGEX = Object.keys(PREFIX_MAP).sort(function(a, b) {\n    return b.length - a.length;\n  }).join(\"|\");\n  var UNIT_REGEX = Object.keys(UNIT_MAP).sort(function(a, b) {\n    return b.length - a.length;\n  }).join(\"|\");\n  /*\n   * Minimal boundary regex to support units with Unicode characters\n   * \\b only works for ASCII\n   */\n  var BOUNDARY_REGEX = \"\\\\b|$\";\n  var UNIT_MATCH = \"(\" + PREFIX_REGEX + \")??(\" +\n                   UNIT_REGEX +\n                   \")(?:\" + BOUNDARY_REGEX + \")\";\n  var UNIT_TEST_REGEX = new RegExp(\"^\\\\s*(\" + UNIT_MATCH + \"[\\\\s\\\\*]*)+$\");\n  var UNIT_MATCH_REGEX = new RegExp(UNIT_MATCH, \"g\"); // g flag for multiple occurences\n  var parsedUnitsCache = {};\n  /**\n   * Parses and converts units string to normalized unit array.\n   * Result is cached to speed up next calls.\n   *\n   * @param {string} units Units string\n   * @returns {string[]} Array of normalized units\n   *\n   * @example\n   * // Returns [\"<second>\", \"<meter>\", \"<second>\"]\n   * parseUnits(\"s m s\");\n   *\n   */\n  function parseUnits(units) {\n    var cached = parsedUnitsCache[units];\n    if (cached) {\n      return cached;\n    }\n\n    var unitMatch, normalizedUnits = [];\n\n    // Scan\n    if (!UNIT_TEST_REGEX.test(units)) {\n      throw new QtyError(\"Unit not recognized\");\n    }\n\n    while ((unitMatch = UNIT_MATCH_REGEX.exec(units))) {\n      normalizedUnits.push(unitMatch.slice(1));\n    }\n\n    normalizedUnits = normalizedUnits.map(function(item) {\n      return PREFIX_MAP[item[0]] ? [PREFIX_MAP[item[0]], UNIT_MAP[item[1]]] : [UNIT_MAP[item[1]]];\n    });\n\n    // Flatten and remove null elements\n    normalizedUnits = normalizedUnits.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n    normalizedUnits = normalizedUnits.filter(function(item) {\n      return item;\n    });\n\n    parsedUnitsCache[units] = normalizedUnits;\n\n    return normalizedUnits;\n  }\n\n  /**\n   * Parses a string as a quantity\n   * @param {string} value - quantity as text\n   * @throws if value is not a string\n   * @returns {Qty|null} Parsed quantity or null if unrecognized\n   */\n  function globalParse(value) {\n    if (!isString(value)) {\n      throw new QtyError(\"Argument should be a string\");\n    }\n\n    try {\n      return this(value);\n    }\n    catch (e) {\n      return null;\n    }\n  }\n\n  /**\n   * Tests if a value is a Qty instance\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a Qty instance, false otherwise\n   */\n  function isQty(value) {\n    return value instanceof Qty;\n  }\n\n  function Qty(initValue, initUnits) {\n    assertValidConstructorArgs.apply(null, arguments);\n\n    if (!(isQty(this))) {\n      return new Qty(initValue, initUnits);\n    }\n\n    this.scalar = null;\n    this.baseScalar = null;\n    this.signature = null;\n    this._conversionCache = {};\n    this.numerator = UNITY_ARRAY;\n    this.denominator = UNITY_ARRAY;\n\n    if (isDefinitionObject(initValue)) {\n      this.scalar = initValue.scalar;\n      this.numerator = (initValue.numerator && initValue.numerator.length !== 0) ? initValue.numerator : UNITY_ARRAY;\n      this.denominator = (initValue.denominator && initValue.denominator.length !== 0) ? initValue.denominator : UNITY_ARRAY;\n    }\n    else if (initUnits) {\n      parse.call(this, initUnits);\n      this.scalar = initValue;\n    }\n    else {\n      parse.call(this, initValue);\n    }\n\n    // math with temperatures is very limited\n    if (this.denominator.join(\"*\").indexOf(\"temp\") >= 0) {\n      throw new QtyError(\"Cannot divide with temperatures\");\n    }\n    if (this.numerator.join(\"*\").indexOf(\"temp\") >= 0) {\n      if (this.numerator.length > 1) {\n        throw new QtyError(\"Cannot multiply by temperatures\");\n      }\n      if (!compareArray(this.denominator, UNITY_ARRAY)) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n    }\n\n    this.initValue = initValue;\n    updateBaseScalar.call(this);\n\n    if (this.isTemperature() && this.baseScalar < 0) {\n      throw new QtyError(\"Temperatures must not be less than absolute zero\");\n    }\n  }\n\n  Qty.prototype = {\n    // Properly set up constructor\n    constructor: Qty,\n  };\n\n  /**\n   * Asserts constructor arguments are valid\n   *\n   * @param {*} value - Value to test\n   * @param {string} [units] - Optional units when value is passed as a number\n   *\n   * @returns {void}\n   * @throws {QtyError} if constructor arguments are invalid\n   */\n  function assertValidConstructorArgs(value, units) {\n    if (units) {\n      if (!(isNumber(value) && isString(units))) {\n        throw new QtyError(\"Only number accepted as initialization value \" +\n                           \"when units are explicitly provided\");\n      }\n    }\n    else {\n      if (!(isString(value) ||\n            isNumber(value) ||\n            isQty(value)    ||\n            isDefinitionObject(value))) {\n        throw new QtyError(\"Only string, number or quantity accepted as \" +\n                           \"single initialization value\");\n      }\n    }\n  }\n\n  /**\n   * Tests if a value is a Qty definition object\n   *\n   * @param {*} value - Value to test\n   *\n   * @returns {boolean} true if value is a definition object, false otherwise\n   */\n  function isDefinitionObject(value) {\n    return value && typeof value === \"object\" && value.hasOwnProperty(\"scalar\");\n  }\n\n  function updateBaseScalar() {\n    if (this.baseScalar) {\n      return this.baseScalar;\n    }\n    if (this.isBase()) {\n      this.baseScalar = this.scalar;\n      this.signature = unitSignature.call(this);\n    }\n    else {\n      var base = this.toBase();\n      this.baseScalar = base.scalar;\n      this.signature = base.signature;\n    }\n  }\n\n  var KINDS = {\n    \"-312078\": \"elastance\",\n    \"-312058\": \"resistance\",\n    \"-312038\": \"inductance\",\n    \"-152058\": \"potential\",\n    \"-152040\": \"magnetism\",\n    \"-152038\": \"magnetism\",\n    \"-7997\": \"specific_volume\",\n    \"-79\": \"snap\",\n    \"-59\": \"jolt\",\n    \"-39\": \"acceleration\",\n    \"-38\": \"radiation\",\n    \"-20\": \"frequency\",\n    \"-19\": \"speed\",\n    \"-18\": \"viscosity\",\n    \"-17\": \"volumetric_flow\",\n    \"-1\": \"wavenumber\",\n    \"0\": \"unitless\",\n    \"1\": \"length\",\n    \"2\": \"area\",\n    \"3\": \"volume\",\n    \"20\": \"time\",\n    \"400\": \"temperature\",\n    \"7941\": \"yank\",\n    \"7942\": \"power\",\n    \"7959\": \"pressure\",\n    \"7961\": \"force\",\n    \"7962\": \"energy\",\n    \"7979\": \"viscosity\",\n    \"7981\": \"momentum\",\n    \"7982\": \"angular_momentum\",\n    \"7997\": \"density\",\n    \"7998\": \"area_density\",\n    \"8000\": \"mass\",\n    \"152020\": \"radiation_exposure\",\n    \"159999\": \"magnetism\",\n    \"160000\": \"current\",\n    \"160020\": \"charge\",\n    \"312058\": \"conductance\",\n    \"312078\": \"capacitance\",\n    \"3199980\": \"activity\",\n    \"3199997\": \"molar_concentration\",\n    \"3200000\": \"substance\",\n    \"63999998\": \"illuminance\",\n    \"64000000\": \"luminous_power\",\n    \"1280000000\": \"currency\",\n    \"25599999980\": \"information_rate\",\n    \"25600000000\": \"information\",\n    \"511999999980\": \"angular_velocity\",\n    \"512000000000\": \"angle\"\n  };\n\n  /**\n   * Returns the list of available well-known kinds of units, e.g.\n   * \"radiation\" or \"length\".\n   *\n   * @returns {string[]} names of kinds of units\n   */\n  function getKinds() {\n    return uniq(Object.keys(KINDS).map(function(knownSignature) {\n      return KINDS[knownSignature];\n    }));\n  }\n\n  Qty.prototype.kind = function() {\n    return KINDS[this.signature.toString()];\n  };\n\n  assign(Qty.prototype, {\n    isDegrees: function() {\n      // signature may not have been calculated yet\n      return (this.signature === null || this.signature === 400) &&\n        this.numerator.length === 1 &&\n        compareArray(this.denominator, UNITY_ARRAY) &&\n        (this.numerator[0].match(/<temp-[CFRK]>/) || this.numerator[0].match(/<(kelvin|celsius|rankine|fahrenheit)>/));\n    },\n\n    isTemperature: function() {\n      return this.isDegrees() && this.numerator[0].match(/<temp-[CFRK]>/);\n    }\n  });\n\n  function subtractTemperatures(lhs,rhs) {\n    var lhsUnits = lhs.units();\n    var rhsConverted = rhs.to(lhsUnits);\n    var dstDegrees = Qty(getDegreeUnits(lhsUnits));\n    return Qty({\"scalar\": lhs.scalar - rhsConverted.scalar, \"numerator\": dstDegrees.numerator, \"denominator\": dstDegrees.denominator});\n  }\n\n  function subtractTempDegrees(temp,deg) {\n    var tempDegrees = deg.to(getDegreeUnits(temp.units()));\n    return Qty({\"scalar\": temp.scalar - tempDegrees.scalar, \"numerator\": temp.numerator, \"denominator\": temp.denominator});\n  }\n\n  function addTempDegrees(temp,deg) {\n    var tempDegrees = deg.to(getDegreeUnits(temp.units()));\n    return Qty({\"scalar\": temp.scalar + tempDegrees.scalar, \"numerator\": temp.numerator, \"denominator\": temp.denominator});\n  }\n\n  function getDegreeUnits(units) {\n    if (units === \"tempK\") {\n      return \"degK\";\n    }\n    else if (units === \"tempC\") {\n      return \"degC\";\n    }\n    else if (units === \"tempF\") {\n      return \"degF\";\n    }\n    else if (units === \"tempR\") {\n      return \"degR\";\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion from: \" + units);\n    }\n  }\n\n  function toDegrees(src,dst) {\n    var srcDegK = toDegK(src);\n    var dstUnits = dst.units();\n    var dstScalar;\n\n    if (dstUnits === \"degK\") {\n      dstScalar = srcDegK.scalar;\n    }\n    else if (dstUnits === \"degC\") {\n      dstScalar = srcDegK.scalar ;\n    }\n    else if (dstUnits === \"degF\") {\n      dstScalar = srcDegK.scalar * 9 / 5;\n    }\n    else if (dstUnits === \"degR\") {\n      dstScalar = srcDegK.scalar * 9 / 5;\n    }\n    else {\n      throw new QtyError(\"Unknown type for degree conversion to: \" + dstUnits);\n    }\n\n    return Qty({\"scalar\": dstScalar, \"numerator\": dst.numerator, \"denominator\": dst.denominator});\n  }\n\n  function toDegK(qty) {\n    var units = qty.units();\n    var q;\n    if (units.match(/(deg)[CFRK]/)) {\n      q = qty.baseScalar;\n    }\n    else if (units === \"tempK\") {\n      q = qty.scalar;\n    }\n    else if (units === \"tempC\") {\n      q = qty.scalar;\n    }\n    else if (units === \"tempF\") {\n      q = qty.scalar * 5 / 9;\n    }\n    else if (units === \"tempR\") {\n      q = qty.scalar * 5 / 9;\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion from: \" + units);\n    }\n\n    return Qty({\"scalar\": q, \"numerator\": [\"<kelvin>\"], \"denominator\": UNITY_ARRAY});\n  }\n\n  function toTemp(src,dst) {\n    var dstUnits = dst.units();\n    var dstScalar;\n\n    if (dstUnits === \"tempK\") {\n      dstScalar = src.baseScalar;\n    }\n    else if (dstUnits === \"tempC\") {\n      dstScalar = src.baseScalar - 273.15;\n    }\n    else if (dstUnits === \"tempF\") {\n      dstScalar = (src.baseScalar * 9 / 5) - 459.67;\n    }\n    else if (dstUnits === \"tempR\") {\n      dstScalar = src.baseScalar * 9 / 5;\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion to: \" + dstUnits);\n    }\n\n    return Qty({\"scalar\": dstScalar, \"numerator\": dst.numerator, \"denominator\": dst.denominator});\n  }\n\n  function toTempK(qty) {\n    var units = qty.units();\n    var q;\n    if (units.match(/(deg)[CFRK]/)) {\n      q = qty.baseScalar;\n    }\n    else if (units === \"tempK\") {\n      q = qty.scalar;\n    }\n    else if (units === \"tempC\") {\n      q = qty.scalar + 273.15;\n    }\n    else if (units === \"tempF\") {\n      q = (qty.scalar + 459.67) * 5 / 9;\n    }\n    else if (units === \"tempR\") {\n      q = qty.scalar * 5 / 9;\n    }\n    else {\n      throw new QtyError(\"Unknown type for temp conversion from: \" + units);\n    }\n\n    return Qty({\"scalar\": q, \"numerator\": [\"<temp-K>\"], \"denominator\": UNITY_ARRAY});\n  }\n\n  assign(Qty.prototype, {\n    /**\n     * Converts to other compatible units.\n     * Instance's converted quantities are cached for faster subsequent calls.\n     *\n     * @param {(string|Qty)} other - Target units as string or retrieved from\n     *                               other Qty instance (scalar is ignored)\n     *\n     * @returns {Qty} New converted Qty instance with target units\n     *\n     * @throws {QtyError} if target units are incompatible\n     *\n     * @example\n     * var weight = Qty(\"25 kg\");\n     * weight.to(\"lb\"); // => Qty(\"55.11556554621939 lbs\");\n     * weight.to(Qty(\"3 g\")); // => Qty(\"25000 g\"); // scalar of passed Qty is ignored\n     */\n    to: function(other) {\n      var cached, target;\n\n      if (other === undefined || other === null) {\n        return this;\n      }\n\n      if (!isString(other)) {\n        return this.to(other.units());\n      }\n\n      cached = this._conversionCache[other];\n      if (cached) {\n        return cached;\n      }\n\n      // Instantiating target to normalize units\n      target = Qty(other);\n      if (target.units() === this.units()) {\n        return this;\n      }\n\n      if (!this.isCompatible(target)) {\n        if (this.isInverse(target)) {\n          target = this.inverse().to(other);\n        }\n        else {\n          throwIncompatibleUnits(this.units(), target.units());\n        }\n      }\n      else {\n        if (target.isTemperature()) {\n          target = toTemp(this,target);\n        }\n        else if (target.isDegrees()) {\n          target = toDegrees(this,target);\n        }\n        else {\n          var q = divSafe(this.baseScalar, target.baseScalar);\n          target = Qty({\"scalar\": q, \"numerator\": target.numerator, \"denominator\": target.denominator});\n        }\n      }\n\n      this._conversionCache[other] = target;\n      return target;\n    },\n\n    // convert to base SI units\n    // results of the conversion are cached so subsequent calls to this will be fast\n    toBase: function() {\n      if (this.isBase()) {\n        return this;\n      }\n\n      if (this.isTemperature()) {\n        return toTempK(this);\n      }\n\n      var cached = baseUnitCache[this.units()];\n      if (!cached) {\n        cached = toBaseUnits(this.numerator,this.denominator);\n        baseUnitCache[this.units()] = cached;\n      }\n      return cached.mul(this.scalar);\n    },\n\n    // Converts the unit back to a float if it is unitless.  Otherwise raises an exception\n    toFloat: function() {\n      if (this.isUnitless()) {\n        return this.scalar;\n      }\n      throw new QtyError(\"Can't convert to Float unless unitless.  Use Unit#scalar\");\n    },\n\n    /**\n     * Returns the nearest multiple of quantity passed as\n     * precision\n     *\n     * @param {(Qty|string|number)} precQuantity - Quantity, string formated\n     *   quantity or number as expected precision\n     *\n     * @returns {Qty} Nearest multiple of precQuantity\n     *\n     * @example\n     * Qty('5.5 ft').toPrec('2 ft'); // returns 6 ft\n     * Qty('0.8 cu').toPrec('0.25 cu'); // returns 0.75 cu\n     * Qty('6.3782 m').toPrec('cm'); // returns 6.38 m\n     * Qty('1.146 MPa').toPrec('0.1 bar'); // returns 1.15 MPa\n     *\n     */\n    toPrec: function(precQuantity) {\n      if (isString(precQuantity)) {\n        precQuantity = Qty(precQuantity);\n      }\n      if (isNumber(precQuantity)) {\n        precQuantity = Qty(precQuantity + \" \" + this.units());\n      }\n\n      if (!this.isUnitless()) {\n        precQuantity = precQuantity.to(this.units());\n      }\n      else if (!precQuantity.isUnitless()) {\n        throwIncompatibleUnits(this.units(), precQuantity.units());\n      }\n\n      if (precQuantity.scalar === 0) {\n        throw new QtyError(\"Divide by zero\");\n      }\n\n      var precRoundedResult = mulSafe(\n        Math.round(this.scalar / precQuantity.scalar),\n        precQuantity.scalar\n      );\n\n      return Qty(precRoundedResult + this.units());\n    }\n  });\n\n  /**\n   * Configures and returns a fast function to convert\n   * Number values from units to others.\n   * Useful to efficiently convert large array of values\n   * with same units into others with iterative methods.\n   * Does not take care of rounding issues.\n   *\n   * @param {string} srcUnits Units of values to convert\n   * @param {string} dstUnits Units to convert to\n   *\n   * @returns {Function} Converting function accepting Number value\n   *   and returning converted value\n   *\n   * @throws \"Incompatible units\" if units are incompatible\n   *\n   * @example\n   * // Converting large array of numbers with the same units\n   * // into other units\n   * var converter = Qty.swiftConverter(\"m/h\", \"ft/s\");\n   * var convertedSerie = largeSerie.map(converter);\n   *\n   */\n  function swiftConverter(srcUnits, dstUnits) {\n    var srcQty = Qty(srcUnits);\n    var dstQty = Qty(dstUnits);\n\n    if (srcQty.eq(dstQty)) {\n      return identity;\n    }\n\n    var convert;\n    if (!srcQty.isTemperature()) {\n      convert = function(value) {\n        return value * srcQty.baseScalar / dstQty.baseScalar;\n      };\n    }\n    else {\n      convert = function(value) {\n        // TODO Not optimized\n        return srcQty.mul(value).to(dstQty).scalar;\n      };\n    }\n\n    return function converter(value) {\n      var i, length, result;\n      if (!Array.isArray(value)) {\n        return convert(value);\n      }\n      else {\n        length = value.length;\n        result = [];\n        for (i = 0; i < length; i++) {\n          result.push(convert(value[i]));\n        }\n        return result;\n      }\n    };\n  }\n\n  var baseUnitCache = {};\n\n  function toBaseUnits(numerator,denominator) {\n    var num = [];\n    var den = [];\n    var q = 1;\n    var unit;\n    for (var i = 0; i < numerator.length; i++) {\n      unit = numerator[i];\n      if (PREFIX_VALUES[unit]) {\n        // workaround to fix\n        // 0.1 * 0.1 => 0.010000000000000002\n        q = mulSafe(q, PREFIX_VALUES[unit]);\n      }\n      else {\n        if (UNIT_VALUES[unit]) {\n          q *= UNIT_VALUES[unit].scalar;\n\n          if (UNIT_VALUES[unit].numerator) {\n            num.push(UNIT_VALUES[unit].numerator);\n          }\n          if (UNIT_VALUES[unit].denominator) {\n            den.push(UNIT_VALUES[unit].denominator);\n          }\n        }\n      }\n    }\n    for (var j = 0; j < denominator.length; j++) {\n      unit = denominator[j];\n      if (PREFIX_VALUES[unit]) {\n        q /= PREFIX_VALUES[unit];\n      }\n      else {\n        if (UNIT_VALUES[unit]) {\n          q /= UNIT_VALUES[unit].scalar;\n\n          if (UNIT_VALUES[unit].numerator) {\n            den.push(UNIT_VALUES[unit].numerator);\n          }\n          if (UNIT_VALUES[unit].denominator) {\n            num.push(UNIT_VALUES[unit].denominator);\n          }\n        }\n      }\n    }\n\n    // Flatten\n    num = num.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n    den = den.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n\n    return Qty({\"scalar\": q, \"numerator\": num, \"denominator\": den});\n  }\n\n  Qty.parse = globalParse;\n\n  Qty.getUnits = getUnits;\n  Qty.getAliases = getAliases;\n\n  Qty.mulSafe = mulSafe;\n  Qty.divSafe = divSafe;\n\n  Qty.getKinds = getKinds;\n\n  Qty.swiftConverter = swiftConverter;\n\n  Qty.Error = QtyError;\n\n  assign(Qty.prototype, {\n    // Returns new instance with units of this\n    add: function(other) {\n      if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if (!this.isCompatible(other)) {\n        throwIncompatibleUnits(this.units(), other.units());\n      }\n\n      if (this.isTemperature() && other.isTemperature()) {\n        throw new QtyError(\"Cannot add two temperatures\");\n      }\n      else if (this.isTemperature()) {\n        return addTempDegrees(this, other);\n      }\n      else if (other.isTemperature()) {\n        return addTempDegrees(other, this);\n      }\n\n      return Qty({\"scalar\": this.scalar + other.to(this).scalar, \"numerator\": this.numerator, \"denominator\": this.denominator});\n    },\n\n    sub: function(other) {\n      if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if (!this.isCompatible(other)) {\n        throwIncompatibleUnits(this.units(), other.units());\n      }\n\n      if (this.isTemperature() && other.isTemperature()) {\n        return subtractTemperatures(this,other);\n      }\n      else if (this.isTemperature()) {\n        return subtractTempDegrees(this,other);\n      }\n      else if (other.isTemperature()) {\n        throw new QtyError(\"Cannot subtract a temperature from a differential degree unit\");\n      }\n\n      return Qty({\"scalar\": this.scalar - other.to(this).scalar, \"numerator\": this.numerator, \"denominator\": this.denominator});\n    },\n\n    mul: function(other) {\n      if (isNumber(other)) {\n        return Qty({\"scalar\": mulSafe(this.scalar, other), \"numerator\": this.numerator, \"denominator\": this.denominator});\n      }\n      else if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if ((this.isTemperature() || other.isTemperature()) && !(this.isUnitless() || other.isUnitless())) {\n        throw new QtyError(\"Cannot multiply by temperatures\");\n      }\n\n      // Quantities should be multiplied with same units if compatible, with base units else\n      var op1 = this;\n      var op2 = other;\n\n      // so as not to confuse results, multiplication and division between temperature degrees will maintain original unit info in num/den\n      // multiplication and division between deg[CFRK] can never factor each other out, only themselves: \"degK*degC/degC^2\" == \"degK/degC\"\n      if (op1.isCompatible(op2) && op1.signature !== 400) {\n        op2 = op2.to(op1);\n      }\n      var numdenscale = cleanTerms(op1.numerator, op1.denominator, op2.numerator, op2.denominator);\n\n      return Qty({\"scalar\": mulSafe(op1.scalar, op2.scalar, numdenscale[2]), \"numerator\": numdenscale[0], \"denominator\": numdenscale[1]});\n    },\n\n    div: function(other) {\n      if (isNumber(other)) {\n        if (other === 0) {\n          throw new QtyError(\"Divide by zero\");\n        }\n        return Qty({\"scalar\": this.scalar / other, \"numerator\": this.numerator, \"denominator\": this.denominator});\n      }\n      else if (isString(other)) {\n        other = Qty(other);\n      }\n\n      if (other.scalar === 0) {\n        throw new QtyError(\"Divide by zero\");\n      }\n\n      if (other.isTemperature()) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n      else if (this.isTemperature() && !other.isUnitless()) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n\n      // Quantities should be multiplied with same units if compatible, with base units else\n      var op1 = this;\n      var op2 = other;\n\n      // so as not to confuse results, multiplication and division between temperature degrees will maintain original unit info in num/den\n      // multiplication and division between deg[CFRK] can never factor each other out, only themselves: \"degK*degC/degC^2\" == \"degK/degC\"\n      if (op1.isCompatible(op2) && op1.signature !== 400) {\n        op2 = op2.to(op1);\n      }\n      var numdenscale = cleanTerms(op1.numerator, op1.denominator, op2.denominator, op2.numerator);\n\n      return Qty({\"scalar\": mulSafe(op1.scalar, numdenscale[2]) / op2.scalar, \"numerator\": numdenscale[0], \"denominator\": numdenscale[1]});\n    },\n\n    // Returns a Qty that is the inverse of this Qty,\n    inverse: function() {\n      if (this.isTemperature()) {\n        throw new QtyError(\"Cannot divide with temperatures\");\n      }\n      if (this.scalar === 0) {\n        throw new QtyError(\"Divide by zero\");\n      }\n      return Qty({\"scalar\": 1 / this.scalar, \"numerator\": this.denominator, \"denominator\": this.numerator});\n    }\n  });\n\n  function cleanTerms(num1, den1, num2, den2) {\n    function notUnity(val) {\n      return val !== UNITY;\n    }\n\n    num1 = num1.filter(notUnity);\n    num2 = num2.filter(notUnity);\n    den1 = den1.filter(notUnity);\n    den2 = den2.filter(notUnity);\n\n    var combined = {};\n\n    function combineTerms(terms, direction) {\n      var k;\n      var prefix;\n      var prefixValue;\n      for (var i = 0; i < terms.length; i++) {\n        if (PREFIX_VALUES[terms[i]]) {\n          k = terms[i + 1];\n          prefix = terms[i];\n          prefixValue = PREFIX_VALUES[prefix];\n          i++;\n        }\n        else {\n          k = terms[i];\n          prefix = null;\n          prefixValue = 1;\n        }\n        if (k && k !== UNITY) {\n          if (combined[k]) {\n            combined[k][0] += direction;\n            var combinedPrefixValue = combined[k][2] ? PREFIX_VALUES[combined[k][2]] : 1;\n            combined[k][direction === 1 ? 3 : 4] *= divSafe(prefixValue, combinedPrefixValue);\n          }\n          else {\n            combined[k] = [direction, k, prefix, 1, 1];\n          }\n        }\n      }\n    }\n\n    combineTerms(num1, 1);\n    combineTerms(den1, -1);\n    combineTerms(num2, 1);\n    combineTerms(den2, -1);\n\n    var num = [];\n    var den = [];\n    var scale = 1;\n\n    for (var prop in combined) {\n      if (combined.hasOwnProperty(prop)) {\n        var item = combined[prop];\n        var n;\n        if (item[0] > 0) {\n          for (n = 0; n < item[0]; n++) {\n            num.push(item[2] === null ? item[1] : [item[2], item[1]]);\n          }\n        }\n        else if (item[0] < 0) {\n          for (n = 0; n < -item[0]; n++) {\n            den.push(item[2] === null ? item[1] : [item[2], item[1]]);\n          }\n        }\n        scale *= divSafe(item[3], item[4]);\n      }\n    }\n\n    if (num.length === 0) {\n      num = UNITY_ARRAY;\n    }\n    if (den.length === 0) {\n      den = UNITY_ARRAY;\n    }\n\n    // Flatten\n    num = num.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n    den = den.reduce(function(a,b) {\n      return a.concat(b);\n    }, []);\n\n    return [num, den, scale];\n  }\n\n  assign(Qty.prototype, {\n    eq: function(other) {\n      return this.compareTo(other) === 0;\n    },\n\n    lt: function(other) {\n      return this.compareTo(other) === -1;\n    },\n\n    lte: function(other) {\n      return this.eq(other) || this.lt(other);\n    },\n\n    gt: function(other) {\n      return this.compareTo(other) === 1;\n    },\n\n    gte: function(other) {\n      return this.eq(other) || this.gt(other);\n    },\n\n    // Compare two Qty objects. Throws an exception if they are not of compatible types.\n    // Comparisons are done based on the value of the quantity in base SI units.\n    //\n    // NOTE: We cannot compare inverses as that breaks the general compareTo contract:\n    //   if a.compareTo(b) < 0 then b.compareTo(a) > 0\n    //   if a.compareTo(b) == 0 then b.compareTo(a) == 0\n    //\n    //   Since \"10S\" == \".1ohm\" (10 > .1) and \"10ohm\" == \".1S\" (10 > .1)\n    //     Qty(\"10S\").inverse().compareTo(\"10ohm\") == -1\n    //     Qty(\"10ohm\").inverse().compareTo(\"10S\") == -1\n    //\n    //   If including inverses in the sort is needed, I suggest writing: Qty.sort(qtyArray,units)\n    compareTo: function(other) {\n      if (isString(other)) {\n        return this.compareTo(Qty(other));\n      }\n      if (!this.isCompatible(other)) {\n        throwIncompatibleUnits(this.units(), other.units());\n      }\n      if (this.baseScalar < other.baseScalar) {\n        return -1;\n      }\n      else if (this.baseScalar === other.baseScalar) {\n        return 0;\n      }\n      else if (this.baseScalar > other.baseScalar) {\n        return 1;\n      }\n    },\n\n    // Return true if quantities and units match\n    // Unit(\"100 cm\").same(Unit(\"100 cm\"))  # => true\n    // Unit(\"100 cm\").same(Unit(\"1 m\"))     # => false\n    same: function(other) {\n      return (this.scalar === other.scalar) && (this.units() === other.units());\n    }\n  });\n\n  assign(Qty.prototype, {\n    // returns true if no associated units\n    // false, even if the units are \"unitless\" like 'radians, each, etc'\n    isUnitless: function() {\n      return [this.numerator, this.denominator].every(function(item) {\n        return compareArray(item, UNITY_ARRAY);\n      });\n    },\n\n    /*\n    check to see if units are compatible, but not the scalar part\n    this check is done by comparing signatures for performance reasons\n    if passed a string, it will create a unit object with the string and then do the comparison\n    this permits a syntax like:\n    unit =~ \"mm\"\n    if you want to do a regexp on the unit string do this ...\n    unit.units =~ /regexp/\n    */\n    isCompatible: function(other) {\n      if (isString(other)) {\n        return this.isCompatible(Qty(other));\n      }\n\n      if (!(isQty(other))) {\n        return false;\n      }\n\n      if (other.signature !== undefined) {\n        return this.signature === other.signature;\n      }\n      else {\n        return false;\n      }\n    },\n\n    /*\n    check to see if units are inverse of each other, but not the scalar part\n    this check is done by comparing signatures for performance reasons\n    if passed a string, it will create a unit object with the string and then do the comparison\n    this permits a syntax like:\n    unit =~ \"mm\"\n    if you want to do a regexp on the unit string do this ...\n    unit.units =~ /regexp/\n    */\n    isInverse: function(other) {\n      return this.inverse().isCompatible(other);\n    },\n\n    // Returns 'true' if the Unit is represented in base units\n    isBase: function() {\n      if (this._isBase !== undefined) {\n        return this._isBase;\n      }\n      if (this.isDegrees() && this.numerator[0].match(/<(kelvin|temp-K)>/)) {\n        this._isBase = true;\n        return this._isBase;\n      }\n\n      this.numerator.concat(this.denominator).forEach(function(item) {\n        if (item !== UNITY && BASE_UNITS.indexOf(item) === -1 ) {\n          this._isBase = false;\n        }\n      }, this);\n      if (this._isBase === false) {\n        return this._isBase;\n      }\n      this._isBase = true;\n      return this._isBase;\n    }\n  });\n\n  function NestedMap() {}\n\n  NestedMap.prototype.get = function(keys) {\n\n    // Allows to pass key1, key2, ... instead of [key1, key2, ...]\n    if (arguments.length > 1) {\n      // Slower with Firefox but faster with Chrome than\n      // Array.prototype.slice.call(arguments)\n      // See http://jsperf.com/array-apply-versus-array-prototype-slice-call\n      keys = Array.apply(null, arguments);\n    }\n\n    return keys.reduce(function(map, key, index) {\n      if (map) {\n\n        var childMap = map[key];\n\n        if (index === keys.length - 1) {\n          return childMap ? childMap.data : undefined;\n        }\n        else {\n          return childMap;\n        }\n      }\n    },\n    this);\n  };\n\n  NestedMap.prototype.set = function(keys, value) {\n\n    if (arguments.length > 2) {\n      keys = Array.prototype.slice.call(arguments, 0, -1);\n      value = arguments[arguments.length - 1];\n    }\n\n    return keys.reduce(function(map, key, index) {\n\n      var childMap = map[key];\n      if (childMap === undefined) {\n        childMap = map[key] = {};\n      }\n\n      if (index === keys.length - 1) {\n        childMap.data = value;\n        return value;\n      }\n      else {\n        return childMap;\n      }\n    }, this);\n  };\n\n  /**\n   * Default formatter\n   *\n   * @param {number} scalar - scalar value\n   * @param {string} units - units as string\n   *\n   * @returns {string} formatted result\n   */\n  function defaultFormatter(scalar, units) {\n    return (scalar + \" \" + units).trim();\n  }\n\n  /**\n   *\n   * Configurable Qty default formatter\n   *\n   * @type {function}\n   *\n   * @param {number} scalar\n   * @param {string} units\n   *\n   * @returns {string} formatted result\n   */\n  Qty.formatter = defaultFormatter;\n\n  assign(Qty.prototype, {\n\n    // returns the 'unit' part of the Unit object without the scalar\n    units: function() {\n      if (this._units !== undefined) {\n        return this._units;\n      }\n\n      var numIsUnity = compareArray(this.numerator, UNITY_ARRAY);\n      var denIsUnity = compareArray(this.denominator, UNITY_ARRAY);\n      if (numIsUnity && denIsUnity) {\n        this._units = \"\";\n        return this._units;\n      }\n\n      var numUnits = stringifyUnits(this.numerator);\n      var denUnits = stringifyUnits(this.denominator);\n      this._units = numUnits + (denIsUnity ? \"\" : (\"/\" + denUnits));\n      return this._units;\n    },\n\n    /**\n     * Stringifies the quantity\n     * Deprecation notice: only units parameter is supported.\n     *\n     * @param {(number|string|Qty)} targetUnitsOrMaxDecimalsOrPrec -\n     *                              target units if string,\n     *                              max number of decimals if number,\n     *                              passed to #toPrec before converting if Qty\n     *\n     * @param {number=} maxDecimals - Maximum number of decimals of\n     *                                formatted output\n     *\n     * @returns {string} reparseable quantity as string\n     */\n    toString: function(targetUnitsOrMaxDecimalsOrPrec, maxDecimals) {\n      var targetUnits;\n      if (isNumber(targetUnitsOrMaxDecimalsOrPrec)) {\n        targetUnits = this.units();\n        maxDecimals = targetUnitsOrMaxDecimalsOrPrec;\n      }\n      else if (isString(targetUnitsOrMaxDecimalsOrPrec)) {\n        targetUnits = targetUnitsOrMaxDecimalsOrPrec;\n      }\n      else if (isQty(targetUnitsOrMaxDecimalsOrPrec)) {\n        return this.toPrec(targetUnitsOrMaxDecimalsOrPrec).toString(maxDecimals);\n      }\n\n      var out = this.to(targetUnits);\n\n      var outScalar = maxDecimals !== undefined ? round(out.scalar, maxDecimals) : out.scalar;\n      out = (outScalar + \" \" + out.units()).trim();\n      return out;\n    },\n\n    /**\n     * Format the quantity according to optional passed target units\n     * and formatter\n     *\n     * @param {string} [targetUnits=current units] -\n     *                 optional units to convert to before formatting\n     *\n     * @param {function} [formatter=Qty.formatter] -\n     *                   delegates formatting to formatter callback.\n     *                   formatter is called back with two parameters (scalar, units)\n     *                   and should return formatted result.\n     *                   If unspecified, formatting is delegated to default formatter\n     *                   set to Qty.formatter\n     *\n     * @example\n     * var roundingAndLocalizingFormatter = function(scalar, units) {\n     *   // localize or limit scalar to n max decimals for instance\n     *   // return formatted result\n     * };\n     * var qty = Qty('1.1234 m');\n     * qty.format(); // same units, default formatter => \"1.234 m\"\n     * qty.format(\"cm\"); // converted to \"cm\", default formatter => \"123.45 cm\"\n     * qty.format(roundingAndLocalizingFormatter); // same units, custom formatter => \"1,2 m\"\n     * qty.format(\"cm\", roundingAndLocalizingFormatter); // convert to \"cm\", custom formatter => \"123,4 cm\"\n     *\n     * @returns {string} quantity as string\n     */\n    format: function(targetUnits, formatter) {\n      if (arguments.length === 1) {\n        if (typeof targetUnits === \"function\") {\n          formatter = targetUnits;\n          targetUnits = undefined;\n        }\n      }\n\n      formatter = formatter || Qty.formatter;\n      var targetQty = this.to(targetUnits);\n      return formatter.call(this, targetQty.scalar, targetQty.units());\n    }\n  });\n\n  var stringifiedUnitsCache = new NestedMap();\n  /**\n   * Returns a string representing a normalized unit array\n   *\n   * @param {string[]} units Normalized unit array\n   * @returns {string} String representing passed normalized unit array and\n   *   suitable for output\n   *\n   */\n  function stringifyUnits(units) {\n\n    var stringified = stringifiedUnitsCache.get(units);\n    if (stringified) {\n      return stringified;\n    }\n\n    var isUnity = compareArray(units, UNITY_ARRAY);\n    if (isUnity) {\n      stringified = \"1\";\n    }\n    else {\n      stringified = simplify(getOutputNames(units)).join(\"*\");\n    }\n\n    // Cache result\n    stringifiedUnitsCache.set(units, stringified);\n\n    return stringified;\n  }\n\n  function getOutputNames(units) {\n    var unitNames = [], token, tokenNext;\n    for (var i = 0; i < units.length; i++) {\n      token = units[i];\n      tokenNext = units[i + 1];\n      if (PREFIX_VALUES[token]) {\n        unitNames.push(OUTPUT_MAP[token] + OUTPUT_MAP[tokenNext]);\n        i++;\n      }\n      else {\n        unitNames.push(OUTPUT_MAP[token]);\n      }\n    }\n    return unitNames;\n  }\n\n  function simplify(units) {\n    // this turns ['s','m','s'] into ['s2','m']\n\n    var unitCounts = units.reduce(function(acc, unit) {\n      var unitCounter = acc[unit];\n      if (!unitCounter) {\n        acc.push(unitCounter = acc[unit] = [unit, 0]);\n      }\n\n      unitCounter[1]++;\n\n      return acc;\n    }, []);\n\n    return unitCounts.map(function(unitCount) {\n      return unitCount[0] + (unitCount[1] > 1 ? unitCount[1] : \"\");\n    });\n  }\n\n  Qty.version = \"1.7.5\";\n\n  return Qty;\n\n})));\n","import Qty from 'js-quantities';\n\nexport function convertUnit(array, fromUnit, toUnit) {\n  fromUnit = normalize(fromUnit);\n  toUnit = normalize(toUnit);\n\n  if (fromUnit === toUnit) return array;\n\n  try {\n    const convert = Qty.swiftConverter(fromUnit, toUnit); // Configures converter\n    return convert(array);\n  } catch (e) {\n    return undefined;\n  }\n}\n\nfunction normalize(unit) {\n  unit = unit.replace(/C/g, 'tempC');\n  unit = unit.replace(/F/g, 'tempF');\n  unit = unit.replace(/(^|\\W)K(\\W|$)/g, '$1tempK$2');\n  return unit;\n}\n","import max from 'ml-array-max';\nimport min from 'ml-array-min';\nimport { xIsMonotone } from 'ml-spectra-processing';\n\nimport { convertUnit } from './convertUnit';\n\nexport function getConvertedVariable(variable, newUnits) {\n  const data =\n    variable.units !== newUnits // would be nice if convertUnit would allow typedArray\n      ? convertUnit(Array.from(variable.data), variable.units, newUnits)\n      : variable.data;\n  return {\n    units: newUnits,\n    label: variable.label.replace(`[${variable.units}]`, `[${newUnits}]`),\n    data,\n    min: min(data),\n    max: max(data),\n    isMonotone: xIsMonotone(data),\n  };\n}\n","import { convertUnit } from './convertUnit';\nimport { getConvertedVariable } from './getConvertedVariable';\n\n/**\n * Retrieve a spectrum with only X/Y data based on xUnits / yUnits and convert units\n * if necessary\n * @param {Array} [spectra] Array of spectra\n * @param {object} [selector={}]\n * @param {string} [selector.units] Units separated by vs like for example \"g vs C\"\n * @param {string} [selector.xUnits]\n * @param {string} [selector.yUnits]\n * @returns {Spectrum}\n */\n\nexport function getXYSpectrum(spectra = [], selector = {}) {\n  if (spectra.length < 1) return;\n  for (let spectrum of spectra) {\n    let { xUnits, yUnits, units } = selector;\n    if (units && !xUnits && !yUnits) [yUnits, xUnits] = units.split(/\\s+vs\\s+/);\n    let x;\n    let y;\n    let variableNames = Object.keys(spectrum.variables);\n    if (!variableNames.length > 1) continue;\n\n    if (xUnits === undefined) {\n      x = spectrum.variables[variableNames[0]];\n    } else {\n      for (let key in spectrum.variables) {\n        let converted = convertUnit(1, spectrum.variables[key].units, xUnits);\n        if (converted) {\n          x = getConvertedVariable(spectrum.variables[key], xUnits);\n          break;\n        }\n      }\n    }\n    if (yUnits === undefined) {\n      y = spectrum.variables[variableNames[1]];\n    } else {\n      for (let key in spectrum.variables) {\n        let converted = convertUnit(1, spectrum.variables[key].units, yUnits);\n        if (converted) {\n          y = getConvertedVariable(spectrum.variables[key], yUnits);\n          break;\n        }\n      }\n    }\n    if (x && y) {\n      return {\n        title: spectrum.title,\n        dataType: spectrum.dataType,\n        meta: spectrum.meta,\n        variables: { x, y },\n      };\n    }\n  }\n  return;\n}\n","import isAnyArray from 'is-any-array';\nimport max from 'ml-array-max';\nimport min from 'ml-array-min';\nimport { xIsMonotone } from 'ml-spectra-processing';\n\nimport { getNormalizedData } from './util/getNormalizedData';\nimport { getXYSpectrum } from './util/getXYSpectrum';\n\n/**\n * Class allowing to store and manipulate an analysis.\n * An analysis may contain one or more spectra that can be selected\n * based on their units\n * @class Analysis\n * @param {object} [options={}]\n * @param {string} [options.id=randomString] unique identifier\n * @param {string} [options.label=options.id] human redeable label\n */\nexport class Analysis {\n  constructor(options = {}) {\n    this.id = options.id || Math.random().toString(36).substring(2, 10);\n    this.label = options.label || this.id;\n    this.spectra = [];\n    this.cache = {};\n  }\n\n  /**\n   * Add a spectrum in the internal spectra variable\n   * @param {object} [variables]\n   * @param {object} [variables.x]\n   * @param {array} [variables.x.data]\n   * @param {array} [variables.x.units='x']\n   * @param {array} [variables.x.label='x']\n   * @param {object} [variables.y]\n   * @param {array} [variables.y.data]\n   * @param {array} [variables.y.units='y']\n   * @param {array} [variables.y.label='y']\n   * @param {object} [options={}]\n   * @param {string} [options.dataType='']\n   * @param {string} [options.title='']\n   *\n   */\n  pushSpectrum(variables, options = {}) {\n    this.spectra.push(standardizeData(variables, options));\n    this.cache = {};\n  }\n\n  /**\n   * Retrieve a Spectrum based on x/y units\n   * @param {object} [selector={}]\n   * @param {string} [selector.units] Units separated by vs like for example \"g vs C\"\n   * @param {string} [selector.xUnits] if undefined takes the first variable\n   * @param {string} [selector.yUnits] if undefined takes the second variable\n   * @returns {Spectrum}\n   */\n  getXYSpectrum(selector = {}) {\n    let id = JSON.stringify(selector);\n    if (!this.cache[id]) {\n      this.cache[id] = getXYSpectrum(this.spectra, selector);\n    }\n    return this.cache[id];\n  }\n\n  /**\n   * Return the data object for specific x/y units with possibly some\n   * normalization options\n   * @param {object} [options={}]\n   * @param {object} [options.selector]\n   * @param {string} [options.selector.xUnits] // if undefined takes the first variable\n   * @param {string} [options.selector.yUnits] // if undefined takes the second variable\n   * @param {object} [options.normalization]\n   *\n   */\n  getNormalizedData(options = {}) {\n    const { normalization, selector } = options;\n    const spectrum = this.getXYSpectrum(selector);\n    if (!spectrum) return undefined;\n    return getNormalizedData(spectrum, normalization);\n  }\n\n  /**\n   * Returns the xLabel\n   * @param {object} [selector]\n   * @param {string} [selector.xUnits] // if undefined takes the first variable\n   * @param {string} [selector.yUnits] // if undefined takes the second variable\n   * @returns {string}\n   */\n  getXLabel(selector) {\n    return this.getXYSpectrum(selector).variables.x.label;\n  }\n\n  /**\n   * Returns the yLabel\n   * @param {object} [selector]\n   * @param {string} [selector.xUnits] // if undefined takes the first variable\n   * @param {string} [selector.yUnits] // if undefined takes the second variable\n   * @returns {string}\n   */\n  getYLabel(selector) {\n    return this.getXYSpectrum(selector).variables.y.label;\n  }\n}\n\n/**\n * Internal function that ensure the order of x / y array\n * @param {DataXY} [variables]\n * @param {object} [options={}]\n * @return {Spectrum}\n */\nfunction standardizeData(variables, options = {}) {\n  let { meta = {}, dataType = '', title = '' } = options;\n\n  let xVariable = variables.x;\n  let yVariable = variables.y;\n  if (!xVariable || !yVariable) {\n    throw Error('A spectrum must contain at least x and y variables');\n  }\n  if (!isAnyArray(xVariable.data) || !isAnyArray(yVariable.data)) {\n    throw Error('x and y variables must contain an array data');\n  }\n\n  let x = xVariable.data;\n  let reverse = x && x.length > 1 && x[0] > x[x.length - 1];\n\n  for (let key in variables) {\n    let variable = variables[key];\n    if (reverse) variable.data = variable.data.reverse();\n    variable.label = variable.label || key;\n    variable.units =\n      variable.units || variable.label.replace(/^.*[([](.*)[)\\]].*$/, '$1');\n    variable.min = min(variable.data);\n    variable.max = max(variable.data);\n    variable.isMonotone = xIsMonotone(variable.data);\n  }\n\n  return {\n    variables,\n    title,\n    dataType,\n    meta,\n  };\n}\n","const GC_MS_FIELDS = ['TIC', '.RIC', 'SCANNUMBER'];\n\nexport function complexChromatogram(result) {\n  let spectra = result.spectra;\n  let length = spectra.length;\n  let chromatogram = {\n    times: new Array(length),\n    series: {\n      ms: {\n        dimension: 2,\n        data: new Array(length),\n      },\n    },\n  };\n\n  let existingGCMSFields = [];\n  for (let i = 0; i < GC_MS_FIELDS.length; i++) {\n    let label = convertMSFieldToLabel(GC_MS_FIELDS[i]);\n    if (spectra[0][label]) {\n      existingGCMSFields.push(label);\n      chromatogram.series[label] = {\n        dimension: 1,\n        data: new Array(length),\n      };\n    }\n  }\n\n  for (let i = 0; i < length; i++) {\n    let spectrum = spectra[i];\n    chromatogram.times[i] = spectrum.pageValue;\n    for (let j = 0; j < existingGCMSFields.length; j++) {\n      chromatogram.series[existingGCMSFields[j]].data[i] = parseFloat(\n        spectrum[existingGCMSFields[j]],\n      );\n    }\n    if (spectrum.data) {\n      chromatogram.series.ms.data[i] = [spectrum.data.x, spectrum.data.y];\n    }\n  }\n  result.chromatogram = chromatogram;\n}\n\nexport function isMSField(canonicDataLabel) {\n  return GC_MS_FIELDS.indexOf(canonicDataLabel) !== -1;\n}\n\nexport function convertMSFieldToLabel(value) {\n  return value.toLowerCase().replace(/[^a-z0-9]/g, '');\n}\n","export default function convertToFloatArray(stringArray) {\n  let floatArray = [];\n  for (let i = 0; i < stringArray.length; i++) {\n    floatArray.push(parseFloat(stringArray[i]));\n  }\n  return floatArray;\n}\n","export default function fastParseXYData(spectrum, value) {\n  // TODO need to deal with result\n  //  console.log(value);\n  // we check if deltaX is defined otherwise we calculate it\n\n  let yFactor = spectrum.yFactor;\n  let deltaX = spectrum.deltaX;\n\n  spectrum.isXYdata = true;\n  let currentData = { x: [], y: [] };\n  spectrum.data = currentData;\n\n  let currentX = spectrum.firstX;\n  let currentY = spectrum.firstY;\n\n  // we skip the first line\n  //\n  let endLine = false;\n  let ascii;\n  let i = 0;\n  for (; i < value.length; i++) {\n    ascii = value.charCodeAt(i);\n    if (ascii === 13 || ascii === 10) {\n      endLine = true;\n    } else {\n      if (endLine) break;\n    }\n  }\n\n  // we proceed taking the i after the first line\n  let newLine = true;\n  let isDifference = false;\n  let isLastDifference = false;\n  let lastDifference = 0;\n  let isDuplicate = false;\n  let inComment = false;\n  let currentValue = 0; // can be a difference or a duplicate\n  let lastValue = 0; // must be the real last value\n  let isNegative = false;\n  let inValue = false;\n  let skipFirstValue = false;\n  let decimalPosition = 0;\n  for (; i <= value.length; i++) {\n    if (i === value.length) ascii = 13;\n    else ascii = value.charCodeAt(i);\n    if (inComment) {\n      // we should ignore the text if we are after $$\n      if (ascii === 13 || ascii === 10) {\n        newLine = true;\n        inComment = false;\n      }\n    } else {\n      // when is it a new value ?\n      // when it is not a digit, . or comma\n      // it is a number that is either new or we continue\n      if (ascii <= 57 && ascii >= 48) {\n        // a number\n        inValue = true;\n        if (decimalPosition > 0) {\n          currentValue += (ascii - 48) / Math.pow(10, decimalPosition++);\n        } else {\n          currentValue *= 10;\n          currentValue += ascii - 48;\n        }\n      } else if (ascii === 44 || ascii === 46) {\n        // a \",\" or \".\"\n        inValue = true;\n        decimalPosition++;\n      } else {\n        if (inValue) {\n          // need to process the previous value\n          if (newLine) {\n            newLine = false; // we don't check the X value\n            // console.log(\"NEW LINE\",isDifference, lastDifference);\n            // if new line and lastDifference, the first value is just a check !\n            // that we don't check ...\n            if (isLastDifference) skipFirstValue = true;\n          } else {\n            // need to deal with duplicate and differences\n            if (skipFirstValue) {\n              skipFirstValue = false;\n            } else {\n              if (isDifference) {\n                lastDifference = isNegative ? 0 - currentValue : currentValue;\n                isLastDifference = true;\n                isDifference = false;\n              } else if (!isDuplicate) {\n                lastValue = isNegative ? 0 - currentValue : currentValue;\n              }\n              let duplicate = isDuplicate ? currentValue - 1 : 1;\n              for (let j = 0; j < duplicate; j++) {\n                if (isLastDifference) {\n                  currentY += lastDifference;\n                } else {\n                  currentY = lastValue;\n                }\n                currentData.x.push(currentX);\n                currentData.y.push(currentY * yFactor);\n                currentX += deltaX;\n              }\n            }\n          }\n          isNegative = false;\n          currentValue = 0;\n          decimalPosition = 0;\n          inValue = false;\n          isDuplicate = false;\n        }\n\n        // positive SQZ digits @ A B C D E F G H I (ascii 64-73)\n        if (ascii < 74 && ascii > 63) {\n          inValue = true;\n          isLastDifference = false;\n          currentValue = ascii - 64;\n        } else if (ascii > 96 && ascii < 106) {\n          // negative SQZ digits a b c d e f g h i (ascii 97-105)\n          inValue = true;\n          isLastDifference = false;\n          currentValue = ascii - 96;\n          isNegative = true;\n        } else if (ascii === 115) {\n          // DUP digits S T U V W X Y Z s (ascii 83-90, 115)\n          inValue = true;\n          isDuplicate = true;\n          currentValue = 9;\n        } else if (ascii > 82 && ascii < 91) {\n          inValue = true;\n          isDuplicate = true;\n          currentValue = ascii - 82;\n        } else if (ascii > 73 && ascii < 83) {\n          // positive DIF digits % J K L M N O P Q R (ascii 37, 74-82)\n          inValue = true;\n          isDifference = true;\n          currentValue = ascii - 73;\n        } else if (ascii > 105 && ascii < 115) {\n          // negative DIF digits j k l m n o p q r (ascii 106-114)\n          inValue = true;\n          isDifference = true;\n          currentValue = ascii - 105;\n          isNegative = true;\n        } else if (ascii === 36 && value.charCodeAt(i + 1) === 36) {\n          // $ sign, we need to check the next one\n          inValue = true;\n          inComment = true;\n        } else if (ascii === 37) {\n          // positive DIF digits % J K L M N O P Q R (ascii 37, 74-82)\n          inValue = true;\n          isDifference = true;\n          currentValue = 0;\n          isNegative = false;\n        } else if (ascii === 45) {\n          // a \"-\"\n          // check if after there is a number, decimal or comma\n          let ascii2 = value.charCodeAt(i + 1);\n          if (\n            (ascii2 >= 48 && ascii2 <= 57) ||\n            ascii2 === 44 ||\n            ascii2 === 46\n          ) {\n            inValue = true;\n            if (!newLine) isLastDifference = false;\n            isNegative = true;\n          }\n        } else if (ascii === 13 || ascii === 10) {\n          newLine = true;\n          inComment = false;\n        }\n        // and now analyse the details ... space or tabulation\n        // if \"+\" we just don't care\n      }\n    }\n  }\n}\n","const removeCommentRegExp = /\\$\\$.*/;\nconst peakTableSplitRegExp = /[,\\t ]+/;\n\nexport default function parsePeakTable(spectrum, value, result) {\n  spectrum.isPeaktable = true;\n\n  if (!spectrum.variables || Object.keys(spectrum.variables) === 2) {\n    parseXY(spectrum, value, result);\n  } else {\n    parseXYZ(spectrum, value, result);\n  }\n\n  // we will add the data in the variables\n  if (spectrum.variables) {\n    for (let key in spectrum.variables) {\n      spectrum.variables[key].data = spectrum.data[key];\n    }\n  }\n}\n\nfunction parseXY(spectrum, value, result) {\n  let currentData = { x: [], y: [] };\n  spectrum.data = currentData;\n\n  // counts for around 20% of the time\n  let lines = value.split(/,? *,?[;\\r\\n]+ */);\n\n  for (let i = 1; i < lines.length; i++) {\n    let values = lines[i]\n      .trim()\n      .replace(removeCommentRegExp, '')\n      .split(peakTableSplitRegExp);\n    if (values.length % 2 === 0) {\n      for (let j = 0; j < values.length; j = j + 2) {\n        // takes around 40% of the time to add and parse the 2 values nearly exclusively because of parseFloat\n        currentData.x.push(parseFloat(values[j]) * spectrum.xFactor);\n        currentData.y.push(parseFloat(values[j + 1]) * spectrum.yFactor);\n      }\n    } else {\n      result.logs.push(`Format error: ${values}`);\n    }\n  }\n}\n\nfunction parseXYZ(spectrum, value, result) {\n  let currentData = {};\n  let variables = Object.keys(spectrum.variables);\n  let numberOfVariables = variables.length;\n  variables.forEach((variable) => (currentData[variable] = []));\n  spectrum.data = currentData;\n\n  // counts for around 20% of the time\n  let lines = value.split(/,? *,?[;\\r\\n]+ */);\n\n  for (let i = 1; i < lines.length; i++) {\n    let values = lines[i]\n      .trim()\n      .replace(removeCommentRegExp, '')\n      .split(peakTableSplitRegExp);\n    if (values.length % numberOfVariables === 0) {\n      for (let j = 0; j < values.length; j++) {\n        // todo should try to find a xFactor (y, ...)\n        currentData[variables[j % numberOfVariables]].push(\n          parseFloat(values[j]),\n        );\n      }\n    } else {\n      result.logs.push(`Format error: ${values}`);\n    }\n  }\n}\n","export default function parseXYA(spectrum, value) {\n  let removeSymbolRegExp = /(\\(+|\\)+|<+|>+|\\s+)/g;\n\n  spectrum.isXYAdata = true;\n  let values;\n  let currentData = { x: [], y: [] };\n  spectrum.data = currentData;\n\n  let lines = value.split(/,? *,?[;\\r\\n]+ */);\n\n  for (let i = 1; i < lines.length; i++) {\n    values = lines[i].trim().replace(removeSymbolRegExp, '').split(',');\n    currentData.x.push(parseFloat(values[0]));\n    currentData.y.push(parseFloat(values[1]));\n  }\n}\n","import getMedian from 'ml-array-median';\n\nexport default function convertTo3DZ(spectra) {\n  let minZ = spectra[0].data.y[0];\n  let maxZ = minZ;\n  let ySize = spectra.length;\n  let xSize = spectra[0].data.x.length;\n\n  let z = new Array(ySize);\n  for (let i = 0; i < ySize; i++) {\n    z[i] = spectra[i].data.y;\n    for (let j = 0; j < xSize; j++) {\n      let value = z[i][j];\n      if (value < minZ) minZ = value;\n      if (value > maxZ) maxZ = value;\n    }\n  }\n\n  const firstX = spectra[0].data.x[0];\n  const lastX = spectra[0].data.x[spectra[0].data.x.length - 1]; // has to be -2 because it is a 1D array [x,y,x,y,...]\n  const firstY = spectra[0].pageValue;\n  const lastY = spectra[ySize - 1].pageValue;\n\n  // Because the min / max value are the only information about the matrix if we invert\n  // min and max we need to invert the array\n  if (firstX > lastX) {\n    for (let spectrum of z) {\n      spectrum.reverse();\n    }\n  }\n  if (firstY > lastY) {\n    z.reverse();\n  }\n\n  return {\n    z: z,\n    minX: Math.min(firstX, lastX),\n    maxX: Math.max(firstX, lastX),\n    minY: Math.min(firstY, lastY),\n    maxY: Math.max(firstY, lastY),\n    minZ: minZ,\n    maxZ: maxZ,\n    noise: getMedian(z[0].map(Math.abs)),\n  };\n}\n","export default function generateContourLines(zData, options) {\n  let noise = zData.noise;\n  let z = zData.z;\n  let povarHeight0, povarHeight1, povarHeight2, povarHeight3;\n  let isOver0, isOver1, isOver2, isOver3;\n  let nbSubSpectra = z.length;\n  let nbPovars = z[0].length;\n  let pAx, pAy, pBx, pBy;\n\n  let x0 = zData.minX;\n  let xN = zData.maxX;\n  let dx = (xN - x0) / (nbPovars - 1);\n  let y0 = zData.minY;\n  let yN = zData.maxY;\n  let dy = (yN - y0) / (nbSubSpectra - 1);\n  let minZ = zData.minZ;\n  let maxZ = zData.maxZ;\n\n  // System.out.prvarln('y0 '+y0+' yN '+yN);\n  // -------------------------\n  // Povars attribution\n  //\n  // 0----1\n  // |  / |\n  // | /  |\n  // 2----3\n  //\n  // ---------------------d------\n\n  let iter = options.nbContourLevels * 2;\n  let contourLevels = new Array(iter);\n  let lineZValue;\n  for (let level = 0; level < iter; level++) {\n    // multiply by 2 for positif and negatif\n    let contourLevel = {};\n    contourLevels[level] = contourLevel;\n    let side = level % 2;\n    let factor =\n      (maxZ - options.noiseMultiplier * noise) *\n      Math.exp((level >> 1) - options.nbContourLevels);\n    if (side === 0) {\n      lineZValue = factor + options.noiseMultiplier * noise;\n    } else {\n      lineZValue = 0 - factor - options.noiseMultiplier * noise;\n    }\n    let lines = [];\n    contourLevel.zValue = lineZValue;\n    contourLevel.lines = lines;\n\n    if (lineZValue <= minZ || lineZValue >= maxZ) continue;\n\n    for (let iSubSpectra = 0; iSubSpectra < nbSubSpectra - 1; iSubSpectra++) {\n      let subSpectra = z[iSubSpectra];\n      let subSpectraAfter = z[iSubSpectra + 1];\n      for (let povar = 0; povar < nbPovars - 1; povar++) {\n        povarHeight0 = subSpectra[povar];\n        povarHeight1 = subSpectra[povar + 1];\n        povarHeight2 = subSpectraAfter[povar];\n        povarHeight3 = subSpectraAfter[povar + 1];\n\n        isOver0 = povarHeight0 > lineZValue;\n        isOver1 = povarHeight1 > lineZValue;\n        isOver2 = povarHeight2 > lineZValue;\n        isOver3 = povarHeight3 > lineZValue;\n\n        // Example povar0 is over the plane and povar1 and\n        // povar2 are below, we find the varersections and add\n        // the segment\n        if (isOver0 !== isOver1 && isOver0 !== isOver2) {\n          pAx =\n            povar + (lineZValue - povarHeight0) / (povarHeight1 - povarHeight0);\n          pAy = iSubSpectra;\n          pBx = povar;\n          pBy =\n            iSubSpectra +\n            (lineZValue - povarHeight0) / (povarHeight2 - povarHeight0);\n          lines.push(pAx * dx + x0);\n          lines.push(pAy * dy + y0);\n          lines.push(pBx * dx + x0);\n          lines.push(pBy * dy + y0);\n        }\n        // remove push does not help !!!!\n        if (isOver3 !== isOver1 && isOver3 !== isOver2) {\n          pAx = povar + 1;\n          pAy =\n            iSubSpectra +\n            1 -\n            (lineZValue - povarHeight3) / (povarHeight1 - povarHeight3);\n          pBx =\n            povar +\n            1 -\n            (lineZValue - povarHeight3) / (povarHeight2 - povarHeight3);\n          pBy = iSubSpectra + 1;\n          lines.push(pAx * dx + x0);\n          lines.push(pAy * dy + y0);\n          lines.push(pBx * dx + x0);\n          lines.push(pBy * dy + y0);\n        }\n        // test around the diagonal\n        if (isOver1 !== isOver2) {\n          pAx =\n            (povar +\n              1 -\n              (lineZValue - povarHeight1) / (povarHeight2 - povarHeight1)) *\n              dx +\n            x0;\n          pAy =\n            (iSubSpectra +\n              (lineZValue - povarHeight1) / (povarHeight2 - povarHeight1)) *\n              dy +\n            y0;\n          if (isOver1 !== isOver0) {\n            pBx =\n              povar +\n              1 -\n              (lineZValue - povarHeight1) / (povarHeight0 - povarHeight1);\n            pBy = iSubSpectra;\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n          if (isOver2 !== isOver0) {\n            pBx = povar;\n            pBy =\n              iSubSpectra +\n              1 -\n              (lineZValue - povarHeight2) / (povarHeight0 - povarHeight2);\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n          if (isOver1 !== isOver3) {\n            pBx = povar + 1;\n            pBy =\n              iSubSpectra +\n              (lineZValue - povarHeight1) / (povarHeight3 - povarHeight1);\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n          if (isOver2 !== isOver3) {\n            pBx =\n              povar +\n              (lineZValue - povarHeight2) / (povarHeight3 - povarHeight2);\n            pBy = iSubSpectra + 1;\n            lines.push(pAx);\n            lines.push(pAy);\n            lines.push(pBx * dx + x0);\n            lines.push(pBy * dy + y0);\n          }\n        }\n      }\n    }\n  }\n\n  return {\n    minX: zData.minX,\n    maxX: zData.maxX,\n    minY: zData.minY,\n    maxY: zData.maxY,\n    segments: contourLevels,\n  };\n}\n","import convertTo3DZ from './convertTo3DZ';\nimport generateContourLines from './generateContourLines';\n\nexport default function add2D(result, options) {\n  let zData = convertTo3DZ(result.spectra);\n  if (!options.noContour) {\n    result.contourLines = generateContourLines(zData, options);\n    delete zData.z;\n  }\n  result.minMax = zData;\n}\n","/**\n * Fast Fourier Transform module\n * 1D-FFT/IFFT, 2D-FFT/IFFT (radix-2)\n */\nvar FFT = (function(){\n  var FFT;  \n  \n  if(typeof exports !== 'undefined') {\n    FFT = exports;   // for CommonJS\n  } else {\n    FFT = {};\n  }\n  \n  var version = {\n    release: '0.3.0',\n    date: '2013-03'\n  };\n  FFT.toString = function() {\n    return \"version \" + version.release + \", released \" + version.date;\n  };\n\n  // core operations\n  var _n = 0,          // order\n      _bitrev = null,  // bit reversal table\n      _cstb = null;    // sin/cos table\n\n  var core = {\n    init : function(n) {\n      if(n !== 0 && (n & (n - 1)) === 0) {\n        _n = n;\n        core._initArray();\n        core._makeBitReversalTable();\n        core._makeCosSinTable();\n      } else {\n        throw new Error(\"init: radix-2 required\");\n      }\n    },\n    // 1D-FFT\n    fft1d : function(re, im) {\n      core.fft(re, im, 1);\n    },\n    // 1D-IFFT\n    ifft1d : function(re, im) {\n      var n = 1/_n;\n      core.fft(re, im, -1);\n      for(var i=0; i<_n; i++) {\n        re[i] *= n;\n        im[i] *= n;\n      }\n    },\n     // 1D-IFFT\n    bt1d : function(re, im) {\n      core.fft(re, im, -1);\n    },\n    // 2D-FFT Not very useful if the number of rows have to be equal to cols\n    fft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.fft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.fft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // 2D-IFFT\n    ifft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.ifft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.ifft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // core operation of FFT\n    fft : function(re, im, inv) {\n      var d, h, ik, m, tmp, wr, wi, xr, xi,\n          n4 = _n >> 2;\n      // bit reversal\n      for(var l=0; l<_n; l++) {\n        m = _bitrev[l];\n        if(l < m) {\n          tmp = re[l];\n          re[l] = re[m];\n          re[m] = tmp;\n          tmp = im[l];\n          im[l] = im[m];\n          im[m] = tmp;\n        }\n      }\n      // butterfly operation\n      for(var k=1; k<_n; k<<=1) {\n        h = 0;\n        d = _n/(k << 1);\n        for(var j=0; j<k; j++) {\n          wr = _cstb[h + n4];\n          wi = inv*_cstb[h];\n          for(var i=j; i<_n; i+=(k<<1)) {\n            ik = i + k;\n            xr = wr*re[ik] + wi*im[ik];\n            xi = wr*im[ik] - wi*re[ik];\n            re[ik] = re[i] - xr;\n            re[i] += xr;\n            im[ik] = im[i] - xi;\n            im[i] += xi;\n          }\n          h += d;\n        }\n      }\n    },\n    // initialize the array (supports TypedArray)\n    _initArray : function() {\n      if(typeof Uint32Array !== 'undefined') {\n        _bitrev = new Uint32Array(_n);\n      } else {\n        _bitrev = [];\n      }\n      if(typeof Float64Array !== 'undefined') {\n        _cstb = new Float64Array(_n*1.25);\n      } else {\n        _cstb = [];\n      }\n    },\n    // zero padding\n    _paddingZero : function() {\n      // TODO\n    },\n    // makes bit reversal table\n    _makeBitReversalTable : function() {\n      var i = 0,\n          j = 0,\n          k = 0;\n      _bitrev[0] = 0;\n      while(++i < _n) {\n        k = _n >> 1;\n        while(k <= j) {\n          j -= k;\n          k >>= 1;\n        }\n        j += k;\n        _bitrev[i] = j;\n      }\n    },\n    // makes trigonometiric function table\n    _makeCosSinTable : function() {\n      var n2 = _n >> 1,\n          n4 = _n >> 2,\n          n8 = _n >> 3,\n          n2p4 = n2 + n4,\n          t = Math.sin(Math.PI/_n),\n          dc = 2*t*t,\n          ds = Math.sqrt(dc*(2 - dc)),\n          c = _cstb[n4] = 1,\n          s = _cstb[0] = 0;\n      t = 2*dc;\n      for(var i=1; i<n8; i++) {\n        c -= dc;\n        dc += t*c;\n        s += ds;\n        ds -= t*s;\n        _cstb[i] = s;\n        _cstb[n4 - i] = c;\n      }\n      if(n8 !== 0) {\n        _cstb[n8] = Math.sqrt(0.5);\n      }\n      for(var j=0; j<n4; j++) {\n        _cstb[n2 - j]  = _cstb[j];\n      }\n      for(var k=0; k<n2p4; k++) {\n        _cstb[k + n2] = -_cstb[k];\n      }\n    }\n  };\n  // aliases (public APIs)\n  var apis = ['init', 'fft1d', 'ifft1d', 'fft2d', 'ifft2d'];\n  for(var i=0; i<apis.length; i++) {\n    FFT[apis[i]] = core[apis[i]];\n  }\n  FFT.bt = core.bt1d;\n  FFT.fft = core.fft1d;\n  FFT.ifft = core.ifft1d;\n  \n  return FFT;\n}).call(this);\n","'use strict';\n\nvar arrayStat = require('./array');\n\nfunction compareNumbers(a, b) {\n    return a - b;\n}\n\nexports.max = function max(matrix) {\n    var max = -Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] > max) max = matrix[i][j];\n        }\n    }\n    return max;\n};\n\nexports.min = function min(matrix) {\n    var min = Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] < min) min = matrix[i][j];\n        }\n    }\n    return min;\n};\n\nexports.minMax = function minMax(matrix) {\n    var min = Infinity;\n    var max = -Infinity;\n    for (var i = 0; i < matrix.length; i++) {\n        for (var j = 0; j < matrix[i].length; j++) {\n            if (matrix[i][j] < min) min = matrix[i][j];\n            if (matrix[i][j] > max) max = matrix[i][j];\n        }\n    }\n    return {\n        min:min,\n        max:max\n    };\n};\n\nexports.entropy = function entropy(matrix, eps) {\n    if (typeof (eps) === 'undefined') {\n        eps = 0;\n    }\n    var sum = 0,\n        l1 = matrix.length,\n        l2 = matrix[0].length;\n    for (var i = 0; i < l1; i++) {\n        for (var j = 0; j < l2; j++) {\n            sum += matrix[i][j] * Math.log(matrix[i][j] + eps);\n        }\n    }\n    return -sum;\n};\n\nexports.mean = function mean(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theMean, N, i, j;\n\n    if (dimension === -1) {\n        theMean = [0];\n        N = rows * cols;\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theMean[0] += matrix[i][j];\n            }\n        }\n        theMean[0] /= N;\n    } else if (dimension === 0) {\n        theMean = new Array(cols);\n        N = rows;\n        for (j = 0; j < cols; j++) {\n            theMean[j] = 0;\n            for (i = 0; i < rows; i++) {\n                theMean[j] += matrix[i][j];\n            }\n            theMean[j] /= N;\n        }\n    } else if (dimension === 1) {\n        theMean = new Array(rows);\n        N = cols;\n        for (j = 0; j < rows; j++) {\n            theMean[j] = 0;\n            for (i = 0; i < cols; i++) {\n                theMean[j] += matrix[j][i];\n            }\n            theMean[j] /= N;\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theMean;\n};\n\nexports.sum = function sum(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theSum, i, j;\n\n    if (dimension === -1) {\n        theSum = [0];\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theSum[0] += matrix[i][j];\n            }\n        }\n    } else if (dimension === 0) {\n        theSum = new Array(cols);\n        for (j = 0; j < cols; j++) {\n            theSum[j] = 0;\n            for (i = 0; i < rows; i++) {\n                theSum[j] += matrix[i][j];\n            }\n        }\n    } else if (dimension === 1) {\n        theSum = new Array(rows);\n        for (j = 0; j < rows; j++) {\n            theSum[j] = 0;\n            for (i = 0; i < cols; i++) {\n                theSum[j] += matrix[j][i];\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theSum;\n};\n\nexports.product = function product(matrix, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        theProduct, i, j;\n\n    if (dimension === -1) {\n        theProduct = [1];\n        for (i = 0; i < rows; i++) {\n            for (j = 0; j < cols; j++) {\n                theProduct[0] *= matrix[i][j];\n            }\n        }\n    } else if (dimension === 0) {\n        theProduct = new Array(cols);\n        for (j = 0; j < cols; j++) {\n            theProduct[j] = 1;\n            for (i = 0; i < rows; i++) {\n                theProduct[j] *= matrix[i][j];\n            }\n        }\n    } else if (dimension === 1) {\n        theProduct = new Array(rows);\n        for (j = 0; j < rows; j++) {\n            theProduct[j] = 1;\n            for (i = 0; i < cols; i++) {\n                theProduct[j] *= matrix[j][i];\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n    return theProduct;\n};\n\nexports.standardDeviation = function standardDeviation(matrix, means, unbiased) {\n    var vari = exports.variance(matrix, means, unbiased), l = vari.length;\n    for (var i = 0; i < l; i++) {\n        vari[i] = Math.sqrt(vari[i]);\n    }\n    return vari;\n};\n\nexports.variance = function variance(matrix, means, unbiased) {\n    if (typeof (unbiased) === 'undefined') {\n        unbiased = true;\n    }\n    means = means || exports.mean(matrix);\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length;\n    var vari = new Array(cols);\n\n    for (var j = 0; j < cols; j++) {\n        var sum1 = 0, sum2 = 0, x = 0;\n        for (var i = 0; i < rows; i++) {\n            x = matrix[i][j] - means[j];\n            sum1 += x;\n            sum2 += x * x;\n        }\n        if (unbiased) {\n            vari[j] = (sum2 - ((sum1 * sum1) / rows)) / (rows - 1);\n        } else {\n            vari[j] = (sum2 - ((sum1 * sum1) / rows)) / rows;\n        }\n    }\n    return vari;\n};\n\nexports.median = function median(matrix) {\n    var rows = matrix.length, cols = matrix[0].length;\n    var medians = new Array(cols);\n\n    for (var i = 0; i < cols; i++) {\n        var data = new Array(rows);\n        for (var j = 0; j < rows; j++) {\n            data[j] = matrix[j][i];\n        }\n        data.sort(compareNumbers);\n        var N = data.length;\n        if (N % 2 === 0) {\n            medians[i] = (data[N / 2] + data[(N / 2) - 1]) * 0.5;\n        } else {\n            medians[i] = data[Math.floor(N / 2)];\n        }\n    }\n    return medians;\n};\n\nexports.mode = function mode(matrix) {\n    var rows = matrix.length,\n        cols = matrix[0].length,\n        modes = new Array(cols),\n        i, j;\n    for (i = 0; i < cols; i++) {\n        var itemCount = new Array(rows);\n        for (var k = 0; k < rows; k++) {\n            itemCount[k] = 0;\n        }\n        var itemArray = new Array(rows);\n        var count = 0;\n\n        for (j = 0; j < rows; j++) {\n            var index = itemArray.indexOf(matrix[j][i]);\n            if (index >= 0) {\n                itemCount[index]++;\n            } else {\n                itemArray[count] = matrix[j][i];\n                itemCount[count] = 1;\n                count++;\n            }\n        }\n\n        var maxValue = 0, maxIndex = 0;\n        for (j = 0; j < count; j++) {\n            if (itemCount[j] > maxValue) {\n                maxValue = itemCount[j];\n                maxIndex = j;\n            }\n        }\n\n        modes[i] = itemArray[maxIndex];\n    }\n    return modes;\n};\n\nexports.skewness = function skewness(matrix, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var means = exports.mean(matrix);\n    var n = matrix.length, l = means.length;\n    var skew = new Array(l);\n\n    for (var j = 0; j < l; j++) {\n        var s2 = 0, s3 = 0;\n        for (var i = 0; i < n; i++) {\n            var dev = matrix[i][j] - means[j];\n            s2 += dev * dev;\n            s3 += dev * dev * dev;\n        }\n\n        var m2 = s2 / n;\n        var m3 = s3 / n;\n        var g = m3 / Math.pow(m2, 3 / 2);\n\n        if (unbiased) {\n            var a = Math.sqrt(n * (n - 1));\n            var b = n - 2;\n            skew[j] = (a / b) * g;\n        } else {\n            skew[j] = g;\n        }\n    }\n    return skew;\n};\n\nexports.kurtosis = function kurtosis(matrix, unbiased) {\n    if (typeof (unbiased) === 'undefined') unbiased = true;\n    var means = exports.mean(matrix);\n    var n = matrix.length, m = matrix[0].length;\n    var kurt = new Array(m);\n\n    for (var j = 0; j < m; j++) {\n        var s2 = 0, s4 = 0;\n        for (var i = 0; i < n; i++) {\n            var dev = matrix[i][j] - means[j];\n            s2 += dev * dev;\n            s4 += dev * dev * dev * dev;\n        }\n        var m2 = s2 / n;\n        var m4 = s4 / n;\n\n        if (unbiased) {\n            var v = s2 / (n - 1);\n            var a = (n * (n + 1)) / ((n - 1) * (n - 2) * (n - 3));\n            var b = s4 / (v * v);\n            var c = ((n - 1) * (n - 1)) / ((n - 2) * (n - 3));\n            kurt[j] = a * b - 3 * c;\n        } else {\n            kurt[j] = m4 / (m2 * m2) - 3;\n        }\n    }\n    return kurt;\n};\n\nexports.standardError = function standardError(matrix) {\n    var samples = matrix.length;\n    var standardDeviations = exports.standardDeviation(matrix);\n    var l = standardDeviations.length;\n    var standardErrors = new Array(l);\n    var sqrtN = Math.sqrt(samples);\n\n    for (var i = 0; i < l; i++) {\n        standardErrors[i] = standardDeviations[i] / sqrtN;\n    }\n    return standardErrors;\n};\n\nexports.covariance = function covariance(matrix, dimension) {\n    return exports.scatter(matrix, undefined, dimension);\n};\n\nexports.scatter = function scatter(matrix, divisor, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    if (typeof (divisor) === 'undefined') {\n        if (dimension === 0) {\n            divisor = matrix.length - 1;\n        } else if (dimension === 1) {\n            divisor = matrix[0].length - 1;\n        }\n    }\n    var means = exports.mean(matrix, dimension);\n    var rows = matrix.length;\n    if (rows === 0) {\n        return [[]];\n    }\n    var cols = matrix[0].length,\n        cov, i, j, s, k;\n\n    if (dimension === 0) {\n        cov = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            cov[i] = new Array(cols);\n        }\n        for (i = 0; i < cols; i++) {\n            for (j = i; j < cols; j++) {\n                s = 0;\n                for (k = 0; k < rows; k++) {\n                    s += (matrix[k][j] - means[j]) * (matrix[k][i] - means[i]);\n                }\n                s /= divisor;\n                cov[i][j] = s;\n                cov[j][i] = s;\n            }\n        }\n    } else if (dimension === 1) {\n        cov = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            cov[i] = new Array(rows);\n        }\n        for (i = 0; i < rows; i++) {\n            for (j = i; j < rows; j++) {\n                s = 0;\n                for (k = 0; k < cols; k++) {\n                    s += (matrix[j][k] - means[j]) * (matrix[i][k] - means[i]);\n                }\n                s /= divisor;\n                cov[i][j] = s;\n                cov[j][i] = s;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    return cov;\n};\n\nexports.correlation = function correlation(matrix) {\n    var means = exports.mean(matrix),\n        standardDeviations = exports.standardDeviation(matrix, true, means),\n        scores = exports.zScores(matrix, means, standardDeviations),\n        rows = matrix.length,\n        cols = matrix[0].length,\n        i, j;\n\n    var cor = new Array(cols);\n    for (i = 0; i < cols; i++) {\n        cor[i] = new Array(cols);\n    }\n    for (i = 0; i < cols; i++) {\n        for (j = i; j < cols; j++) {\n            var c = 0;\n            for (var k = 0, l = scores.length; k < l; k++) {\n                c += scores[k][j] * scores[k][i];\n            }\n            c /= rows - 1;\n            cor[i][j] = c;\n            cor[j][i] = c;\n        }\n    }\n    return cor;\n};\n\nexports.zScores = function zScores(matrix, means, standardDeviations) {\n    means = means || exports.mean(matrix);\n    if (typeof (standardDeviations) === 'undefined') standardDeviations = exports.standardDeviation(matrix, true, means);\n    return exports.standardize(exports.center(matrix, means, false), standardDeviations, true);\n};\n\nexports.center = function center(matrix, means, inPlace) {\n    means = means || exports.mean(matrix);\n    var result = matrix,\n        l = matrix.length,\n        i, j, jj;\n\n    if (!inPlace) {\n        result = new Array(l);\n        for (i = 0; i < l; i++) {\n            result[i] = new Array(matrix[i].length);\n        }\n    }\n\n    for (i = 0; i < l; i++) {\n        var row = result[i];\n        for (j = 0, jj = row.length; j < jj; j++) {\n            row[j] = matrix[i][j] - means[j];\n        }\n    }\n    return result;\n};\n\nexports.standardize = function standardize(matrix, standardDeviations, inPlace) {\n    if (typeof (standardDeviations) === 'undefined') standardDeviations = exports.standardDeviation(matrix);\n    var result = matrix,\n        l = matrix.length,\n        i, j, jj;\n\n    if (!inPlace) {\n        result = new Array(l);\n        for (i = 0; i < l; i++) {\n            result[i] = new Array(matrix[i].length);\n        }\n    }\n\n    for (i = 0; i < l; i++) {\n        var resultRow = result[i];\n        var sourceRow = matrix[i];\n        for (j = 0, jj = resultRow.length; j < jj; j++) {\n            if (standardDeviations[j] !== 0 && !isNaN(standardDeviations[j])) {\n                resultRow[j] = sourceRow[j] / standardDeviations[j];\n            }\n        }\n    }\n    return result;\n};\n\nexports.weightedVariance = function weightedVariance(matrix, weights) {\n    var means = exports.mean(matrix);\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length;\n    var vari = new Array(cols);\n\n    for (var j = 0; j < cols; j++) {\n        var sum = 0;\n        var a = 0, b = 0;\n\n        for (var i = 0; i < rows; i++) {\n            var z = matrix[i][j] - means[j];\n            var w = weights[i];\n\n            sum += w * (z * z);\n            b += w;\n            a += w * w;\n        }\n\n        vari[j] = sum * (b / (b * b - a));\n    }\n\n    return vari;\n};\n\nexports.weightedMean = function weightedMean(matrix, weights, dimension) {\n    if (typeof (dimension) === 'undefined') {\n        dimension = 0;\n    }\n    var rows = matrix.length;\n    if (rows === 0) return [];\n    var cols = matrix[0].length,\n        means, i, ii, j, w, row;\n\n    if (dimension === 0) {\n        means = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            means[i] = 0;\n        }\n        for (i = 0; i < rows; i++) {\n            row = matrix[i];\n            w = weights[i];\n            for (j = 0; j < cols; j++) {\n                means[j] += row[j] * w;\n            }\n        }\n    } else if (dimension === 1) {\n        means = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            means[i] = 0;\n        }\n        for (j = 0; j < rows; j++) {\n            row = matrix[j];\n            w = weights[j];\n            for (i = 0; i < cols; i++) {\n                means[j] += row[i] * w;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    var weightSum = arrayStat.sum(weights);\n    if (weightSum !== 0) {\n        for (i = 0, ii = means.length; i < ii; i++) {\n            means[i] /= weightSum;\n        }\n    }\n    return means;\n};\n\nexports.weightedCovariance = function weightedCovariance(matrix, weights, means, dimension) {\n    dimension = dimension || 0;\n    means = means || exports.weightedMean(matrix, weights, dimension);\n    var s1 = 0, s2 = 0;\n    for (var i = 0, ii = weights.length; i < ii; i++) {\n        s1 += weights[i];\n        s2 += weights[i] * weights[i];\n    }\n    var factor = s1 / (s1 * s1 - s2);\n    return exports.weightedScatter(matrix, weights, means, factor, dimension);\n};\n\nexports.weightedScatter = function weightedScatter(matrix, weights, means, factor, dimension) {\n    dimension = dimension || 0;\n    means = means || exports.weightedMean(matrix, weights, dimension);\n    if (typeof (factor) === 'undefined') {\n        factor = 1;\n    }\n    var rows = matrix.length;\n    if (rows === 0) {\n        return [[]];\n    }\n    var cols = matrix[0].length,\n        cov, i, j, k, s;\n\n    if (dimension === 0) {\n        cov = new Array(cols);\n        for (i = 0; i < cols; i++) {\n            cov[i] = new Array(cols);\n        }\n        for (i = 0; i < cols; i++) {\n            for (j = i; j < cols; j++) {\n                s = 0;\n                for (k = 0; k < rows; k++) {\n                    s += weights[k] * (matrix[k][j] - means[j]) * (matrix[k][i] - means[i]);\n                }\n                cov[i][j] = s * factor;\n                cov[j][i] = s * factor;\n            }\n        }\n    } else if (dimension === 1) {\n        cov = new Array(rows);\n        for (i = 0; i < rows; i++) {\n            cov[i] = new Array(rows);\n        }\n        for (i = 0; i < rows; i++) {\n            for (j = i; j < rows; j++) {\n                s = 0;\n                for (k = 0; k < cols; k++) {\n                    s += weights[k] * (matrix[j][k] - means[j]) * (matrix[i][k] - means[i]);\n                }\n                cov[i][j] = s * factor;\n                cov[j][i] = s * factor;\n            }\n        }\n    } else {\n        throw new Error('Invalid dimension');\n    }\n\n    return cov;\n};\n","/**\n * Fast Fourier Transform module\n * 1D-FFT/IFFT, 2D-FFT/IFFT (radix-2)\n */\nvar FFT = (function(){\n  var FFT;  \n  \n  if(typeof exports !== 'undefined') {\n    FFT = exports;   // for CommonJS\n  } else {\n    FFT = {};\n  }\n  \n  var version = {\n    release: '0.3.0',\n    date: '2013-03'\n  };\n  FFT.toString = function() {\n    return \"version \" + version.release + \", released \" + version.date;\n  };\n\n  // core operations\n  var _n = 0,          // order\n      _bitrev = null,  // bit reversal table\n      _cstb = null;    // sin/cos table\n\n  var core = {\n    init : function(n) {\n      if(n !== 0 && (n & (n - 1)) === 0) {\n        _n = n;\n        core._initArray();\n        core._makeBitReversalTable();\n        core._makeCosSinTable();\n      } else {\n        throw new Error(\"init: radix-2 required\");\n      }\n    },\n    // 1D-FFT\n    fft1d : function(re, im) {\n      core.fft(re, im, 1);\n    },\n    // 1D-IFFT\n    ifft1d : function(re, im) {\n      var n = 1/_n;\n      core.fft(re, im, -1);\n      for(var i=0; i<_n; i++) {\n        re[i] *= n;\n        im[i] *= n;\n      }\n    },\n     // 1D-IFFT\n    bt1d : function(re, im) {\n      core.fft(re, im, -1);\n    },\n    // 2D-FFT Not very useful if the number of rows have to be equal to cols\n    fft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.fft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.fft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // 2D-IFFT\n    ifft2d : function(re, im) {\n      var tre = [],\n          tim = [],\n          i = 0;\n      // x-axis\n      for(var y=0; y<_n; y++) {\n        i = y*_n;\n        for(var x1=0; x1<_n; x1++) {\n          tre[x1] = re[x1 + i];\n          tim[x1] = im[x1 + i];\n        }\n        core.ifft1d(tre, tim);\n        for(var x2=0; x2<_n; x2++) {\n          re[x2 + i] = tre[x2];\n          im[x2 + i] = tim[x2];\n        }\n      }\n      // y-axis\n      for(var x=0; x<_n; x++) {\n        for(var y1=0; y1<_n; y1++) {\n          i = x + y1*_n;\n          tre[y1] = re[i];\n          tim[y1] = im[i];\n        }\n        core.ifft1d(tre, tim);\n        for(var y2=0; y2<_n; y2++) {\n          i = x + y2*_n;\n          re[i] = tre[y2];\n          im[i] = tim[y2];\n        }\n      }\n    },\n    // core operation of FFT\n    fft : function(re, im, inv) {\n      var d, h, ik, m, tmp, wr, wi, xr, xi,\n          n4 = _n >> 2;\n      // bit reversal\n      for(var l=0; l<_n; l++) {\n        m = _bitrev[l];\n        if(l < m) {\n          tmp = re[l];\n          re[l] = re[m];\n          re[m] = tmp;\n          tmp = im[l];\n          im[l] = im[m];\n          im[m] = tmp;\n        }\n      }\n      // butterfly operation\n      for(var k=1; k<_n; k<<=1) {\n        h = 0;\n        d = _n/(k << 1);\n        for(var j=0; j<k; j++) {\n          wr = _cstb[h + n4];\n          wi = inv*_cstb[h];\n          for(var i=j; i<_n; i+=(k<<1)) {\n            ik = i + k;\n            xr = wr*re[ik] + wi*im[ik];\n            xi = wr*im[ik] - wi*re[ik];\n            re[ik] = re[i] - xr;\n            re[i] += xr;\n            im[ik] = im[i] - xi;\n            im[i] += xi;\n          }\n          h += d;\n        }\n      }\n    },\n    // initialize the array (supports TypedArray)\n    _initArray : function() {\n      if(typeof Uint32Array !== 'undefined') {\n        _bitrev = new Uint32Array(_n);\n      } else {\n        _bitrev = [];\n      }\n      if(typeof Float64Array !== 'undefined') {\n        _cstb = new Float64Array(_n*1.25);\n      } else {\n        _cstb = [];\n      }\n    },\n    // zero padding\n    _paddingZero : function() {\n      // TODO\n    },\n    // makes bit reversal table\n    _makeBitReversalTable : function() {\n      var i = 0,\n          j = 0,\n          k = 0;\n      _bitrev[0] = 0;\n      while(++i < _n) {\n        k = _n >> 1;\n        while(k <= j) {\n          j -= k;\n          k >>= 1;\n        }\n        j += k;\n        _bitrev[i] = j;\n      }\n    },\n    // makes trigonometiric function table\n    _makeCosSinTable : function() {\n      var n2 = _n >> 1,\n          n4 = _n >> 2,\n          n8 = _n >> 3,\n          n2p4 = n2 + n4,\n          t = Math.sin(Math.PI/_n),\n          dc = 2*t*t,\n          ds = Math.sqrt(dc*(2 - dc)),\n          c = _cstb[n4] = 1,\n          s = _cstb[0] = 0;\n      t = 2*dc;\n      for(var i=1; i<n8; i++) {\n        c -= dc;\n        dc += t*c;\n        s += ds;\n        ds -= t*s;\n        _cstb[i] = s;\n        _cstb[n4 - i] = c;\n      }\n      if(n8 !== 0) {\n        _cstb[n8] = Math.sqrt(0.5);\n      }\n      for(var j=0; j<n4; j++) {\n        _cstb[n2 - j]  = _cstb[j];\n      }\n      for(var k=0; k<n2p4; k++) {\n        _cstb[k + n2] = -_cstb[k];\n      }\n    }\n  };\n  // aliases (public APIs)\n  var apis = ['init', 'fft1d', 'ifft1d', 'fft2d', 'ifft2d'];\n  for(var i=0; i<apis.length; i++) {\n    FFT[apis[i]] = core[apis[i]];\n  }\n  FFT.bt = core.bt1d;\n  FFT.fft = core.fft1d;\n  FFT.ifft = core.ifft1d;\n  \n  return FFT;\n}).call(this);\n","// source: https://en.wikipedia.org/wiki/Gyromagnetic_ratio\n\nexport const gyromagneticRatio = {\n  '1H': 267.52218744e6,\n  '2H': 41.065e6,\n  '3H': 285.3508e6,\n  '3He': -203.789e6,\n  '7Li': 103.962e6,\n  '13C': 67.28284e6,\n  '14N': 19.331e6,\n  '15N': -27.116e6,\n  '17O': -36.264e6,\n  '19F': 251.662e6,\n  '23Na': 70.761e6,\n  '27Al': 69.763e6,\n  '29Si': -53.19e6,\n  '31P': 108.291e6,\n  '57Fe': 8.681e6,\n  '63Cu': 71.118e6,\n  '67Zn': 16.767e6,\n  '129Xe': -73.997e6,\n};\n","import { gyromagneticRatio } from 'nmr-processing';\n\nexport default function postProcessingNMR(entriesFlat) {\n  // specific NMR functions\n  let observeFrequency = 0;\n  let shiftOffsetVal = 0;\n\n  for (let entry of entriesFlat) {\n    for (let spectrum of entry.spectra) {\n      if (entry.ntuples && entry.ntuples.symbol) {\n        if (!observeFrequency && spectrum.observeFrequency) {\n          observeFrequency = spectrum.observeFrequency;\n        }\n        if (!shiftOffsetVal && spectrum.shiftOffsetVal) {\n          shiftOffsetVal = spectrum.shiftOffsetVal;\n        }\n      } else {\n        observeFrequency = spectrum.observeFrequency;\n        shiftOffsetVal = spectrum.shiftOffsetVal;\n      }\n\n      if (observeFrequency) {\n        if (spectrum.xUnits && spectrum.xUnits.toUpperCase().includes('HZ')) {\n          spectrum.xUnits = 'PPM';\n          spectrum.xFactor = spectrum.xFactor / observeFrequency;\n          spectrum.firstX = spectrum.firstX / observeFrequency;\n          spectrum.lastX = spectrum.lastX / observeFrequency;\n          spectrum.deltaX = spectrum.deltaX / observeFrequency;\n          for (let i = 0; i < spectrum.data.x.length; i++) {\n            spectrum.data.x[i] /= observeFrequency;\n          }\n        }\n      }\n      if (shiftOffsetVal) {\n        let shift = spectrum.firstX - shiftOffsetVal;\n        spectrum.firstX = spectrum.firstX - shift;\n        spectrum.lastX = spectrum.lastX - shift;\n        for (let i = 0; i < spectrum.data.x.length; i++) {\n          spectrum.data.x[i] -= shift;\n        }\n      }\n\n      if (\n        observeFrequency &&\n        entry.ntuples &&\n        entry.ntuples.symbol &&\n        entry.ntuples.nucleus\n      ) {\n        let unit = '';\n        let pageSymbolIndex = entry.ntuples.symbol.indexOf(spectrum.pageSymbol);\n        if (entry.ntuples.units && entry.ntuples.units[pageSymbolIndex]) {\n          unit = entry.ntuples.units[pageSymbolIndex];\n        }\n        if (unit !== 'PPM') {\n          if (pageSymbolIndex !== 0) {\n            throw Error('Not sure about this ntuples format');\n          }\n\n          let ratio0 = gyromagneticRatio[entry.ntuples.nucleus[0]];\n          let ratio1 = gyromagneticRatio[entry.ntuples.nucleus[1]];\n          if (!ratio0 || !ratio1) {\n            throw Error('Problem with determination of gyromagnetic ratio');\n          }\n          let ratio = (ratio0 / ratio1) * observeFrequency;\n          spectrum.pageValue /= ratio;\n        }\n      }\n    }\n  }\n}\n","export default function profiling(result, action, options) {\n  if (result.profiling) {\n    result.profiling.push({\n      action,\n      time: Date.now() - options.start,\n    });\n  }\n}\n","export default function simpleChromatogram(result) {\n  let data = result.spectra[0].data;\n  result.chromatogram = {\n    times: data.x.slice(),\n    series: {\n      intensity: {\n        dimension: 1,\n        data: data.y.slice(),\n      },\n    },\n  };\n}\n","import add2D from './2d/add2D';\nimport { complexChromatogram } from './complexChromatogram';\nimport postProcessingNMR from './postProcessingNMR';\nimport profiling from './profiling';\nimport simpleChromatogram from './simpleChromatogram';\n\nexport default function postProcessing(entriesFlat, result, options) {\n  // converting Hz to ppm\n  postProcessingNMR(entriesFlat);\n\n  for (let entry of entriesFlat) {\n    if (Object.keys(entry.ntuples).length > 0) {\n      let newNtuples = [];\n      let keys = Object.keys(entry.ntuples);\n      for (let i = 0; i < keys.length; i++) {\n        let key = keys[i];\n        let values = entry.ntuples[key];\n        for (let j = 0; j < values.length; j++) {\n          if (!newNtuples[j]) newNtuples[j] = {};\n          newNtuples[j][key] = values[j];\n        }\n      }\n      entry.ntuples = newNtuples;\n    }\n\n    if (entry.twoD && options.wantXY) {\n      add2D(entry, options);\n\n      profiling(result, 'Finished countour plot calculation', options);\n\n      if (!options.keepSpectra) {\n        delete entry.spectra;\n      }\n    }\n\n    // maybe it is a GC (HPLC) / MS. In this case we add a new format\n    if (options.chromatogram) {\n      if (entry.spectra.length > 1) {\n        complexChromatogram(entry);\n      } else {\n        simpleChromatogram(entry);\n      }\n      profiling(result, 'Finished chromatogram calculation', options);\n    }\n  }\n}\n","export default function prepareNtuplesDatatable(currentEntry, spectrum, kind) {\n  let xIndex = -1;\n  let yIndex = -1;\n  let firstVariable = '';\n  let secondVariable = '';\n  if (kind.indexOf('++') > 0) {\n    firstVariable = kind.replace(/.*\\(([a-zA-Z0-9]+)\\+\\+.*/, '$1');\n    secondVariable = kind.replace(/.*\\.\\.([a-zA-Z0-9]+).*/, '$1');\n  } else {\n    kind = kind.replace(/[^a-zA-Z]/g, '');\n    firstVariable = kind.charAt(0);\n    secondVariable = kind.charAt(1);\n    spectrum.variables = {};\n    for (let symbol of kind) {\n      let lowerCaseSymbol = symbol.toLowerCase();\n      let index = currentEntry.ntuples.symbol.indexOf(symbol);\n      if (index === -1) throw Error(`Symbol undefined: ${symbol}`);\n      spectrum.variables[lowerCaseSymbol] = {};\n      for (let key in currentEntry.ntuples) {\n        if (currentEntry.ntuples[key][index]) {\n          spectrum.variables[lowerCaseSymbol][key.replace(/^var/, '')] =\n            currentEntry.ntuples[key][index];\n        }\n      }\n    }\n  }\n  xIndex = currentEntry.ntuples.symbol.indexOf(firstVariable);\n  yIndex = currentEntry.ntuples.symbol.indexOf(secondVariable);\n\n  if (xIndex === -1) xIndex = 0;\n  if (yIndex === -1) yIndex = 0;\n\n  if (currentEntry.ntuples.first) {\n    if (currentEntry.ntuples.first.length > xIndex) {\n      spectrum.firstX = currentEntry.ntuples.first[xIndex];\n    }\n    if (currentEntry.ntuples.first.length > yIndex) {\n      spectrum.firstY = currentEntry.ntuples.first[yIndex];\n    }\n  }\n  if (currentEntry.ntuples.last) {\n    if (currentEntry.ntuples.last.length > xIndex) {\n      spectrum.lastX = currentEntry.ntuples.last[xIndex];\n    }\n    if (currentEntry.ntuples.last.length > yIndex) {\n      spectrum.lastY = currentEntry.ntuples.last[yIndex];\n    }\n  }\n  if (\n    currentEntry.ntuples.vardim &&\n    currentEntry.ntuples.vardim.length > xIndex\n  ) {\n    spectrum.nbPoints = currentEntry.ntuples.vardim[xIndex];\n  }\n  if (currentEntry.ntuples.factor) {\n    if (currentEntry.ntuples.factor.length > xIndex) {\n      spectrum.xFactor = currentEntry.ntuples.factor[xIndex];\n    }\n    if (currentEntry.ntuples.factor.length > yIndex) {\n      spectrum.yFactor = currentEntry.ntuples.factor[yIndex];\n    }\n  }\n  if (currentEntry.ntuples.units) {\n    if (currentEntry.ntuples.units.length > xIndex) {\n      if (\n        currentEntry.ntuples.varname &&\n        currentEntry.ntuples.varname[xIndex]\n      ) {\n        spectrum.xUnits = `${currentEntry.ntuples.varname[xIndex]} [${currentEntry.ntuples.units[xIndex]}]`;\n      } else {\n        spectrum.xUnits = currentEntry.ntuples.units[xIndex];\n      }\n    }\n    if (currentEntry.ntuples.units.length > yIndex) {\n      if (\n        currentEntry.ntuples.varname &&\n        currentEntry.ntuples.varname[yIndex]\n      ) {\n        spectrum.yUnits = `${currentEntry.ntuples.varname[yIndex]} [${currentEntry.ntuples.units[yIndex]}]`;\n      } else {\n        spectrum.yUnits = currentEntry.ntuples.units[yIndex];\n      }\n    }\n  }\n}\n","export default function prepareSpectrum(spectrum) {\n  if (!spectrum.xFactor) spectrum.xFactor = 1;\n  if (!spectrum.yFactor) spectrum.yFactor = 1;\n}\n","import { isMSField, convertMSFieldToLabel } from './complexChromatogram';\nimport convertToFloatArray from './convertToFloatArray';\nimport fastParseXYData from './parse/fastParseXYData';\nimport parsePeakTable from './parse/parsePeakTable';\nimport parseXYA from './parse/parseXYA';\nimport postProcessing from './postProcessing';\nimport prepareNtuplesDatatable from './prepareNtuplesDatatable';\nimport prepareSpectrum from './prepareSpectrum';\nimport profiling from './profiling';\n\n// the following RegExp can only be used for XYdata, some peakTables have values with a \"E-5\" ...\nconst ntuplesSeparator = /[ \\t]*,[ \\t]*/;\n\nclass Spectrum {}\n\nconst defaultOptions = {\n  keepRecordsRegExp: /^$/,\n  canonicDataLabels: true,\n  canonicMetadataLabels: false,\n  dynamicTyping: true,\n  withoutXY: false,\n  chromatogram: false,\n  keepSpectra: false,\n  noContour: false,\n  nbContourLevels: 7,\n  noiseMultiplier: 5,\n  profiling: false,\n};\n\n/**\n *\n * @param {text} jcamp\n * @param {object} [options]\n * @param {number} [options.keepRecordsRegExp=/^$/] By default we don't keep meta information\n * @param {number} [options.canonicDataLabels=true] Canonize the Labels (uppercase without symbol)\n * @param {number} [options.canonicMetadataLabels=false] Canonize the metadata Labels (uppercase without symbol)\n * @param {number} [options.dynamicTyping=false] Convert numbers to Number\n * @param {number} [options.withoutXY=false] Remove the XY data\n * @param {number} [options.chromatogram=false] Special post-processing for GC / HPLC / MS\n * @param {number} [options.keepSpectra=false] Force to keep the spectra in case of 2D\n * @param {number} [options.noContour=false] Don't calculate countour in case of 2D\n * @param {number} [options.nbContourLevels=7] Number of positive / negative contour levels to calculate\n * @param {number} [options.noiseMultiplier=5] Define for 2D the level as 5 times the median as default\n * @param {number} [options.profiling=false] Add profiling information\n */\n\nexport default function convert(jcamp, options = {}) {\n  options = Object.assign({}, defaultOptions, options);\n  options.wantXY = !options.withoutXY;\n  options.start = Date.now();\n\n  let entriesFlat = [];\n\n  let result = {\n    profiling: options.profiling ? [] : false,\n    logs: [],\n    entries: [],\n  };\n\n  let tmpResult = { children: [] };\n  let currentEntry = tmpResult;\n  let parentsStack = [];\n\n  let spectrum = new Spectrum();\n\n  if (typeof jcamp !== 'string') {\n    throw new TypeError('the JCAMP should be a string');\n  }\n\n  profiling(result, 'Before split to LDRS', options);\n\n  let ldrs = jcamp.replace(/[\\r\\n]+##/g, '\\n##').split('\\n##');\n\n  profiling(result, 'Split to LDRS', options);\n\n  if (ldrs[0]) ldrs[0] = ldrs[0].replace(/^[\\r\\n ]*##/, '');\n\n  for (let ldr of ldrs) {\n    // This is a new LDR\n    let position = ldr.indexOf('=');\n    let dataLabel = position > 0 ? ldr.substring(0, position) : ldr;\n    let dataValue = position > 0 ? ldr.substring(position + 1).trim() : '';\n\n    let canonicDataLabel = dataLabel.replace(/[_ -]/g, '').toUpperCase();\n\n    if (canonicDataLabel === 'DATATABLE') {\n      let endLine = dataValue.indexOf('\\n');\n      if (endLine === -1) endLine = dataValue.indexOf('\\r');\n      if (endLine > 0) {\n        // ##DATA TABLE= (X++(I..I)), XYDATA\n        // We need to find the variables\n\n        let infos = dataValue.substring(0, endLine).split(/[ ,;\\t]+/);\n        prepareNtuplesDatatable(currentEntry, spectrum, infos[0]);\n\n        spectrum.datatable = infos[0];\n        if (infos[1] && infos[1].indexOf('PEAKS') > -1) {\n          canonicDataLabel = 'PEAKTABLE';\n        } else if (\n          infos[1] &&\n          (infos[1].indexOf('XYDATA') || infos[0].indexOf('++') > 0)\n        ) {\n          canonicDataLabel = 'XYDATA';\n          spectrum.deltaX =\n            (spectrum.lastX - spectrum.firstX) / (spectrum.nbPoints - 1);\n        }\n      }\n    }\n\n    if (canonicDataLabel === 'XYDATA') {\n      if (options.wantXY) {\n        prepareSpectrum(spectrum);\n        // well apparently we should still consider it is a PEAK TABLE if there are no '++' after\n        if (dataValue.match(/.*\\+\\+.*/)) {\n          // ex: (X++(Y..Y))\n          if (!spectrum.deltaX) {\n            spectrum.deltaX =\n              (spectrum.lastX - spectrum.firstX) / (spectrum.nbPoints - 1);\n          }\n          fastParseXYData(spectrum, dataValue, result);\n        } else {\n          parsePeakTable(spectrum, dataValue, result);\n        }\n        currentEntry.spectra.push(spectrum);\n        spectrum = new Spectrum();\n      }\n      continue;\n    } else if (canonicDataLabel === 'PEAKTABLE') {\n      if (options.wantXY) {\n        prepareSpectrum(spectrum);\n        parsePeakTable(spectrum, dataValue, result);\n        currentEntry.spectra.push(spectrum);\n        spectrum = new Spectrum();\n      }\n      continue;\n    }\n    if (canonicDataLabel === 'PEAKASSIGNMENTS') {\n      if (options.wantXY) {\n        if (dataValue.match(/.*(XYA).*/)) {\n          // ex: (XYA)\n          parseXYA(spectrum, dataValue);\n        }\n        currentEntry.spectra.push(spectrum);\n        spectrum = new Spectrum();\n      }\n      continue;\n    }\n\n    if (canonicDataLabel === 'TITLE') {\n      let parentEntry = currentEntry;\n      if (!parentEntry.children) {\n        parentEntry.children = [];\n      }\n      currentEntry = {\n        spectra: [],\n        ntuples: {},\n        info: {},\n        meta: {},\n      };\n      parentEntry.children.push(currentEntry);\n      parentsStack.push(parentEntry);\n      entriesFlat.push(currentEntry);\n      currentEntry.title = dataValue;\n    } else if (canonicDataLabel === 'DATATYPE') {\n      currentEntry.dataType = dataValue;\n      if (dataValue.toLowerCase().indexOf('nd') > -1) {\n        currentEntry.twoD = true;\n      }\n    } else if (canonicDataLabel === 'NTUPLES') {\n      if (dataValue.toLowerCase().indexOf('nd') > -1) {\n        currentEntry.twoD = true;\n      }\n    } else if (canonicDataLabel === 'DATACLASS') {\n      currentEntry.dataClass = dataValue;\n    } else if (canonicDataLabel === 'XUNITS') {\n      spectrum.xUnits = dataValue;\n    } else if (canonicDataLabel === 'YUNITS') {\n      spectrum.yUnits = dataValue;\n    } else if (canonicDataLabel === 'FIRSTX') {\n      spectrum.firstX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'LASTX') {\n      spectrum.lastX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'FIRSTY') {\n      spectrum.firstY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'LASTY') {\n      spectrum.lastY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'NPOINTS') {\n      spectrum.nbPoints = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'XFACTOR') {\n      spectrum.xFactor = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'YFACTOR') {\n      spectrum.yFactor = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MAXX') {\n      spectrum.maxX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MINX') {\n      spectrum.minX = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MAXY') {\n      spectrum.maxY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'MINY') {\n      spectrum.minY = parseFloat(dataValue);\n    } else if (canonicDataLabel === 'DELTAX') {\n      spectrum.deltaX = parseFloat(dataValue);\n    } else if (\n      canonicDataLabel === '.OBSERVEFREQUENCY' ||\n      canonicDataLabel === '$SFO1'\n    ) {\n      if (!spectrum.observeFrequency) {\n        spectrum.observeFrequency = parseFloat(dataValue);\n      }\n    } else if (canonicDataLabel === '.OBSERVENUCLEUS') {\n      if (!spectrum.xType) {\n        currentEntry.xType = dataValue.replace(/[^a-zA-Z0-9]/g, '');\n      }\n    } else if (canonicDataLabel === '$OFFSET') {\n      // OFFSET for Bruker spectra\n      currentEntry.shiftOffsetNum = 0;\n      if (!spectrum.shiftOffsetVal) {\n        spectrum.shiftOffsetVal = parseFloat(dataValue);\n      }\n    } else if (canonicDataLabel === '$REFERENCEPOINT') {\n      // OFFSET for Varian spectra\n      // if we activate this part it does not work for ACD specmanager\n      //         } else if (canonicDataLabel=='.SHIFTREFERENCE') {   // OFFSET FOR Bruker Spectra\n      //                 var parts = dataValue.split(/ *, */);\n      //                 currentEntry.shiftOffsetNum = parseInt(parts[2].trim());\n      //                 spectrum.shiftOffsetVal = parseFloat(parts[3].trim());\n    } else if (canonicDataLabel === 'VARNAME') {\n      currentEntry.ntuples.varname = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'SYMBOL') {\n      currentEntry.ntuples.symbol = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'VARTYPE') {\n      currentEntry.ntuples.vartype = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'VARFORM') {\n      currentEntry.ntuples.varform = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'VARDIM') {\n      currentEntry.ntuples.vardim = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'UNITS') {\n      currentEntry.ntuples.units = dataValue.split(ntuplesSeparator);\n    } else if (canonicDataLabel === 'FACTOR') {\n      currentEntry.ntuples.factor = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'FIRST') {\n      currentEntry.ntuples.first = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'LAST') {\n      currentEntry.ntuples.last = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'MIN') {\n      currentEntry.ntuples.min = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === 'MAX') {\n      currentEntry.ntuples.max = convertToFloatArray(\n        dataValue.split(ntuplesSeparator),\n      );\n    } else if (canonicDataLabel === '.NUCLEUS') {\n      if (currentEntry.ntuples) {\n        currentEntry.ntuples.nucleus = dataValue.split(ntuplesSeparator);\n      }\n      if (currentEntry.twoD) {\n        currentEntry.yType = dataValue.split(ntuplesSeparator)[0];\n      }\n    } else if (canonicDataLabel === 'PAGE') {\n      spectrum.page = dataValue.trim();\n      spectrum.pageValue = parseFloat(dataValue.replace(/^.*=/, ''));\n      spectrum.pageSymbol = spectrum.page.replace(/[=].*/, '');\n    } else if (canonicDataLabel === 'RETENTIONTIME') {\n      spectrum.pageValue = parseFloat(dataValue);\n    } else if (isMSField(canonicDataLabel)) {\n      spectrum[convertMSFieldToLabel(canonicDataLabel)] = dataValue;\n    } else if (canonicDataLabel === 'SAMPLEDESCRIPTION') {\n      spectrum.sampleDescription = dataValue;\n    } else if (canonicDataLabel === 'END') {\n      currentEntry = parentsStack.pop();\n    }\n\n    if (\n      currentEntry &&\n      currentEntry.info &&\n      currentEntry.meta &&\n      canonicDataLabel.match(options.keepRecordsRegExp)\n    ) {\n      let value = dataValue.trim();\n      let target, label;\n      if (dataLabel.startsWith('$')) {\n        label = options.canonicMetadataLabels\n          ? canonicDataLabel.substring(1)\n          : dataLabel.substring(1);\n        target = currentEntry.meta;\n      } else {\n        label = options.canonicDataLabels ? canonicDataLabel : dataLabel;\n        target = currentEntry.info;\n      }\n\n      if (options.dynamicTyping) {\n        let parsedValue = Number.parseFloat(value);\n        if (!Number.isNaN(parsedValue)) value = parsedValue;\n      }\n      if (target[label]) {\n        if (!Array.isArray(target[label])) {\n          target[label] = [target[label]];\n        }\n        target[label].push(value);\n      } else {\n        target[label] = value;\n      }\n    }\n  }\n\n  profiling(result, 'Finished parsing', options);\n\n  postProcessing(entriesFlat, result, options);\n\n  profiling(result, 'Total time', options);\n\n  /*\n  if (result.children && result.children.length>0) {\n    result = { ...result, ...result.children[0] };\n  }\n  */\n  result.entries = tmpResult.children;\n  result.flatten = entriesFlat;\n\n  return result;\n}\n","import { convert } from 'jcampconverter';\n\nimport { Analysis } from '../Analysis';\n\n/**\n * Creates a new Analysis from a JCAMP string\n * @param {string} jcamp - String containing the JCAMP data\n * @param {object} [options={}]\n * @param {object} [options.id=Math.random()]\n * @param {string} [options.label=options.id] human redeable label\n * @return {Analysis} - New class element with the given data\n */\nexport function fromJcamp(jcamp, options = {}) {\n  let analysis = new Analysis(options);\n  addJcamp(analysis, jcamp, options);\n  return analysis;\n}\n\nfunction addJcamp(analysis, jcamp) {\n  let converted = convert(jcamp, {\n    keepRecordsRegExp: /.*/,\n  });\n\n  for (let entry of converted.flatten) {\n    let currentSpectrum = entry.spectra[0];\n\n    // we ensure variables\n    if (!currentSpectrum.variables) {\n      const variables = {};\n      currentSpectrum.variables = variables;\n      variables.x = {\n        label: currentSpectrum.xUnits,\n        symbol: 'X',\n        data: currentSpectrum.data.x || currentSpectrum.data.X,\n      };\n      variables.y = {\n        label: currentSpectrum.yUnits,\n        symbol: 'Y',\n        data: currentSpectrum.data.y || currentSpectrum.data.Y,\n      };\n    } else {\n      for (let key in currentSpectrum.variables) {\n        const variable = currentSpectrum.variables[key];\n        if (variable.label) continue;\n        variable.label = variable.name || variable.symbol || key;\n        if (variable.units && !variable.label.includes(variable.units)) {\n          variable.label += ` [${variable.units}]`;\n        }\n      }\n    }\n\n    analysis.pushSpectrum(currentSpectrum.variables, {\n      dataType: entry.dataType,\n      title: entry.title,\n      meta: entry.meta,\n    });\n  }\n}\n","export function addStyle(serie, spectrum, options = {}) {\n  const { color = 'darkgrey' } = options;\n  serie.style = [\n    {\n      name: 'unselected',\n      style: {\n        line: {\n          color,\n          width: 1,\n          dash: 1,\n        },\n      },\n    },\n    {\n      name: 'selected',\n      style: {\n        line: {\n          color,\n          width: 3,\n          dash: 1,\n        },\n      },\n    },\n  ];\n  serie.name = spectrum.label || spectrum.id;\n}\n","export const COLORS = [\n  '#FFB300',\n  '#803E75',\n  '#FF6800',\n  '#A6BDD7',\n  '#C10020',\n  '#CEA262',\n  '#817066',\n  '#007D34',\n  '#F6768E',\n  '#00538A',\n  '#FF7A5C',\n  '#53377A',\n  '#FF8E00',\n  '#B32851',\n  '#F4C800',\n  '#7F180D',\n  '#93AA00',\n  '#593315',\n  '#F13A13',\n  '#232C16',\n];\n","import { addStyle } from './addStyle';\nimport { COLORS } from './colors';\n/**\n * Generate a jsgraph chart format from an array of Analysis\n * @param {Array<Analysis>} analyses\n * @param {object} [options={}]\n * @param {Array} [options.ids] List of spectra ids, by all\n * @param {Array} [options.colors] List of colors\n * @param {object} [options.selector={}]\n * @param {object} [options.normalization]\n */\nexport function getJSGraph(analyses, options = {}) {\n  const { colors = COLORS, selector, normalization } = options;\n  let series = [];\n\n  let xLabel = '';\n  let yLabel = '';\n\n  for (let i = 0; i < analyses.length; i++) {\n    const analysis = analyses[i];\n    let serie = {};\n    let currentData = analysis.getNormalizedData({\n      selector,\n      normalization,\n    });\n    if (!currentData) continue;\n    if (!xLabel) xLabel = analysis.getXLabel(selector);\n    if (!yLabel) yLabel = analysis.getYLabel(selector);\n    addStyle(serie, analysis, { color: colors[i] });\n    serie.data = currentData;\n    series.push(serie);\n  }\n  return {\n    axes: {\n      x: {\n        label: xLabel,\n        unit: '',\n        unitWrapperBefore: '',\n        unitWrapperAfter: '',\n        flipped: false,\n        display: true,\n      },\n      y: {\n        label: yLabel,\n        unit: '',\n        unitWrapperBefore: '',\n        unitWrapperAfter: '',\n        flipped: false,\n        display: true,\n      },\n    },\n    series,\n  };\n}\n","export function getNormalizationAnnotations(filter = {}, boundary) {\n  let { exclusions = [] } = filter;\n  let annotations = [];\n  exclusions = exclusions.filter((exclusion) => !exclusion.ignore);\n  annotations = exclusions.map((exclusion) => {\n    let annotation = {\n      type: 'rect',\n      position: [\n        { x: exclusion.from, y: boundary.y.min },\n        { x: exclusion.to, y: boundary.y.max },\n      ],\n      strokeWidth: 0,\n      fillColor: 'rgba(255,255,224,1)',\n    };\n    return annotation;\n  });\n  if (filter.from !== undefined) {\n    annotations.push({\n      type: 'rect',\n      position: [\n        { x: Number.MIN_SAFE_INTEGER, y: boundary.y.min },\n        { x: filter.from, y: boundary.y.max },\n      ],\n      strokeWidth: 0,\n      fillColor: 'rgba(255,255,224,1)',\n    });\n  }\n  if (filter.to !== undefined) {\n    annotations.push({\n      type: 'rect',\n      position: [\n        { x: filter.to, y: boundary.y.min },\n        { x: Number.MAX_SAFE_INTEGER, y: boundary.y.max },\n      ],\n      strokeWidth: 0,\n      fillColor: 'rgba(255,255,224,1)',\n    });\n  }\n  return annotations;\n}\n","import maxFct from 'ml-array-max';\nimport minFct from 'ml-array-min';\n\n/**\n * Parse from a xyxy data array\n * @param {Array<Array<number>>} variables\n * @param {object} [meta] - same metadata object format that the fromText\n * @return {string} JCAMP of the input\n */\nexport default function creatorNtuples(variables, options) {\n  const { meta = {}, info = {} } = options;\n\n  const { title = '', owner = '', origin = '', dataType = '' } = info;\n\n  const symbol = [];\n  const varName = [];\n  const varType = [];\n  const varDim = [];\n  const units = [];\n  const first = [];\n  const last = [];\n  const min = [];\n  const max = [];\n  const factor = [];\n\n  const keys = Object.keys(variables);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    let variable = variables[key];\n\n    let name = variable.label && variable.label.replace(/ *\\[.*/, '');\n    let unit = variable.label && variable.label.replace(/.*\\[(.*)\\].*/, '$1');\n\n    symbol.push(variable.symbol || key);\n    varName.push(variable.name || name || key);\n    varDim.push(variables[key].data.length);\n\n    varType.push(\n      variable.type\n        ? variable.type.toUpperCase()\n        : i === 0\n        ? 'INDEPENDENT'\n        : 'DEPENDENT',\n    );\n    units.push(variable.units || unit || '');\n    first.push(variables[key][0]);\n    last.push(variables[key][variables[key].length - 1]);\n    min.push(minFct(variables[key].data));\n    max.push(maxFct(variables[key].data));\n    factor.push(1);\n  }\n\n  let header = `##TITLE=${title}\n##JCAMP-DX=6.00\n##DATA TYPE=${dataType}\n##ORIGIN=${origin}\n##OWNER=${owner}\\n`;\n\n  for (const key of Object.keys(meta)) {\n    header += `##$${key}=${meta[key]}\\n`;\n  }\n\n  header += `##NTUPLES= ${dataType}\n##VAR_NAME=  ${varName.join()}\n##SYMBOL=    ${symbol.join()}\n##VAR_TYPE=  ${varType.join()}\n##VAR_DIM=   ${varDim.join()}\n##UNITS=     ${units.join()}\n##PAGE= N=1\\n`;\n\n  header += `##DATA TABLE= (${symbol.join('')}..${symbol.join('')}), PEAKS\\n`;\n\n  for (let i = 0; i < variables[keys[0]].data.length; i++) {\n    let point = [];\n    for (let key of keys) {\n      point.push(variables[key].data[i]);\n    }\n    header += `${point.join('\\t')}\\n`;\n  }\n\n  header += '##END';\n  return header;\n}\n","/**\n * Create a jcamp\n * @param {object} data - object of array\n * @param {object} [options={}] - metadata object\n * @param {string} [options.info={}] - metadata of the file\n * @param {string} [options.info.title = ''] - title of the file\n * @param {string} [options.info.owner = ''] - owner of the file\n * @param {string} [options.info.origin = ''] - origin of the file\n * @param {string} [options.info.dataType = ''] - type of data\n * @param {string} [options.info.xUnits = ''] - units for the x axis for variables===undefined\n * @param {string} [options.info.yUnits = ''] - units for the y axis for variables===undefined\n * @param {object} [options.meta = {}] - comments to add to the file\n\n * @return {string} JCAMP of the input\n */\nexport function fromJSON(data, options = {}) {\n  const { meta = {}, info = {} } = options;\n\n  const {\n    title = '',\n    owner = '',\n    origin = '',\n    dataType = '',\n    xUnits = '',\n    yUnits = '',\n  } = info;\n  let firstX = Number.POSITIVE_INFINITY;\n  let lastX = Number.NEGATIVE_INFINITY;\n  let firstY = Number.POSITIVE_INFINITY;\n  let lastY = Number.NEGATIVE_INFINITY;\n  let points = [];\n\n  for (let i = 0; i < data.x.length; i++) {\n    let x = data.x[i];\n    let y = data.y[i];\n    if (firstX > x) {\n      firstX = x;\n    }\n    if (lastX < x) {\n      lastX = x;\n    }\n    if (firstY > y) {\n      firstY = y;\n    }\n    if (lastY < y) {\n      lastY = y;\n    }\n    points.push(`${x} ${y}`);\n  }\n\n  let header = `##TITLE=${title}\n##JCAMP-DX=4.24\n##DATA TYPE=${dataType}\n##ORIGIN=${origin}\n##OWNER=${owner}\n##XUNITS=${xUnits}\n##YUNITS=${yUnits}\n##FIRSTX=${firstX}\n##LASTX=${lastX}\n##FIRSTY=${firstY}\n##LASTY=${lastY}\\n`;\n\n  for (const key of Object.keys(meta)) {\n    header += `##$${key}=${meta[key]}\\n`;\n  }\n\n  // we leave the header and utf8 fonts ${header.replace(/[^\\t\\r\\n\\x20-\\x7F]/g, '')\n\n  return `${header}##NPOINTS=${points.length}\n##PEAK TABLE=(XY..XY)\n${points.join('\\n')}\n##END`;\n}\n","import creatorNtuples from './creatorNtuples';\nimport { fromJSON } from './fromJSON';\n\n/**\n * Create a jcamp from variables\n * @param {Array<Variable} [variables={}] - object of variables\n * @param {string} [options.info={}] - metadata of the file\n * @param {string} [options.info.title = ''] - title of the file\n * @param {string} [options.info.owner = ''] - owner of the file\n * @param {string} [options.info.origin = ''] - origin of the file\n * @param {string} [options.info.dataType = ''] - type of data\n * @param {object} [options.meta = {}] - comments to add to the file\n * @param {object} [options.forceNtuples = false] - force the ntuples format even if there is only x and y variables\n */\nexport function fromVariables(variables = {}, options = {}) {\n  const { info, meta, forceNtuples } = options;\n\n  let jcampOptions = {\n    info,\n    meta,\n  };\n\n  let keys = Object.keys(variables).map((key) => key.toLowerCase());\n  if (\n    keys.length === 2 &&\n    keys.includes('x') &&\n    keys.includes('y') &&\n    !forceNtuples\n  ) {\n    let x = variables.x;\n    let xLabel = x.label || x.name || 'x';\n\n    jcampOptions.info.xUnits = xLabel.includes(variables.x.units)\n      ? xLabel\n      : `${xLabel} [${variables.x.units}]`;\n\n    let y = variables.y;\n    let yLabel = y.label || y.name || 'y';\n\n    jcampOptions.info.yUnits = yLabel.includes(variables.y.units)\n      ? yLabel\n      : `${yLabel} [${variables.y.units}]`;\n    return fromJSON({ x: variables.x.data, y: variables.y.data }, jcampOptions);\n  } else {\n    return creatorNtuples(variables, options);\n  }\n}\n","import { fromVariables } from 'convert-to-jcamp';\n\nexport function toJcamp(analysis, options = {}) {\n  let jcamps = [];\n  for (let spectrum of analysis.spectra) {\n    jcamps.push(getJcamp(spectrum, options));\n  }\n  return jcamps.join('\\n');\n}\n\nfunction getJcamp(spectrum, options) {\n  const { info = {}, meta = {} } = options;\n\n  let jcampOptions = {\n    options: {},\n    info: {\n      title: spectrum.title,\n      dataType: spectrum.dataType,\n      ...info,\n    },\n    meta: { ...spectrum.meta, ...meta },\n  };\n\n  return fromVariables(spectrum.variables, jcampOptions);\n}\n","export function parsePerkinElmer(text) {\n  let lines = text.split(/[\\r\\n]+/);\n  let result = { meta: {}, data: { time: [], weight: [], temperature: [] } };\n  let section = '';\n  let inMethodSteps = false;\n  for (let line of lines) {\n    if (inMethodSteps) {\n      if (line.startsWith('1) TGA')) {\n        inMethodSteps = false;\n      } else {\n        if (!result.meta['Method Steps']) result.meta['Method Steps'] = '';\n        result.meta['Method Steps'] += `${line.replace(/\\t/g, '  ')}\\n`;\n      }\n    } else if (line.match(/^[a-zA-Z -]+$/)) {\n      section = trim(line);\n    } else if (line.match(/.*:.*/)) {\n      let position = line.indexOf(':');\n      let description = line.substring(0, position);\n      let value = trim(line.substring(position + 1));\n      result.meta[(section ? `${section}_` : '') + description] = value;\n    } else if (line.match(/^[0-9\\t .]+$/)) {\n      let fields = line.replace(/^\\t/, '').split('\\t');\n      result.data.time.push(Number(fields[0] * 60));\n      result.data.weight.push(Number(fields[1]));\n      result.data.temperature.push(Number(fields[4]));\n    } else {\n      //  console.log('Problem: ', line);\n    }\n    if (line.startsWith('Method Steps:')) {\n      inMethodSteps = true;\n    }\n  }\n  return result;\n}\nfunction trim(string) {\n  return string.replace(/^[ \\t]*(.*?)[ \\t]*$/, '$1');\n}\n","import { Analysis } from '..';\n\nimport { parsePerkinElmer } from './parsePerkinElmer';\n\n/**\n * Creates a new Chromatogram element based in a JCAMP string\n * @param {string} text - String containing the JCAMP data\n * @return {Analysis} - New class element with the given data\n */\nexport function fromPerkinElmer(text) {\n  let analysis = new Analysis();\n  let spectrum = parsePerkinElmer(text);\n\n  analysis.pushSpectrum(\n    {\n      x: {\n        data: spectrum.data.temperature,\n        label: 'Temperature [C]',\n      },\n      y: {\n        data: spectrum.data.weight,\n        label: 'Weight [mg]',\n      },\n    },\n    {\n      dataType: 'TGA',\n      title: spectrum.meta['Sample ID'],\n      meta: spectrum.meta,\n    },\n  );\n  analysis.pushSpectrum(\n    {\n      x: {\n        data: spectrum.data.time,\n        label: 'Time [s]',\n      },\n      y: {\n        data: spectrum.data.weight,\n        label: 'Weight [mg]',\n      },\n    },\n    {\n      dataType: 'TGA',\n      title: spectrum.meta['Sample ID'],\n      meta: spectrum.meta,\n    },\n  );\n  return analysis;\n}\n","/* @license\nPapa Parse\nv5.2.0\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n!function(e,t){\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof module&&\"undefined\"!=typeof exports?module.exports=t():e.Papa=t()}(this,function s(){\"use strict\";var f=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==f?f:{};var n=!f.document&&!!f.postMessage,o=n&&/blob:/i.test((f.location||{}).protocol),a={},h=0,b={parse:function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,t.worker&&b.WORKERS_SUPPORTED){var r=function(){if(!b.WORKERS_SUPPORTED)return!1;var e=(i=f.URL||f.webkitURL||null,r=s.toString(),b.BLOB_URL||(b.BLOB_URL=i.createObjectURL(new Blob([\"(\",r,\")();\"],{type:\"text/javascript\"})))),t=new f.Worker(e);var i,r;return t.onmessage=_,t.id=h++,a[t.id]=t}();return r.userStep=t.step,r.userChunk=t.chunk,r.userComplete=t.complete,r.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,void r.postMessage({input:e,config:t,workerId:r.id})}var n=null;b.NODE_STREAM_INPUT,\"string\"==typeof e?n=t.download?new l(t):new p(t):!0===e.readable&&U(e.read)&&U(e.on)?n=new g(t):(f.File&&e instanceof File||e instanceof Object)&&(n=new c(t));return n.stream(e)},unparse:function(e,t){var n=!1,_=!0,m=\",\",v=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null;!function(){if(\"object\"!=typeof t)return;\"string\"!=typeof t.delimiter||b.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter);(\"boolean\"==typeof t.quotes||\"function\"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes);\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines);\"string\"==typeof t.newline&&(v=t.newline);\"string\"==typeof t.quoteChar&&(s=t.quoteChar);\"boolean\"==typeof t.header&&(_=t.header);if(Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s)}();var o=new RegExp(q(s),\"g\");\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||h(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:h(e.data[0])),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function h(e){if(\"object\"!=typeof e)return[];var t=[];for(var i in e)t.push(i);return t}function u(e,t,i){var r=\"\";\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t));var n=Array.isArray(e)&&0<e.length,s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=y(e[a],a);0<t.length&&(r+=v)}for(var o=0;o<t.length;o++){var h=n?e.length:t[o].length,u=!1,f=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var d=[],l=0;l<h;l++){var c=s?e[l]:l;d.push(t[o][c])}u=\"\"===d.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!f&&(r+=m);var g=n&&s?e[p]:p;r+=y(t[o][g],p)}o<t.length-1&&(!i||0<h&&!f)&&(r+=v)}}return r}function y(e,t){if(null==e)return\"\";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=e.toString().replace(o,a),r=\"boolean\"==typeof n&&n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1}(i,b.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1);return r?s+i+s:i}}};if(b.RECORD_SEP=String.fromCharCode(30),b.UNIT_SEP=String.fromCharCode(31),b.BYTE_ORDER_MARK=\"\\ufeff\",b.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',b.BYTE_ORDER_MARK],b.WORKERS_SUPPORTED=!n&&!!f.Worker,b.NODE_STREAM_INPUT=1,b.LocalChunkSize=10485760,b.RemoteChunkSize=5242880,b.DefaultDelimiter=\",\",b.Parser=w,b.ParserHandle=i,b.NetworkStreamer=l,b.FileStreamer=c,b.StringStreamer=p,b.ReadableStreamStreamer=g,f.jQuery){var d=f.jQuery;d.fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&f.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0!==h.length){var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},b.parse(n.file,n.instanceConfig)}else U(o.complete)&&o.complete()}function u(){h.splice(0,1),e()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=E(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&U(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(e);void 0!==i&&(e=i)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine=\"\";var n=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=n.meta.cursor;this._finished||(this._partialLine=r.substring(s-this._baseIndex),this._baseIndex=s),n&&n.data&&(this._rowCount+=n.data.length);var a=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)f.postMessage({results:n,workerId:b.WORKER_ID,finished:a});else if(U(this._config.chunk)&&!t){if(this._config.chunk(n,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);n=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(n.data),this._completeResults.errors=this._completeResults.errors.concat(n.errors),this._completeResults.meta=n.meta),this._completed||!a||!U(this._config.complete)||n&&n.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||n&&n.meta.paused||this._nextChunk(),n}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):o&&this._config.error&&f.postMessage({workerId:b.WORKER_ID,error:e,finished:!1})}}function l(e){var r;(e=e||{}).chunkSize||(e.chunkSize=b.RemoteChunkSize),u.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),n||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var t in e)r.setRequestHeader(t,e[t])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i)}try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:r.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader(\"Content-Range\");if(null===t)return-1;return parseInt(t.substring(t.lastIndexOf(\"/\")+1))}(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){var t=r.statusText||e;this._sendError(new Error(t))}}function c(e){var r,n;(e=e||{}).chunkSize||(e.chunkSize=b.LocalChunkSize),u.call(this,e);var s=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,s?((r=new FileReader).onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)):r=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var t=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,t)}var i=r.readAsText(e,this._config.encoding);s||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(r.error)}}function p(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,t=this._config.chunkSize;return t?(e=i.substring(0,t),i=i.substring(t)):(e=i,i=\"\"),this._finished=!i,this.parseChunk(e)}}}function g(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var a,o,h,r=Math.pow(2,53),n=-r,s=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)(e[-+]?\\d+)?\\s*$/,u=/(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))/,t=this,i=0,f=0,d=!1,e=!1,l=[],c={data:[],errors:[],meta:{}};if(U(m.step)){var p=m.step;m.step=function(e){if(c=e,_())g();else{if(g(),0===c.data.length)return;i+=e.data.length,m.preview&&i>m.preview?o.abort():(c.data=c.data[0],p(c,t))}}}function v(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(c&&h&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+b.DefaultDelimiter+\"'\"),h=!1),m.skipEmptyLines)for(var e=0;e<c.data.length;e++)v(c.data[e])&&c.data.splice(e--,1);return _()&&function(){if(!c)return;function e(e){U(m.transformHeader)&&(e=m.transformHeader(e)),l.push(e)}if(Array.isArray(c.data[0])){for(var t=0;_()&&t<c.data.length;t++)c.data[t].forEach(e);c.data.splice(0,1)}else c.data.forEach(e)}(),function(){if(!c||!m.header&&!m.dynamicTyping&&!m.transform)return c;function e(e,t){var i,r=m.header?{}:[];for(i=0;i<e.length;i++){var n=i,s=e[i];m.header&&(n=i>=l.length?\"__parsed_extra\":l[i]),m.transform&&(s=m.transform(s,n)),s=y(n,s),\"__parsed_extra\"===n?(r[n]=r[n]||[],r[n].push(s)):r[n]=s}return m.header&&(i>l.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+l.length+\" fields but parsed \"+i,f+t):i<l.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+l.length+\" fields but parsed \"+i,f+t)),r}var t=1;!c.data.length||Array.isArray(c.data[0])?(c.data=c.data.map(e),t=c.data.length):c.data=e(c.data,0);m.header&&c.meta&&(c.meta.fields=l);return f+=t,c}()}function _(){return m.header&&0===l.length}function y(e,t){return i=e,m.dynamicTypingFunction&&void 0===m.dynamicTyping[i]&&(m.dynamicTyping[i]=m.dynamicTypingFunction(i)),!0===(m.dynamicTyping[i]||m.dynamicTyping)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&(function(e){if(s.test(e)){var t=parseFloat(e);if(n<t&&t<r)return!0}return!1}(t)?parseFloat(t):u.test(t)?new Date(t):\"\"===t?null:t):t;var i}function k(e,t,i,r){var n={type:e,code:t,message:i};void 0!==r&&(n.row=r),c.errors.push(n)}this.parse=function(e,t,i){var r=m.quoteChar||'\"';if(m.newline||(m.newline=function(e,t){e=e.substring(0,1048576);var i=new RegExp(q(t)+\"([^]*?)\"+q(t),\"gm\"),r=(e=e.replace(i,\"\")).split(\"\\r\"),n=e.split(\"\\n\"),s=1<n.length&&n[0].length<r[0].length;if(1===r.length||s)return\"\\n\";for(var a=0,o=0;o<r.length;o++)\"\\n\"===r[o][0]&&a++;return a>=r.length/2?\"\\r\\n\":\"\\r\"}(e,r)),h=!1,m.delimiter)U(m.delimiter)&&(m.delimiter=m.delimiter(e),c.meta.delimiter=m.delimiter);else{var n=function(e,t,i,r,n){var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",b.RECORD_SEP,b.UNIT_SEP];for(var u=0;u<n.length;u++){var f=n[u],d=0,l=0,c=0;o=void 0;for(var p=new w({comments:r,delimiter:f,newline:t,preview:10}).parse(e),g=0;g<p.data.length;g++)if(i&&v(p.data[g]))c++;else{var _=p.data[g].length;l+=_,void 0!==o?0<_&&(d+=Math.abs(_-o),o=_):o=_}0<p.data.length&&(l/=p.data.length-c),(void 0===a||d<=a)&&(void 0===h||h<l)&&1.99<l&&(a=d,s=f,h=l)}return{successful:!!(m.delimiter=s),bestDelimiter:s}}(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);n.successful?m.delimiter=n.bestDelimiter:(h=!0,m.delimiter=b.DefaultDelimiter),c.meta.delimiter=m.delimiter}var s=E(m);return m.preview&&m.header&&s.preview++,a=e,o=new w(s),c=o.parse(a,t,i),g(),d?{meta:{paused:!0}}:c||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,o.abort(),a=U(m.chunk)?\"\":a.substring(o.getCharIndex())},this.resume=function(){t.streamer._halted?(d=!1,t.streamer.parseChunk(a,!0)):setTimeout(t.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,o.abort(),c.meta.aborted=!0,U(m.complete)&&m.complete(c),a=\"\"}}function q(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function w(e){var O,D=(e=e||{}).delimiter,I=e.newline,T=e.comments,A=e.step,L=e.preview,F=e.fastMode,z=O=void 0===e.quoteChar?'\"':e.quoteChar;if(void 0!==e.escapeChar&&(z=e.escapeChar),(\"string\"!=typeof D||-1<b.BAD_DELIMITERS.indexOf(D))&&(D=\",\"),T===D)throw new Error(\"Comment character same as delimiter\");!0===T?T=\"#\":(\"string\"!=typeof T||-1<b.BAD_DELIMITERS.indexOf(T))&&(T=!1),\"\\n\"!==I&&\"\\r\"!==I&&\"\\r\\n\"!==I&&(I=\"\\n\");var M=0,j=!1;this.parse=function(a,t,i){if(\"string\"!=typeof a)throw new Error(\"Input must be a string\");var r=a.length,e=D.length,n=I.length,s=T.length,o=U(A),h=[],u=[],f=[],d=M=0;if(!a)return R();if(F||!1!==F&&-1===a.indexOf(O)){for(var l=a.split(I),c=0;c<l.length;c++){if(f=l[c],M+=f.length,c!==l.length-1)M+=I.length;else if(i)return R();if(!T||f.substring(0,s)!==T){if(o){if(h=[],b(f.split(D)),S(),j)return R()}else b(f.split(D));if(L&&L<=c)return h=h.slice(0,L),R(!0)}}return R()}for(var p=a.indexOf(D,M),g=a.indexOf(I,M),_=new RegExp(q(z)+q(O),\"g\"),m=a.indexOf(O,M);;)if(a[M]!==O)if(T&&0===f.length&&a.substring(M,M+s)===T){if(-1===g)return R();M=g+n,g=a.indexOf(I,M),p=a.indexOf(D,M)}else{if(-1!==p&&(p<g||-1===g)){if(!(p<m)){f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}var v=x(p,m,g);if(v&&void 0!==v.nextDelim){p=v.nextDelim,m=v.quoteSearch,f.push(a.substring(M,p)),M=p+e,p=a.indexOf(D,M);continue}}if(-1===g)break;if(f.push(a.substring(M,g)),C(g+n),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0)}else for(m=M,M++;;){if(-1===(m=a.indexOf(O,m+1)))return i||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:M}),E();if(m===r-1)return E(a.substring(M,m).replace(_,O));if(O!==z||a[m+1]!==z){if(O===z||0===m||a[m-1]!==z){-1!==p&&p<m+1&&(p=a.indexOf(D,m+1)),-1!==g&&g<m+1&&(g=a.indexOf(I,m+1));var y=w(-1===g?p:Math.min(p,g));if(a[m+1+y]===D){f.push(a.substring(M,m).replace(_,O)),a[M=m+1+y+e]!==O&&(m=a.indexOf(O,M)),p=a.indexOf(D,M),g=a.indexOf(I,M);break}var k=w(g);if(a.substring(m+1+k,m+1+k+n)===I){if(f.push(a.substring(M,m).replace(_,O)),C(m+1+k+n),p=a.indexOf(D,M),m=a.indexOf(O,M),o&&(S(),j))return R();if(L&&h.length>=L)return R(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:M}),m++}}else m++}return E();function b(e){h.push(e),d=M}function w(e){var t=0;if(-1!==e){var i=a.substring(m+1,e);i&&\"\"===i.trim()&&(t=i.length)}return t}function E(e){return i||(void 0===e&&(e=a.substring(M)),f.push(e),M=r,b(f),o&&S()),R()}function C(e){M=e,b(f),f=[],g=a.indexOf(I,M)}function R(e){return{data:h,errors:u,meta:{delimiter:D,linebreak:I,aborted:j,truncated:!!e,cursor:d+(t||0)}}}function S(){A(R()),h=[],u=[]}function x(e,t,i){var r={nextDelim:void 0,quoteSearch:void 0},n=a.indexOf(O,t+1);if(t<e&&e<n&&(n<i||-1===i)){var s=a.indexOf(D,n);if(-1===s)return r;n<s&&(n=a.indexOf(O,n+1)),r=x(s,n,i)}else r={nextDelim:e,quoteSearch:t};return r}},this.abort=function(){j=!0},this.getCharIndex=function(){return M}}function _(e){var t=e.data,i=a[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,m(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:v,resume:v};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&m(t.workerId,t.results)}function m(e,t){var i=a[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete a[e]}function v(){throw new Error(\"Not implemented.\")}function E(e){if(\"object\"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var i in e)t[i]=E(e[i]);return t}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return o&&(f.onmessage=function(e){var t=e.data;void 0===b.WORKER_ID&&t&&(b.WORKER_ID=t.workerId);if(\"string\"==typeof t.input)f.postMessage({workerId:b.WORKER_ID,results:b.parse(t.input,t.config),finished:!0});else if(f.File&&t.input instanceof File||t.input instanceof Object){var i=b.parse(t.input,t.config);i&&f.postMessage({workerId:b.WORKER_ID,results:i,finished:!0})}}),(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(u.prototype)).constructor=c,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(u.prototype)).constructor=g,b});","import Papa from 'papaparse';\n\nimport { Analysis } from '..';\n\n/**\n * Creates a new Chromatogram element based in a JCAMP string\n * @param {string} text - String containing the JCAMP data\n * @return {Analysis} - New class element with the given data\n */\nexport function fromPerkinElmerCSV(text) {\n  let parsed = Papa.parse(text, {\n    skipEmptyLines: true,\n    header: true,\n    dynamicTyping: true,\n  }).data;\n\n  let analysis = new Analysis();\n  analysis.pushSpectrum(\n    {\n      x: {\n        data: parsed.map((d) => d['Sample Temperature']),\n        label: 'Sample temperature [C]',\n        type: 'dependent',\n      },\n      y: {\n        data: parsed.map((d) => d['Unsubtracted Weight']),\n        label: 'Weight [mg]',\n        type: 'dependent',\n      },\n      p: {\n        data: parsed.map((d) => d['Program Temperature']),\n        label: 'Program temperature [C]',\n        type: 'dependent',\n      },\n      t: {\n        data: parsed.map((d) => d.Time),\n        label: 'Time [s]',\n        type: 'independent',\n      },\n    },\n    { dataType: 'TGA' },\n  );\n\n  return analysis;\n}\n","export function parseTAInstruments(text) {\n  let lines = text.split(/\\r?\\n/).filter((line) => !line.match(/^\\s*$/));\n\n  let meta = parseMeta(lines);\n  let parsed = lines\n    .slice(meta.dataStart, lines.length)\n    .filter((line) => !line.startsWith('-'))\n    .map((line) => line.split(/\\s+/).map(Number));\n\n  meta.balancePurgeFlow = [];\n  meta.samplePurgeFlow = [];\n  // We now assume that we always have 5 columns in the same order ...\n  let result = {\n    meta: meta,\n    data: {\n      time: [],\n      weight: [],\n      temperature: [],\n    },\n  };\n  result.data.time = parsed.map((fields) => fields[0]);\n  result.data.temperature = parsed.map((fields) => fields[1]);\n  result.data.weight = parsed.map((fields) => fields[2]);\n  result.meta.balancePurgeFlow = parsed.map((fields) => fields[3]);\n  result.meta.samplePurgeFlow = parsed.map((fields) => fields[4]);\n\n  return result;\n}\n\nfunction splitTrim(string, item = 1) {\n  return string.split(/\\t/)[item].replace(/^[ \\t]*(.*?)[ \\t]*$/, '$1');\n}\n\nfunction parseMeta(lines) {\n  let meta = { comments: [], methodSteps: [] };\n  for (let [i, line] of lines.entries()) {\n    if (line.match(/^Instrument/)) {\n      meta.instrument = splitTrim(line);\n    } else if (line.match(/^InstSerial/)) {\n      meta.instrumentSerial = splitTrim(line);\n    } else if (line.match(/^Sample/)) {\n      meta.sampleName = splitTrim(line);\n    } else if (line.match(/^Size/)) {\n      meta.weight = parseFloat(splitTrim(line));\n      meta.weightUnit = splitTrim(line, 2);\n    } else if (line.match(/^Xcomment|^Comment/)) {\n      meta.comments.push(splitTrim(line));\n    } else if (line.match(/^Method/)) {\n      meta.method = splitTrim(line);\n    } else if (line.match(/^Mode/)) {\n      meta.mode = splitTrim(line);\n    } else if (line.match(/^File/)) {\n      meta.file = splitTrim(line);\n    } else if (line.match(/^Date/)) {\n      meta.date = splitTrim(line);\n    } else if (line.match(/^Time/)) {\n      meta.time = splitTrim(line);\n    } else if (line.match(/^OrgMethod/)) {\n      meta.methodSteps.push(splitTrim(line));\n    } else if (line.match(/^Controls/)) {\n      meta.controls = splitTrim(line);\n    } else if (line.match(/^FurnaceType/)) {\n      meta.furnaceType = splitTrim(line);\n    } else if (line.match(/^Operator/)) {\n      meta.operator = splitTrim(line);\n    } else if (line.match(/^RunSerial/)) {\n      meta.runSerial = splitTrim(line);\n    } else if (line.match(/^ProcName/)) {\n      meta.procName = splitTrim(line);\n    } else if (line.match(/^StartOfData/)) {\n      meta.dataStart = i + 1;\n      break;\n    }\n  }\n\n  return meta;\n}\n","import { Analysis } from '..';\n\nimport { parseTAInstruments } from './parseTAInstruments';\n\nexport function fromTAInstruments(text) {\n  let analysis = new Analysis();\n  let parsed = parseTAInstruments(text);\n\n  analysis.pushSpectrum(\n    {\n      x: {\n        data: parsed.data.temperature,\n        type: 'dependent',\n        label: 'Program temperature [C]',\n      },\n      y: {\n        data: parsed.data.weight,\n        type: 'dependent',\n        label: 'Weight [mg]',\n      },\n      t: {\n        data: parsed.data.time,\n        type: 'independent',\n        label: 'Time [s]',\n      },\n    },\n    { dataType: 'TGA', title: parsed.meta.sampleName, meta: parsed.meta },\n  );\n\n  return analysis;\n}\n"],"names":["AnalysesManager","constructor","analyses","addAnalysis","analysis","index","getAnalysisIndex","id","undefined","push","getAnalyses","options","ids","includes","removeAnalysis","splice","i","length","isNaN","toString","Object","prototype","isAnyArray","object","call","endsWith","max","input","isArray","TypeError","maxValue","min","minValue","a","d","e","f","g","h","j","c","b","_ref","module","exports","window","median","quickSelectMedian","slice","xAdd","array1","array2","isConstant","constant","Array","Error","Number","array3","xMultiply","Float64Array","xDivide","xIsMonotone","array","toStr","isArguments","value","str","isArgs","callee","keysShim","keys","has","hasOwnProperty","require$$0","isEnumerable","propertyIsEnumerable","hasDontEnumBug","hasProtoEnumBug","dontEnums","equalsConstructorPrototype","o","ctor","excludedKeys","$applicationCache","$console","$external","$frame","$frameElement","$frames","$innerHeight","$innerWidth","$onmozfullscreenchange","$onmozfullscreenerror","$outerHeight","$outerWidth","$pageXOffset","$pageYOffset","$parent","$scrollLeft","$scrollTop","$scrollX","$scrollY","$self","$webkitIndexedDB","$webkitStorageInfo","$window","hasAutomationEqualityBug","k","equalsConstructorPrototypeIfNotBuggy","isObject","isFunction","isString","theKeys","skipProto","String","name","skipConstructor","origKeys","originalKeys","shim","shimObjectKeys","keysWorksWithArguments","args","arguments","getKeys","typedArrays","createTypedArrayFcns","objectKeys","len","key","Function","global","factory","this","ascending","NaN","bisector","compare","ascendingComparator","left","x","lo","hi","mid","right","ascendingBisect","bisectRight","bisectLeft","descending","number$1","variance","n","m","s","deviation","v","Math","sqrt","extent","identity","range","start","stop","step","ceil","e10","e5","e2","ticks","count","tickStep","floor","step0","abs","step1","pow","log","LN10","error","sturges","values","LN2","number","histogram","domain","threshold","data","xz","x0","x1","tz","shift","pop","bins","bin","_","thresholds","map","quantile","p","freedmanDiaconis","sort","scott","mean","numbers","merge","arrays","merged","pairs","permute","indexes","permutes","scan","xi","xj","shuffle","i0","i1","t","random","sum","transpose","matrix","row","zip","version","bisect","thresholdFreedmanDiaconis","thresholdScott","thresholdSturges","xSubtract","sumValue","norm","_options$algorithm","algorithm","_options$sumValue","_options$maxValue","output","toLowerCase","absoluteSumValue","absoluteSum","currentMaxValue","factor","_i","sumFactor","_i2","concat","rescale","currentMin","currentMax","RangeError","_options$min","autoMinMax","_options$max","_typeof","obj","Symbol","iterator","sequentialFill","_options","_options$from","from","_options$to","to","_options$size","size","normalize","zones","NEGATIVE_INFINITY","POSITIVE_INFINITY","JSON","parse","stringify","zone","forEach","filter","currentZone","result","invert","exclusions","exclusion","nextExclusion","zonesWithPoints","numberOfPoints","totalSize","reduce","previous","current","unitsPerPoint","currentTotal","round","integral","slope","intercept","equallySpacedSmooth","y","xLength","halfStep","initialOriginalStep","lastOriginalStep","previousX","MIN_VALUE","previousY","nextX","nextY","currentValue","sumAtMin","sumAtMax","getSlope","y0","y1","add","main","equallySpacedSlot","lastStep","MAX_VALUE","frontOutsideSpectra","backOutsideSpectra","currentPoints","equallySpaced","arrayXY","reverse","variant","xResult","yResult","zoneResult","processZone","getZones","currentFrom","filterX","points","currentZoneIndex","newX","newY","position","checkRowIndex","outer","rows","checkColumnIndex","columns","checkRowVector","vector","to1DArray","checkColumnVector","checkIndices","rowIndices","columnIndices","checkRowIndices","column","checkColumnIndices","rowOut","some","r","columnOut","checkRange","startRow","endRow","startColumn","endColumn","checkNumber","newArray","sumByRow","get","sumByColumn","sumAll","productByRow","productByColumn","productAll","varianceByRow","unbiased","cols","sum1","sum2","varianceByColumn","varianceAll","centerByRow","set","centerByColumn","centerAll","getScaleByRow","scale","scaleByRow","getScaleByColumn","scaleByColumn","getScaleAll","divider","scaleAll","inspectMatrix","indent","repeat","indentData","inspectData","maxRows","maxColumns","maxNumSize","maxI","maxJ","line","formatNumber","join","num","numStr","padEnd","precise","toPrecision","exponential","toExponential","eIndex","indexOf","substring","installMathOperations","AbstractMatrix","Matrix","addS","addM","checkMatrix","newMatrix","sub","subS","subM","subtract","subtractS","subtractM","mul","mulS","mulM","multiply","multiplyS","multiplyM","div","divS","divM","divide","divideS","divideM","mod","modS","modM","modulus","modulusS","modulusM","and","andS","andM","or","orS","orM","xor","xorS","xorM","leftShift","leftShiftS","leftShiftM","signPropagatingRightShift","signPropagatingRightShiftS","signPropagatingRightShiftM","rightShift","rightShiftS","rightShiftM","zeroFillRightShift","zeroFillRightShiftS","zeroFillRightShiftM","not","acos","acosh","asin","asinh","atan","atanh","cbrt","clz32","cos","cosh","exp","expm1","fround","log1p","log10","log2","sign","sin","sinh","tan","tanh","trunc","arg0","powS","powM","from1DArray","newRows","newColumns","newData","rowVector","columnVector","zeros","ones","fill","rand","randInt","isInteger","interval","eye","diag","l","matrix1","matrix2","isMatrix","klass","apply","callback","to2DArray","copy","toJSON","isRowVector","isColumnVector","isVector","isSquare","isSymmetric","isEchelonForm","previousColumn","checked","isReducedEchelonForm","echelonForm","clone","iMax","swapRows","tmp","reducedEchelonForm","maxRow","pivot","setSubMatrix","neg","getRow","getRowVector","setRow","row1","row2","temp","getColumn","getColumnVector","setColumn","swapColumns","column1","column2","addRowVector","subRowVector","mulRowVector","divRowVector","addColumnVector","subColumnVector","mulColumnVector","divColumnVector","mulRow","mulColumn","maxIndex","idx","minIndex","maxRowIndex","minRow","minRowIndex","maxColumn","maxColumnIndex","minColumn","minColumnIndex","type","cumulativeSum","dot","vector2","vector1","mmul","other","Bcolj","strassen2x2","a11","b11","a12","b12","a21","b21","a22","b22","m1","m2","m3","m4","m5","m6","m7","c00","c01","c10","c11","strassen3x3","a00","a01","a02","a10","a20","b00","b01","b02","b10","b20","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","m20","m21","m22","m23","c02","c12","c20","c21","c22","mmulStrassen","r1","c1","r2","c2","console","warn","embed","mat","resultat","blockMult","halfRows","parseInt","halfCols","subMatrix","scaleRows","isFinite","scaleColumns","flipRows","middle","first","last","flipColumns","kroneckerProduct","q","sortRows","compareFunction","compareNumbers","sortColumns","subMatrixRow","indices","subMatrixColumn","selection","rowIndex","columnIndex","trace","by","product","standardDeviation","center","for","randomInt","diagonal","negate","tensorProduct","nRows","nColumns","arrayData","removeRow","addRow","removeColumn","newRow","addColumn","BaseView","MatrixTransposeView","WrapperMatrix2D","LuDecomposition","lu","pivotVector","pivotSign","LUcolj","kmax","LU","isSingular","col","solve","X","determinant","lowerTriangularMatrix","upperTriangularMatrix","pivotPermutationVector","hypotenuse","QrDecomposition","qr","rdiag","nrm","QR","Rdiag","isFullRank","orthogonalMatrix","SingularValueDecomposition","computeLeftSingularVectors","computeRightSingularVectors","autoTranspose","wantu","Boolean","wantv","swapped","aux","nu","ni","U","V","work","si","nct","nrt","mrc","pp","eps","EPSILON","kase","alpha","ks","cs","sn","sp","spm1","epm1","sk","ek","Y","scols","Ls","rightSingularVectors","VL","vrows","urows","VLU","solveForDiagonal","inverse","vcols","ucols","condition","norm2","rank","tol","ii","leftSingularVectors","diagonalMatrix","useSVD","leftHandSide","rightHandSide","defaultOptions","arrayCase","cond","matrixCase","padArray","assign","factorial","windowSize","derivative","polynomial","pad","padValue","savitzkyGolay","C","ans","J","inic","Jtranspose","Jinv","det","minMax","arithmeticMean","geometricMean","logMean","lnsum","grandMean","means","samples","truncatedMean","percent","alreadySorted","harmonicMean","contraHarmonicMean","half","theMean","theVariance","standardError","robustMeanAndStdev","stdev","averageDeviations","quartiles","quart","q1","q2","q3","pooledStandardDeviation","pooledVariance","vari","mode","itemCount","itemArray","covariance","mean1","mean2","cov","skewness","s2","s3","dev","kurtosis","s4","entropy","weightedMean","weights","weightedStandardDeviation","weightedVariance","z","w","inPlace","standardize","standardDev","getNormalizedData","spectrum","variables","filters","processing","filterOptions","Stat","std","normed","process","kind","isFiniteImpl","isNumber","uniq","strings","seen","item","compareArray","target","properties","mulSafe","decimals","arg","getFractional","divSafe","den","invDen","val","QtyError","err","create","message","stack","throwIncompatibleUnits","UNITS","PI","BASE_UNITS","UNITY","UNITY_ARRAY","validateUnitDefinition","unitDef","definition","scalar","numerator","denominator","unit","PREFIX_VALUES","PREFIX_MAP","UNIT_VALUES","UNIT_MAP","OUTPUT_MAP","getUnits","units","unitKeys","substr","getKinds","getAliases","unitName","SIGNATURE_VECTOR","unitSignature","signature","unitSignatureVector","isBase","toBase","SIGN","INTEGER","SIGNED_INTEGER","FRACTION","FLOAT","EXPONENT","SCI_NUMBER","SIGNED_NUMBER","QTY_STRING","QTY_STRING_REGEX","RegExp","POWER_OP","SAFE_POWER","TOP_REGEX","BOTTOM_REGEX","trim","exec","scalarMatch","replace","parseFloat","top","bottom","nx","UNIT_TEST_REGEX","test","parseUnits","PREFIX_REGEX","UNIT_REGEX","BOUNDARY_REGEX","UNIT_MATCH","UNIT_MATCH_REGEX","parsedUnitsCache","cached","unitMatch","normalizedUnits","globalParse","isQty","Qty","initValue","initUnits","assertValidConstructorArgs","baseScalar","_conversionCache","isDefinitionObject","updateBaseScalar","isTemperature","base","KINDS","knownSignature","isDegrees","match","subtractTemperatures","lhs","rhs","lhsUnits","rhsConverted","dstDegrees","getDegreeUnits","subtractTempDegrees","deg","tempDegrees","addTempDegrees","toDegrees","src","dst","srcDegK","toDegK","dstUnits","dstScalar","qty","toTemp","toTempK","isCompatible","isInverse","baseUnitCache","toBaseUnits","toFloat","isUnitless","toPrec","precQuantity","precRoundedResult","swiftConverter","srcUnits","srcQty","dstQty","eq","convert","converter","op1","op2","numdenscale","cleanTerms","num1","den1","num2","den2","notUnity","combined","combineTerms","terms","direction","prefix","prefixValue","combinedPrefixValue","prop","compareTo","lt","lte","gt","gte","same","every","_isBase","NestedMap","childMap","defaultFormatter","formatter","_units","numIsUnity","denIsUnity","numUnits","stringifyUnits","denUnits","targetUnitsOrMaxDecimalsOrPrec","maxDecimals","targetUnits","out","outScalar","format","targetQty","stringifiedUnitsCache","stringified","isUnity","simplify","getOutputNames","unitNames","token","tokenNext","unitCounts","acc","unitCounter","unitCount","convertUnit","fromUnit","toUnit","getConvertedVariable","variable","newUnits","label","isMonotone","getXYSpectrum","spectra","selector","xUnits","yUnits","split","variableNames","converted","title","dataType","meta","Analysis","cache","pushSpectrum","standardizeData","normalization","getXLabel","getYLabel","xVariable","yVariable","GC_MS_FIELDS","complexChromatogram","chromatogram","times","series","ms","dimension","existingGCMSFields","convertMSFieldToLabel","pageValue","isMSField","canonicDataLabel","convertToFloatArray","stringArray","floatArray","fastParseXYData","yFactor","deltaX","isXYdata","currentData","currentX","firstX","currentY","firstY","endLine","ascii","charCodeAt","newLine","isDifference","isLastDifference","lastDifference","isDuplicate","inComment","lastValue","isNegative","inValue","skipFirstValue","decimalPosition","duplicate","ascii2","removeCommentRegExp","peakTableSplitRegExp","parsePeakTable","isPeaktable","parseXY","parseXYZ","lines","xFactor","logs","numberOfVariables","parseXYA","removeSymbolRegExp","isXYAdata","convertTo3DZ","minZ","maxZ","ySize","xSize","lastX","lastY","minX","maxX","minY","maxY","noise","getMedian","generateContourLines","zData","povarHeight0","povarHeight1","povarHeight2","povarHeight3","isOver0","isOver1","isOver2","isOver3","nbSubSpectra","nbPovars","pAx","pAy","pBx","pBy","xN","dx","yN","dy","iter","nbContourLevels","contourLevels","lineZValue","level","contourLevel","side","noiseMultiplier","zValue","iSubSpectra","subSpectra","subSpectraAfter","povar","segments","add2D","noContour","contourLines","FFT","release","date","_n","_bitrev","_cstb","core","init","_initArray","_makeBitReversalTable","_makeCosSinTable","fft1d","re","im","fft","ifft1d","bt1d","fft2d","tre","tim","x2","y2","ifft2d","inv","ik","wr","wi","xr","n4","Uint32Array","_paddingZero","n2","n8","n2p4","dc","ds","apis","bt","ifft","Infinity","l1","l2","N","theSum","theProduct","medians","modes","skew","kurt","standardDeviations","standardErrors","sqrtN","scatter","divisor","correlation","scores","zScores","cor","jj","resultRow","sourceRow","weightSum","arrayStat","weightedCovariance","s1","weightedScatter","gyromagneticRatio","postProcessingNMR","entriesFlat","observeFrequency","shiftOffsetVal","entry","ntuples","symbol","toUpperCase","nucleus","pageSymbolIndex","pageSymbol","ratio0","ratio1","ratio","profiling","action","time","Date","now","simpleChromatogram","intensity","postProcessing","newNtuples","twoD","wantXY","keepSpectra","prepareNtuplesDatatable","currentEntry","xIndex","yIndex","firstVariable","secondVariable","charAt","lowerCaseSymbol","vardim","nbPoints","varname","prepareSpectrum","ntuplesSeparator","Spectrum","keepRecordsRegExp","canonicDataLabels","canonicMetadataLabels","dynamicTyping","withoutXY","jcamp","entries","tmpResult","children","parentsStack","ldrs","ldr","dataLabel","dataValue","infos","datatable","parentEntry","info","dataClass","xType","shiftOffsetNum","vartype","varform","yType","page","sampleDescription","startsWith","parsedValue","flatten","fromJcamp","addJcamp","currentSpectrum","addStyle","serie","color","style","width","dash","COLORS","getJSGraph","colors","xLabel","yLabel","axes","unitWrapperBefore","unitWrapperAfter","flipped","display","getNormalizationAnnotations","boundary","annotations","ignore","annotation","strokeWidth","fillColor","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","creatorNtuples","owner","origin","varName","varType","varDim","minFct","maxFct","header","point","fromJSON","fromVariables","forceNtuples","jcampOptions","toJcamp","jcamps","getJcamp","parsePerkinElmer","text","weight","temperature","section","inMethodSteps","description","fields","string","fromPerkinElmer","self","document","postMessage","location","protocol","dynamicTypingFunction","transform","worker","WORKERS_SUPPORTED","URL","webkitURL","BLOB_URL","createObjectURL","Blob","Worker","onmessage","userStep","userChunk","chunk","userComplete","complete","userError","config","workerId","download","readable","read","on","File","stream","unparse","delimiter","BAD_DELIMITERS","quotes","skipEmptyLines","newline","quoteChar","escapeChar","u","RECORD_SEP","fromCharCode","UNIT_SEP","BYTE_ORDER_MARK","NODE_STREAM_INPUT","LocalChunkSize","RemoteChunkSize","DefaultDelimiter","Parser","ParserHandle","NetworkStreamer","FileStreamer","StringStreamer","ReadableStreamStreamer","jQuery","fn","each","attr","FileReader","files","file","inputElem","instanceConfig","extend","before","reason","_handle","_finished","_completed","_halted","_input","_baseIndex","_partialLine","_rowCount","_start","_nextChunk","isFirstChunk","_completeResults","errors","E","chunkSize","streamer","_config","parseChunk","beforeFirstChunk","paused","aborted","cursor","preview","results","WORKER_ID","finished","_sendError","_readChunk","_chunkLoaded","XMLHttpRequest","withCredentials","onload","onerror","_chunkError","open","downloadRequestBody","downloadRequestHeaders","setRequestHeader","send","status","readyState","responseText","getResponseHeader","lastIndexOf","statusText","webkitSlice","mozSlice","FileReaderSync","readAsText","encoding","pause","resume","_streamData","_streamEnd","_streamError","_checkIsFinished","_streamCleanUp","removeListener","abort","transformHeader","code","comments","successful","bestDelimiter","delimitersToGuess","getCharIndex","setTimeout","O","D","I","T","A","L","F","fastMode","M","R","S","nextDelim","quoteSearch","linebreak","truncated","terminate","fromPerkinElmerCSV","parsed","Papa","Time","parseTAInstruments","parseMeta","dataStart","balancePurgeFlow","samplePurgeFlow","splitTrim","methodSteps","instrument","instrumentSerial","sampleName","weightUnit","method","controls","furnaceType","operator","runSerial","procName","fromTAInstruments"],"mappings":"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"}